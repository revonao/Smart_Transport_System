!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=418)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window.Zondy=window.Zondy||{};i.Object=i.Object||{},i.Object.ContourAnalyse=i.Object.ContourAnalyse||{},i.Object.Theme=i.Object.Theme||{},i.Service=i.Service||{},i.Enum=i.Enum||{},i.Enum.Net=i.Enum.Net||{},i.Enum.Theme=i.Enum.Theme||{},i.Enum.Map=i.Enum.Map||{},i.Catalog=i.Catalog||{},i.Util=i.Util||{},i.CRS=i.CRS||{},i.Map=i.Map||{},i.xsd=i.xsd||{},i.XLink=i.XLink||{},i.extent=i.extent||{},i.xml=i.xml||{},i.array=i.array||{},i.string=i.string||{},i.LevelRenderer=i.LevelRenderer||{},i.LevelRenderer.Tool=i.LevelRenderer.Tool||{},i.LevelRenderer.Animation=i.LevelRenderer.Animation||{},i.Feature=i.Feature||{},i.Feature.ShapeParameters=i.Feature.ShapeParameters||{},i.Geometry=i.Geometry||{},i.Client=i.Client||{},i.Source=i.Source||{},i.GeomInteraction=i.GeomInteraction||{},i.Format=i.Format||{},i.Control=i.Control||{},i.OGC=i.OGC||{},e.Zondy=i},function(t,e,r){"use strict";r.r(e),r.d(e,"boundingExtent",function(){return a}),r.d(e,"buffer",function(){return s}),r.d(e,"clone",function(){return l}),r.d(e,"closestSquaredDistanceXY",function(){return u}),r.d(e,"containsCoordinate",function(){return c}),r.d(e,"containsExtent",function(){return h}),r.d(e,"containsXY",function(){return d}),r.d(e,"coordinateRelationship",function(){return p}),r.d(e,"createEmpty",function(){return f}),r.d(e,"createOrUpdate",function(){return g}),r.d(e,"createOrUpdateEmpty",function(){return y}),r.d(e,"createOrUpdateFromCoordinate",function(){return v}),r.d(e,"createOrUpdateFromCoordinates",function(){return m}),r.d(e,"createOrUpdateFromFlatCoordinates",function(){return _}),r.d(e,"createOrUpdateFromRings",function(){return O}),r.d(e,"equals",function(){return b}),r.d(e,"extend",function(){return S}),r.d(e,"extendCoordinate",function(){return T}),r.d(e,"extendCoordinates",function(){return E}),r.d(e,"extendFlatCoordinates",function(){return C}),r.d(e,"extendRings",function(){return x}),r.d(e,"extendXY",function(){return j}),r.d(e,"forEachCorner",function(){return P}),r.d(e,"getArea",function(){return I}),r.d(e,"getBottomLeft",function(){return R}),r.d(e,"getBottomRight",function(){return L}),r.d(e,"getCenter",function(){return w}),r.d(e,"getCorner",function(){return A}),r.d(e,"getEnlargedArea",function(){return M}),r.d(e,"getForViewAndSize",function(){return F}),r.d(e,"getHeight",function(){return N}),r.d(e,"getIntersectionArea",function(){return D}),r.d(e,"getIntersection",function(){return k}),r.d(e,"getMargin",function(){return G}),r.d(e,"getSize",function(){return U}),r.d(e,"getTopLeft",function(){return B}),r.d(e,"getTopRight",function(){return V}),r.d(e,"getWidth",function(){return Z}),r.d(e,"intersects",function(){return z}),r.d(e,"isEmpty",function(){return W}),r.d(e,"returnOrUpdate",function(){return Y}),r.d(e,"scaleFromCenter",function(){return X}),r.d(e,"intersectsSegment",function(){return H}),r.d(e,"applyTransform",function(){return q});var i=r(15),n=r(275),o=r(276);function a(t){for(var e=f(),r=0,i=t.length;r<i;++r)T(e,t[r]);return e}function s(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function u(t,e,r){var i,n;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(n=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*n}function c(t,e){return d(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function p(t,e){var r=t[0],i=t[1],n=t[2],a=t[3],s=e[0],l=e[1],u=o.default.UNKNOWN;return s<r?u|=o.default.LEFT:s>n&&(u|=o.default.RIGHT),l<i?u|=o.default.BELOW:l>a&&(u|=o.default.ABOVE),u===o.default.UNKNOWN&&(u=o.default.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,r,i,n){return n?(n[0]=t,n[1]=e,n[2]=r,n[3]=i,n):[t,e,r,i]}function y(t){return g(1/0,1/0,-1/0,-1/0,t)}function v(t,e){var r=t[0],i=t[1];return g(r,i,r,i,e)}function m(t,e){return E(y(e),t)}function _(t,e,r,i,n){return C(y(n),t,e,r,i)}function O(t,e){return x(y(e),t)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function S(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function T(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var r=0,i=e.length;r<i;++r)T(t,e[r]);return t}function C(t,e,r,i,n){for(;r<i;r+=n)j(t,e[r],e[r+1]);return t}function x(t,e){for(var r=0,i=e.length;r<i;++r)E(t,e[r]);return t}function j(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function P(t,e,r){var i;return(i=e.call(r,R(t)))?i:(i=e.call(r,L(t)))?i:(i=e.call(r,V(t)))?i:(i=e.call(r,B(t)))||!1}function I(t){var e=0;return W(t)||(e=Z(t)*N(t)),e}function R(t){return[t[0],t[1]]}function L(t){return[t[2],t[1]]}function w(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function A(t,e){var r;return e===n.default.BOTTOM_LEFT?r=R(t):e===n.default.BOTTOM_RIGHT?r=L(t):e===n.default.TOP_LEFT?r=B(t):e===n.default.TOP_RIGHT?r=V(t):Object(i.assert)(!1,13),r}function M(t,e){var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-i)}function F(t,e,r,i,n){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(r),l=Math.sin(r),u=o*s,c=o*l,h=a*s,d=a*l,p=t[0],f=t[1],y=p-u+d,v=p-u-d,m=p+u-d,_=p+u+d,O=f-c-h,b=f-c+h,S=f+c+h,T=f+c-h;return g(Math.min(y,v,m,_),Math.min(O,b,S,T),Math.max(y,v,m,_),Math.max(O,b,S,T),n)}function N(t){return t[3]-t[1]}function D(t,e){return I(k(t,e))}function k(t,e,r){var i=r||[1/0,1/0,-1/0,-1/0];return z(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):y(i),i}function G(t){return Z(t)+N(t)}function U(t){return[t[2]-t[0],t[3]-t[1]]}function B(t){return[t[0],t[3]]}function V(t){return[t[2],t[3]]}function Z(t){return t[2]-t[0]}function z(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function W(t){return t[2]<t[0]||t[3]<t[1]}function Y(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function X(t,e){var r=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=i,t[3]+=i}function H(t,e,r){var i=!1,n=p(t,e),a=p(t,r);if(n===o.default.INTERSECTING||a===o.default.INTERSECTING)i=!0;else{var s,l,u=t[0],c=t[1],h=t[2],d=t[3],f=e[0],g=e[1],y=r[0],v=r[1],m=(v-g)/(y-f);a&o.default.ABOVE&&!(n&o.default.ABOVE)&&(i=(s=y-(v-d)/m)>=u&&s<=h),i||!(a&o.default.RIGHT)||n&o.default.RIGHT||(i=(l=v-(y-h)*m)>=c&&l<=d),i||!(a&o.default.BELOW)||n&o.default.BELOW||(i=(s=y-(v-c)/m)>=u&&s<=h),i||!(a&o.default.LEFT)||n&o.default.LEFT||(i=(l=v-(y-u)*m)>=c&&l<=d)}return i}function q(t,e,r){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,r){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],r)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){t.exports={default:r(543),__esModule:!0}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(85));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,r){"use strict";e.__esModule=!0;var i=a(r(545)),n=a(r(549)),o=a(r(85));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=exports.mixin=exports.merge=exports.DeepMerge=exports.ChineseToUtf8=exports.getTopAnalysisResult=exports.bindAsEventListener=exports.bind=exports.newGuid=exports.cloneObject=exports.copyAttributesWithClip=exports.copyAttributes=exports.transformResult=exports.toJSON=exports.isInTheSameDomain=exports.supportCanvas=exports.isSupportCanvas=exports.getBrowser=exports.Browser=exports.IS_GECKO=exports.getParameters=exports.urlAppend=exports.getWFParameterString=exports.getParameterString=exports.applyDefaults=exports.modifyDOMElement=exports.indexOf=exports.removeItem=exports.isElement=exports.getElement=exports.reset=exports.copyExcluce=exports.copy=exports.extendDeep=exports.isArray=exports.extend=void 0;var _defineProperty=__webpack_require__(242),_defineProperty2=_interopRequireDefault(_defineProperty),_getOwnPropertyDescriptor=__webpack_require__(342),_getOwnPropertyDescriptor2=_interopRequireDefault(_getOwnPropertyDescriptor),_getOwnPropertySymbols=__webpack_require__(518),_getOwnPropertySymbols2=_interopRequireDefault(_getOwnPropertySymbols),_getOwnPropertyNames=__webpack_require__(352),_getOwnPropertyNames2=_interopRequireDefault(_getOwnPropertyNames),_classCallCheck2=__webpack_require__(2),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_typeof2=__webpack_require__(85),_typeof3=_interopRequireDefault(_typeof2),_Base=__webpack_require__(0);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var extend=function(t,e){if(t=t||{},e){for(var r in e){var i=e[r];void 0!==i&&(t[r]=i)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&(t.toString=e.toString)}return t},isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},extendDeep=function t(e,r){var i,n=Object.prototype.toString;for(i in e=e||{},r)r.hasOwnProperty(i)&&("object"===(0,_typeof3.default)(r[i])?("[object Null]"!==n.call(e[i])&&"[object Undefined]"!==n.call(e[i])||(e[i]="[object Array]"===n.call(r[i])?[]:{}),t(e[i],r[i])):e[i]=r[i],""!==r[i]&&null!==r[i]||(e[i]=r[i]));return e},copy=function(t,e){var r;if(t=t||{},e)for(var i in t)void 0!==(r=e[i])&&(t[i]=r)},copyExcluce=function(t,e,r){var i;if(t=t||{},e)for(var n in e)void 0!==(i=e[n])&&"function"!=typeof i&&r.indexOf(n)<0&&(t[n]=i)},reset=function(t){for(var e in t=t||{})if(t.hasOwnProperty(e)){if("object"===(0,_typeof3.default)(t[e])&&t[e]instanceof Array){for(var r in t[e])t[e][r].destroy&&t[e][r].destroy();t[e].length=0}else"object"===(0,_typeof3.default)(t[e])&&t[e]instanceof Object&&t[e].destroy&&t[e].destroy();t[e]=null}},getElement=function(){for(var t=[],e=0,r=arguments.length;e<r;e++){var i=arguments[e];if("string"==typeof i&&(i=document.getElementById(i)),1===arguments.length)return i;t.push(i)}return t},isElement=function(t){return!(!t||1!==t.nodeType)},removeItem=function(t,e){for(var r=t.length-1;r>=0;r--)t[r]===e&&t.splice(r,1);return t},indexOf=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},modifyDOMElement=function(t,e,r,i,n,o,a,s){e&&(t.id=e),r&&(t.style.left=r.x+"px",t.style.top=r.y+"px"),i&&(t.style.width=i.w+"px",t.style.height=i.h+"px"),n&&(t.style.position=n),o&&(t.style.border=o),a&&(t.style.overflow=a),parseFloat(s)>=0&&parseFloat(s)<1?(t.style.filter="alpha(opacity="+100*s+")",t.style.opacity=s):1===parseFloat(s)&&(t.style.filter="",t.style.opacity="")},applyDefaults=function(t,e){t=t||{};var r="function"==typeof window.Event&&e instanceof window.Event;for(var i in e)(void 0===t[i]||!r&&e.hasOwnProperty&&e.hasOwnProperty(i)&&!t.hasOwnProperty(i))&&(t[i]=e[i]);return!r&&e&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&!t.hasOwnProperty("toString")&&(t.toString=e.toString),t},getParameterString=function(t){var e=[];for(var r in t){var i=t[r];if(null!=i&&"function"!=typeof i){var n;if("object"===(void 0===i?"undefined":(0,_typeof3.default)(i))&&i.constructor===Array){for(var o,a=[],s=0,l=i.length;s<l;s++)o=i[s],a.push(encodeURIComponent(null===o||void 0===o?"":o));n=a.join(",")}else n=encodeURIComponent(i);e.push(encodeURIComponent(r)+"="+n)}}return e.join("&")},getWFParameterString=function(t){var e=[];for(var r in t){var i=t[r];if(null!=i&&"function"!=typeof i){var n;if("object"===(void 0===i?"undefined":(0,_typeof3.default)(i))&&i.constructor===Array){for(var o,a=[],s=0,l=i.length;s<l;s++)o=i[s],a.push(encodeURIComponent(null===o||void 0===o?"":o));n=a.join(",")}else n=encodeURIComponent(i);e.push(encodeURIComponent(r)+":"+n)}}return e.join(";")},urlAppend=function(t,e){var r=t;if(e){var i=(t+" ").split(/[?&]/);r+=" "===i.pop()?e:i.length?"&"+e:"?"+e}return r},getParameters=function(t){var e="";if((t=null===t||void 0===t?window.location.href:t).indexOf("?")>-1){var r=t.indexOf("?")+1;t.indexOf("#");var i=t.indexOf("#")>-1?t.indexOf("#"):t.length;e=t.substring(r,i)}for(var n={},o=e.split(/[&;]/),a=0,s=o.length;a<s;++a){var l=o[a].split("=");if(l[0]){var u=l[0];try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}var c=(l[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(t){c=unescape(c)}1==(c=c.split(",")).length&&(c=c[0]),n[u]=c}}return n},IS_GECKO=function(){var t=navigator.userAgent.toLowerCase();return-1===t.indexOf("webkit")&&-1!==t.indexOf("gecko")}(),Browser=function(){var t,e="",r="",i="pc",n=navigator.userAgent.toLowerCase();return n.indexOf("msie")>-1||n.indexOf("trident")>-1&&n.indexOf("rv")>-1?(e="msie",t=n.match(/msie ([\d.]+)/)||n.match(/rv:([\d.]+)/)):n.indexOf("chrome")>-1?(e="chrome",t=n.match(/chrome\/([\d.]+)/)):n.indexOf("firefox")>-1?(e="firefox",t=n.match(/firefox\/([\d.]+)/)):n.indexOf("opera")>-1?(e="opera",t=n.match(/version\/([\d.]+)/)):n.indexOf("safari")>-1&&(e="safari",t=n.match(/version\/([\d.]+)/)),r=t?t[1]:"",n.indexOf("ipad")>-1||n.indexOf("ipod")>-1||n.indexOf("iphone")>-1?i="apple":n.indexOf("android")>-1&&(r=(t=n.match(/version\/([\d.]+)/))?t[1]:"",i="android"),{name:e,version:r,device:i}}(),getBrowser=function(){return Browser},isSupportCanvas=function(){var t=!0,e=getBrowser();return document.createElement("canvas").getContext?("firefox"===e.name&&parseFloat(e.version)<5&&(t=!1),"safari"===e.name&&parseFloat(e.version)<4&&(t=!1),"opera"===e.name&&parseFloat(e.version)<10&&(t=!1),"msie"===e.name&&parseFloat(e.version)<9&&(t=!1)):t=!1,t}(),supportCanvas=function(){return isSupportCanvas},isInTheSameDomain=function(t){if(!t)return!0;var e=t.indexOf("//"),r=document.location.toString(),i=r.indexOf("//");if(-1===e)return!0;var n,o=n=t.substring(0,e),a=r.substring(i+2);i=a.indexOf("/");var s=a.indexOf(":"),l=a.substring(0,i),u=document.location.protocol;if(-1!==s||(l+=":"+("http:"===u.toLowerCase()?80:443)),u.toLowerCase()!==o.toLowerCase())return!1;var c=(o=t.substring(e+2)).indexOf(":");e=o.indexOf("/");var h,d=o.substring(0,e);return-1!==c?h=o.substring(0,c):(h=o.substring(0,e),d+=":"+("http:"===n.toLowerCase()?80:443)),h===document.domain&&d===l},toJSON=function t(e){var r=e;if(null==r)return null;switch(r.constructor){case String:return r=(r=(r=(r=(r=(r=(r='"'+r.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var i=[],n=0,o=r.length;n<o;n++)i.push(t(r[n]));return"["+i.join(",")+"]";case Number:return isFinite(r)?String(r):null;case Boolean:return String(r);case Date:return"{'__type':\"System.DateTime\",'Year':"+r.getFullYear()+",'Month':"+(r.getMonth()+1)+",'Day':"+r.getDate()+",'Hour':"+r.getHours()+",'Minute':"+r.getMinutes()+",'Second':"+r.getSeconds()+",'Millisecond':"+r.getMilliseconds()+",'TimezoneOffset':"+r.getTimezoneOffset()+"}";default:if("object"===(void 0===r?"undefined":(0,_typeof3.default)(r))){if(r.length){for(i=[],n=0,o=r.length;n<o;n++)i.push(t(r[n]));return"["+i.join(",")+"]"}var a=[];for(var s in r)"function"!=typeof r[s]&&"CLASS_NAME"!==s&&a.push("'"+s+"':"+t(r[s]));return a.length>0?"{"+a.join(",")+"}":"{}"}return r.toString()}},transformResult=function(t){return t.responseText&&"string"==typeof t.responseText&&(t=JSON.parse(t.responseText)),t},copyAttributes=function(t,e){if(t=t||{},e)for(var r in e){var i=e[r];void 0!==i&&"CLASS_NAME"!==r&&"function"!=typeof i&&(t[r]=i)}return t},copyAttributesWithClip=function(t,e,r){if(t=t||{},e)for(var i in e){var n=!1;if(r&&r.length)for(var o=0,a=r.length;o<a;o++)if(i===r[o]){n=!0;break}if(!0!==n){var s=e[i];void 0!==s&&"CLASS_NAME"!==i&&"function"!=typeof s&&(t[i]=s)}}return t},cloneObject=function t(e){if(null===e||"object"!==(void 0===e?"undefined":(0,_typeof3.default)(e)))return e;if(e instanceof Date)return(r=new Date).setTime(e.getTime()),r;if(e instanceof Array)return r=e.slice(0);if(e instanceof Object){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")},newGuid=function(){for(var t="",e=1;e<=32;e++){t+=Math.floor(16*Math.random()).toString(16),8!=e&&12!=e&&16!=e&&20!=e||(t+="-")}return t},bind=function(t,e){var r=Array.prototype.slice.apply(arguments,[2]);return function(){var i=r.concat(Array.prototype.slice.apply(arguments,[0]));return t.apply(e,i)}},bindAsEventListener=function(t,e){return function(r){return t.call(e,r||window.event)}},getTopAnalysisResult=function(t){switch(t.value){case 0:return"Intersect";case 1:return"Disjoin";case 2:return"Include";case 3:return"Adjacent";default:return"Unknown"}},ChineseToUtf8=function(t){return t.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g,function(t){return EncodeUtf8(t)})},EncodeUtf8=function(t){var e=escape(t).split("%"),r="";""!=e[0]&&(r=e[0]);for(var i=1;i<e.length;i++)"u"==e[i].substring(0,1)?r+=Hex2Utf8(Str2Hex(e[i].substring(1,5))):r+="%"+e[i];return r},Str2Hex=function Str2Hex(s){for(var c="",n,ss="0123456789ABCDEF",digS="",i=0;i<s.length;i++)c=s.charAt(i),n=ss.indexOf(c),digS+=Dec2Dig(eval(n));return digS},Hex2Utf8=function Hex2Utf8(s){var retS="",tempS="",ss="";if(16==s.length){tempS="1110"+s.substring(0,4),tempS+="10"+s.substring(4,10),tempS+="10"+s.substring(10,16);for(var sss="0123456789ABCDEF",i=0;i<3;i++)retS+="%",ss=tempS.substring(8*i,8*(eval(i)+1)),retS+=sss.charAt(Dig2Dec(ss.substring(0,4))),retS+=sss.charAt(Dig2Dec(ss.substring(4,8)));return retS}return""},Dig2Dec=function Dig2Dec(s){var retV=0;if(4==s.length){for(var i=0;i<4;i++)retV+=eval(s.charAt(i))*Math.pow(2,3-i);return retV}return-1},Dec2Dig=function(t){for(var e="",r=0,i=0;i<4;i++)t>=(r=Math.pow(2,3-i))?(e+="1",t-=r):e+="0";return e},DeepMerge=function t(e,r){if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(r))for(var i in r)e[i]?e[i]=t(e[i],r[i]):e[i]=r[i];else e="[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(r)?e.concat(r):r;return e},mergeItem=function(t,e,r,i){e.hasOwnProperty(r)&&("object"!=(0,_typeof3.default)(t[r])||{"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1}[Object.prototype.toString.call(t[r])]?!i&&r in t||(t[r]=e[r]):merge(t[r],e[r],i))},merge=function(t,e,r){for(var i in e)mergeItem(t,e,i,r);return t},mixin=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var i=function t(r){(0,_classCallCheck3.default)(this,t);for(var i=0;i<e.length;i++)a(this,new e[i](r))},n=0;n<e.length;n++){var o=e[n];a(i,o),a(i.prototype,o.prototype),a(i.prototype,new o)}return i;function a(t,e){var r=(0,_getOwnPropertyNames2.default)(e);_getOwnPropertySymbols2.default&&(r=r.concat((0,_getOwnPropertySymbols2.default)(e)));for(var i=0;i<r.length;i++){var n=r[i];if("constructor"!==n&&"prototype"!==n&&"name"!==n&&"length"!==n){var o=(0,_getOwnPropertyDescriptor2.default)(e,n);window.ActiveXObject?(0,_defineProperty2.default)(t,n,o||{}):(0,_defineProperty2.default)(t,n,o)}}}},createCanvasContext2D=function(t,e){var r=document.createElement("CANVAS");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")};exports.extend=extend,exports.isArray=isArray,exports.extendDeep=extendDeep,exports.copy=copy,exports.copyExcluce=copyExcluce,exports.reset=reset,exports.getElement=getElement,exports.isElement=isElement,exports.removeItem=removeItem,exports.indexOf=indexOf,exports.modifyDOMElement=modifyDOMElement,exports.applyDefaults=applyDefaults,exports.getParameterString=getParameterString,exports.getWFParameterString=getWFParameterString,exports.urlAppend=urlAppend,exports.getParameters=getParameters,exports.IS_GECKO=IS_GECKO,exports.Browser=Browser,exports.getBrowser=getBrowser,exports.isSupportCanvas=isSupportCanvas,exports.supportCanvas=supportCanvas,exports.isInTheSameDomain=isInTheSameDomain,exports.toJSON=toJSON,exports.transformResult=transformResult,exports.copyAttributes=copyAttributes,exports.copyAttributesWithClip=copyAttributesWithClip,exports.cloneObject=cloneObject,exports.newGuid=newGuid,exports.bind=bind,exports.bindAsEventListener=bindAsEventListener,exports.getTopAnalysisResult=getTopAnalysisResult,exports.ChineseToUtf8=ChineseToUtf8,exports.DeepMerge=DeepMerge,exports.merge=merge,exports.mixin=mixin,exports.createCanvasContext2D=createCanvasContext2D,_Base.Zondy.Util.extend=extend,_Base.Zondy.Util.isArray=isArray,_Base.Zondy.Util.extendDeep=extendDeep,_Base.Zondy.Util.copy=copy,_Base.Zondy.Util.copyExcluce=copyExcluce,_Base.Zondy.Util.reset=reset,_Base.Zondy.Util.getElement=getElement,_Base.Zondy.Util.isElement=isElement,_Base.Zondy.Util.removeItem=removeItem,_Base.Zondy.Util.indexOf=indexOf,_Base.Zondy.Util.modifyDOMElement=modifyDOMElement,_Base.Zondy.Util.applyDefaults=applyDefaults,_Base.Zondy.Util.getParameterString=getParameterString,_Base.Zondy.Util.getWFParameterString=getWFParameterString,_Base.Zondy.Util.urlAppend=urlAppend,_Base.Zondy.Util.getParameters=getParameters,_Base.Zondy.IS_GECKO=IS_GECKO,_Base.Zondy.Browser=Browser,_Base.Zondy.Util.getBrowser=getBrowser,_Base.Zondy.Util.isSupportCanvas=isSupportCanvas,_Base.Zondy.Util.supportCanvas=supportCanvas,_Base.Zondy.Util.isInTheSameDomain=isInTheSameDomain,_Base.Zondy.Util.toJSON=toJSON,_Base.Zondy.Util.transformResult=transformResult,_Base.Zondy.Util.copyAttributes=copyAttributes,_Base.Zondy.Util.copyAttributesWithClip=copyAttributesWithClip,_Base.Zondy.Util.cloneObject=cloneObject,_Base.Zondy.Util.newGuid=newGuid,_Base.Zondy.Util.bind=bind,_Base.Zondy.Util.bindAsEventListener=bindAsEventListener,_Base.Zondy.Util.getTopAnalysisResult=getTopAnalysisResult,_Base.Zondy.Util.ChineseToUtf8=ChineseToUtf8,_Base.Zondy.Util.DeepMerge=DeepMerge,_Base.Zondy.Util.merge=merge,_Base.Zondy.Util.mixin=mixin,_Base.Zondy.Util.createCanvasContext2D=createCanvasContext2D},function(t,e,r){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}r.r(e),r.d(e,"abstract",function(){return i}),r.d(e,"inherits",function(){return n}),r.d(e,"getUid",function(){return a}),r.d(e,"VERSION",function(){return s});var o=0;function a(t){return t.ol_uid||(t.ol_uid=String(++o))}var s="5.3.0"},function(t,e,r){"use strict";r.r(e),r.d(e,"bindListener",function(){return n}),r.d(e,"findListener",function(){return o}),r.d(e,"getListeners",function(){return a}),r.d(e,"listen",function(){return u}),r.d(e,"listenOnce",function(){return c}),r.d(e,"unlisten",function(){return h}),r.d(e,"unlistenByKey",function(){return d}),r.d(e,"unlistenAll",function(){return p});var i=r(9);function n(t){var e=function(e){var r=t.listener,i=t.bindTo||t.target;return t.callOnce&&d(t),r.call(i,e)};return t.boundListener=e,e}function o(t,e,r,i){for(var n,o=0,a=t.length;o<a;++o)if((n=t[o]).listener===e&&n.bindTo===r)return i&&(n.deleteIndex=o),n}function a(t,e){var r=s(t);return r?r[e]:void 0}function s(t,e){var r=t.ol_lm;return!r&&e&&(r=t.ol_lm={}),r}function l(t,e){var r=a(t,e);if(r){for(var n=0,o=r.length;n<o;++n)t.removeEventListener(e,r[n].boundListener),Object(i.clear)(r[n]);r.length=0;var l=s(t);l&&(delete l[e],0===Object.keys(l).length&&function(t){delete t.ol_lm}(t))}}function u(t,e,r,i,a){var l=s(t,!0),u=l[e];u||(u=l[e]=[]);var c=o(u,r,i,!1);return c?a||(c.callOnce=!1):(c={bindTo:i,callOnce:!!a,listener:r,target:t,type:e},t.addEventListener(e,n(c)),u.push(c)),c}function c(t,e,r,i){return u(t,e,r,i,!0)}function h(t,e,r,i){var n=a(t,e);if(n){var s=o(n,r,i,!0);s&&d(s)}}function d(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=a(t.target,t.type);if(e){var r="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==r&&e.splice(r,1),0===e.length&&l(t.target,t.type)}Object(i.clear)(t)}}function p(t){var e=s(t);if(e)for(var r in e)l(t,r)}},function(t,e,r){"use strict";r.r(e),r.d(e,"assign",function(){return i}),r.d(e,"clear",function(){return n}),r.d(e,"getValues",function(){return o}),r.d(e,"isEmpty",function(){return a});var i="function"==typeof Object.assign?Object.assign:function(t,e){var r=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var a=r[n];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])}return i};function n(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var r in t)e.push(t[r]);return e}function a(t){var e;for(e in t)return!1;return!e}},function(t,e,r){"use strict";r.r(e),e.default={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(242));e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(t,n.key,n)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}()},function(t,e,r){"use strict";r.r(e),r.d(e,"cloneTransform",function(){return d}),r.d(e,"identityTransform",function(){return p}),r.d(e,"addProjection",function(){return f}),r.d(e,"addProjections",function(){return g}),r.d(e,"get",function(){return y}),r.d(e,"getPointResolution",function(){return v}),r.d(e,"addEquivalentProjections",function(){return m}),r.d(e,"addEquivalentTransforms",function(){return _}),r.d(e,"clearAllProjections",function(){return O}),r.d(e,"createProjection",function(){return b}),r.d(e,"createTransformFromCoordinateTransform",function(){return S}),r.d(e,"addCoordinateTransforms",function(){return T}),r.d(e,"fromLonLat",function(){return E}),r.d(e,"toLonLat",function(){return C}),r.d(e,"equivalent",function(){return x}),r.d(e,"getTransformFromProjections",function(){return j}),r.d(e,"getTransform",function(){return P}),r.d(e,"transform",function(){return I}),r.d(e,"transformExtent",function(){return R}),r.d(e,"transformWithProjections",function(){return L}),r.d(e,"addCommon",function(){return w});var i=r(194),n=r(1),o=r(14),a=r(420),s=r(421),l=r(88);r.d(e,"Projection",function(){return l.default});var u=r(47);r.d(e,"METERS_PER_UNIT",function(){return u.METERS_PER_UNIT});var c=r(422),h=r(277);function d(t,e,r){var i;if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];i=e}else i=t.slice();return i}function p(t,e,r){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function f(t){c.add(t.getCode(),t),Object(h.add)(t,t,d)}function g(t){t.forEach(f)}function y(t){return"string"==typeof t?c.get(t):t||null}function v(t,e,r,n){var o,a=(t=y(t)).getPointResolutionFunc();if(a)o=a(e,r);else if(t.getUnits()==u.default.DEGREES&&!n||n==u.default.DEGREES)o=e;else{var s=j(t,y("EPSG:4326")),l=[r[0]-e/2,r[1],r[0]+e/2,r[1],r[0],r[1]-e/2,r[0],r[1]+e/2];l=s(l,l,2),o=(Object(i.getDistance)(l.slice(0,2),l.slice(2,4))+Object(i.getDistance)(l.slice(4,6),l.slice(6,8)))/2;var c=n?u.METERS_PER_UNIT[n]:t.getMetersPerUnit();void 0!==c&&(o/=c)}return o}function m(t){g(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(h.add)(e,t,d)})})}function _(t,e,r,i){t.forEach(function(t){e.forEach(function(e){Object(h.add)(t,e,r),Object(h.add)(e,t,i)})})}function O(){c.clear(),Object(h.clear)()}function b(t,e){return t?"string"==typeof t?y(t):t:y(e)}function S(t){return function(e,r,i){for(var n=e.length,o=void 0!==i?i:2,a=void 0!==r?r:new Array(n),s=0;s<n;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function T(t,e,r,i){var n=y(t),o=y(e);Object(h.add)(n,o,S(r)),Object(h.add)(o,n,S(i))}function E(t,e){return I(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function C(t,e){var r=I(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=r[0];return(i<-180||i>180)&&(r[0]=Object(o.modulo)(i+180,360)-180),r}function x(t,e){if(t===e)return!0;var r=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?r:j(t,e)===d&&r}function j(t,e){var r=t.getCode(),i=e.getCode(),n=Object(h.get)(r,i);return n||(n=p),n}function P(t,e){return j(y(t),y(e))}function I(t,e,r){return P(e,r)(t,void 0,t.length)}function R(t,e,r){var i=P(e,r);return Object(n.applyTransform)(t,i)}function L(t,e,r){return j(e,r)(t)}function w(){m(a.PROJECTIONS),m(s.PROJECTIONS),_(s.PROJECTIONS,a.PROJECTIONS,a.fromEPSG4326,a.toEPSG4326)}w()},function(t,e,r){"use strict";function i(t,e,r){for(var i,o,a=r||n,s=0,l=t.length,u=!1;s<l;)(o=+a(t[i=s+(l-s>>1)],e))<0?s=i+1:(l=i,u=!o);return u?s:~s}function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,r){var i,n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;if(r>0){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(r<0){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function s(t,e,r){for(;e<r;){var i=t[e];t[e]=t[r],t[r]=i,++e,--r}}function l(t,e){for(var r=Array.isArray(e)?e:[e],i=r.length,n=0;n<i;n++)t[t.length]=r[n]}function u(t,e){var r=t.indexOf(e),i=r>-1;return i&&t.splice(r,1),i}function c(t,e){for(var r,i=t.length>>>0,n=0;n<i;n++)if(e(r=t[n],n,t))return r;return null}function h(t,e){var r=t.length;if(r!==e.length)return!1;for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function d(t,e){var r,i=t.length,n=Array(t.length);for(r=0;r<i;r++)n[r]={index:r,value:t[r]};for(n.sort(function(t,r){return e(t.value,r.value)||t.index-r.index}),r=0;r<t.length;r++)t[r]=n[r].value}function p(t,e){var r;return!t.every(function(i,n){return r=n,!e(i,n,t)})?r:-1}function f(t,e,r){var i=e||n;return t.every(function(e,n){if(0===n)return!0;var o=i(t[n-1],e);return!(o>0||r&&0===o)})}r.r(e),r.d(e,"binarySearch",function(){return i}),r.d(e,"numberSafeCompareFunction",function(){return n}),r.d(e,"includes",function(){return o}),r.d(e,"linearFindNearest",function(){return a}),r.d(e,"reverseSubArray",function(){return s}),r.d(e,"extend",function(){return l}),r.d(e,"remove",function(){return u}),r.d(e,"find",function(){return c}),r.d(e,"equals",function(){return h}),r.d(e,"stableSort",function(){return d}),r.d(e,"findIndex",function(){return p}),r.d(e,"isSorted",function(){return f})},function(t,e,r){"use strict";r.r(e),r.d(e,"clamp",function(){return n}),r.d(e,"cosh",function(){return o}),r.d(e,"roundUpToPowerOfTwo",function(){return a}),r.d(e,"squaredSegmentDistance",function(){return s}),r.d(e,"squaredDistance",function(){return l}),r.d(e,"solveLinearSystem",function(){return u}),r.d(e,"toDegrees",function(){return c}),r.d(e,"toRadians",function(){return h}),r.d(e,"modulo",function(){return d}),r.d(e,"lerp",function(){return p});var i=r(15);function n(t,e,r){return Math.min(Math.max(t,e),r)}var o="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function a(t){return Object(i.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function s(t,e,r,i,n,o){var a=n-r,s=o-i;if(0!==a||0!==s){var u=((t-r)*a+(e-i)*s)/(a*a+s*s);u>1?(r=n,i=o):u>0&&(r+=a*u,i+=s*u)}return l(t,e,r,i)}function l(t,e,r,i){var n=r-t,o=i-e;return n*n+o*o}function u(t){for(var e=t.length,r=0;r<e;r++){for(var i=r,n=Math.abs(t[r][r]),o=r+1;o<e;o++){var a=Math.abs(t[o][r]);a>n&&(n=a,i=o)}if(0===n)return null;var s=t[i];t[i]=t[r],t[r]=s;for(var l=r+1;l<e;l++)for(var u=-t[l][r]/t[r][r],c=r;c<e+1;c++)r==c?t[l][c]=0:t[l][c]+=u*t[r][c]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*h[d]}return h}function c(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function d(t,e){var r=t%e;return r*e<0?r+e:r}function p(t,e,r){return t+r*(e-t)}},function(t,e,r){"use strict";r.r(e),r.d(e,"assert",function(){return n});var i=r(142);function n(t,e){if(!t)throw new i.default(e)}},function(t,e,r){"use strict";r.r(e),e.default={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,r){"use strict";r.r(e),r.d(e,"ONE",function(){return i}),r.d(e,"SRC_ALPHA",function(){return n}),r.d(e,"COLOR_ATTACHMENT0",function(){return o}),r.d(e,"COLOR_BUFFER_BIT",function(){return a}),r.d(e,"TRIANGLES",function(){return s}),r.d(e,"TRIANGLE_STRIP",function(){return l}),r.d(e,"ONE_MINUS_SRC_ALPHA",function(){return u}),r.d(e,"ARRAY_BUFFER",function(){return c}),r.d(e,"ELEMENT_ARRAY_BUFFER",function(){return h}),r.d(e,"STREAM_DRAW",function(){return d}),r.d(e,"STATIC_DRAW",function(){return p}),r.d(e,"DYNAMIC_DRAW",function(){return f}),r.d(e,"CULL_FACE",function(){return g}),r.d(e,"BLEND",function(){return y}),r.d(e,"STENCIL_TEST",function(){return v}),r.d(e,"DEPTH_TEST",function(){return m}),r.d(e,"SCISSOR_TEST",function(){return _}),r.d(e,"UNSIGNED_BYTE",function(){return O}),r.d(e,"UNSIGNED_SHORT",function(){return b}),r.d(e,"UNSIGNED_INT",function(){return S}),r.d(e,"FLOAT",function(){return T}),r.d(e,"RGBA",function(){return E}),r.d(e,"FRAGMENT_SHADER",function(){return C}),r.d(e,"VERTEX_SHADER",function(){return x}),r.d(e,"LINK_STATUS",function(){return j}),r.d(e,"LINEAR",function(){return P}),r.d(e,"TEXTURE_MAG_FILTER",function(){return I}),r.d(e,"TEXTURE_MIN_FILTER",function(){return R}),r.d(e,"TEXTURE_WRAP_S",function(){return L}),r.d(e,"TEXTURE_WRAP_T",function(){return w}),r.d(e,"TEXTURE_2D",function(){return A}),r.d(e,"TEXTURE0",function(){return M}),r.d(e,"CLAMP_TO_EDGE",function(){return F}),r.d(e,"COMPILE_STATUS",function(){return N}),r.d(e,"FRAMEBUFFER",function(){return D}),r.d(e,"getContext",function(){return G}),r.d(e,"DEBUG",function(){return V}),r.d(e,"HAS",function(){return Z}),r.d(e,"MAX_TEXTURE_SIZE",function(){return U}),r.d(e,"EXTENSIONS",function(){return B});var i=1,n=770,o=36064,a=16384,s=4,l=5,u=771,c=34962,h=34963,d=35040,p=35044,f=35048,g=2884,y=3042,v=2960,m=2929,_=3089,O=5121,b=5123,S=5125,T=5126,E=6408,C=35632,x=35633,j=35714,P=9729,I=10240,R=10241,L=10242,w=10243,A=3553,M=33984,F=33071,N=35713,D=36160,k=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function G(t,e){for(var r=k.length,i=0;i<r;++i)try{var n=t.getContext(k[i],e);if(n)return n}catch(t){}return null}var U,B,V=!0,Z=!1;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var z=G(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});z&&(Z=!0,U=z.getParameter(z.MAX_TEXTURE_SIZE),B=z.getSupportedExtensions())}catch(t){}},function(t,e,r){"use strict";function i(t,e){var r=document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function n(t){var e=t.offsetWidth,r=getComputedStyle(t);return e+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(t){var e=t.offsetHeight,r=getComputedStyle(t);return e+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function a(t,e){var r=e.parentNode;r&&r.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}r.r(e),r.d(e,"createCanvasContext2D",function(){return i}),r.d(e,"outerWidth",function(){return n}),r.d(e,"outerHeight",function(){return o}),r.d(e,"replaceNode",function(){return a}),r.d(e,"removeNode",function(){return s}),r.d(e,"removeChildren",function(){return l})},function(t,e,r){"use strict";r.r(e),r.d(e,"ObjectEvent",function(){return l}),r.d(e,"getChangeEventType",function(){return h});var i=r(7),n=r(114),o=r(97),a=r(21),s=r(9),l=function(t){function e(e,r,i){t.call(this,e),this.key=r,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),u=function(t){function e(e){t.call(this),Object(i.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(s.assign)({},this.values_)},e.prototype.notify=function(t,e){var r;r=h(t),this.dispatchEvent(new l(r,t,e)),r=n.default.PROPERTYCHANGE,this.dispatchEvent(new l(r,t,e))},e.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},e.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},e}(o.default),c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IgsServiceBase=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(380)),l=c(r(5)),u=r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);r=r||{};var o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,r));return o.CLASS_NAME="Zondy.IgsServiceBase",o}return(0,l.default)(e,t),(0,o.default)(e,[{key:"destroy",value:function(){(0,s.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"destroy",this).call(this);var t=this;t.events&&(t.events.un(t.eventListeners),t.events.listeners=null,t.events.destroy(),t.events=null,t.eventListeners=null)}},{key:"processAsync",value:function(t){this.request({method:t&&t.method?t.method:"GET",scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed,data:t&&t.data?t.data:null,headers:t&&t.headers?t.headers:null})}},{key:"serviceProcessCompleted",value:function(t){(t=(0,u.transformResult)(t)).succeed?this.events&&this.events.triggerEvent("processCompleted",{result:t}):this.events.triggerEvent("processFailed",{error:t})}}]),e}(r(381).CommonServiceBase);e.IgsServiceBase=h,Zondy.Service.IgsServiceBase=h},function(t,e,r){"use strict";r.r(e),r.d(e,"stopPropagation",function(){return n}),r.d(e,"preventDefault",function(){return o});var i=function(t){this.propagationStopped,this.type=t,this.target=null};function n(t){t.stopPropagation()}function o(t){t.preventDefault()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.default=i},function(t,e,r){"use strict";function i(){return!0}function n(){return!1}function o(){}r.r(e),r.d(e,"TRUE",function(){return i}),r.d(e,"FALSE",function(){return n}),r.d(e,"VOID",function(){return o})},function(t,e,r){"use strict";r.r(e),r.d(e,"create",function(){return o}),r.d(e,"reset",function(){return a}),r.d(e,"multiply",function(){return s}),r.d(e,"set",function(){return l}),r.d(e,"setFromArray",function(){return u}),r.d(e,"apply",function(){return c}),r.d(e,"rotate",function(){return h}),r.d(e,"scale",function(){return d}),r.d(e,"translate",function(){return p}),r.d(e,"compose",function(){return f}),r.d(e,"invert",function(){return g}),r.d(e,"determinant",function(){return y});var i=r(15),n=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return l(t,1,0,0,1,0,0)}function s(t,e){var r=t[0],i=t[1],n=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],h=e[3],d=e[4],p=e[5];return t[0]=r*l+n*u,t[1]=i*l+o*u,t[2]=r*c+n*h,t[3]=i*c+o*h,t[4]=r*d+n*p+a,t[5]=i*d+o*p+s,t}function l(t,e,r,i,n,o,a){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=o,t[5]=a,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function c(t,e){var r=e[0],i=e[1];return e[0]=t[0]*r+t[2]*i+t[4],e[1]=t[1]*r+t[3]*i+t[5],e}function h(t,e){var r=Math.cos(e),i=Math.sin(e);return s(t,l(n,r,i,-i,r,0,0))}function d(t,e,r){return s(t,l(n,e,0,0,r,0,0))}function p(t,e,r){return s(t,l(n,1,0,0,1,e,r))}function f(t,e,r,i,n,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=n*l,t[2]=-i*l,t[3]=n*u,t[4]=a*i*u-s*i*l+e,t[5]=a*n*l+s*n*u+r,t}function g(t){var e=y(t);Object(i.assert)(0!==e,32);var r=t[0],n=t[1],o=t[2],a=t[3],s=t[4],l=t[5];return t[0]=a/e,t[1]=-n/e,t[2]=-o/e,t[3]=r/e,t[4]=(o*l-a*s)/e,t[5]=-(r*l-n*s)/e,t}function y(t){return t[0]*t[3]-t[1]*t[2]}},function(t,e,r){t.exports={default:r(512),__esModule:!0}},function(t,e){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e,r){"use strict";r.r(e),r.d(e,"createStyleFunction",function(){return l});var i=r(15),n=r(8),o=r(10),a=r(19),s=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(n.listen)(this,Object(a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;this.setGeometry(r)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(n.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(n.listen)(t,o.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(n.unlisten)(this,Object(a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(n.listen)(this,Object(a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(a.default);function l(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(Object(i.assert)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=s},function(t,e,r){"use strict";r.r(e),r.d(e,"circular",function(){return S}),r.d(e,"fromExtent",function(){return T}),r.d(e,"fromCircle",function(){return E}),r.d(e,"makeRegular",function(){return C});var i=r(13),n=r(1),o=r(28),a=r(16),s=r(143),l=r(29),u=r(53),c=r(194),h=r(144),d=r(115),p=r(116),f=r(58),g=r(78),y=r(195),v=r(145),m=r(100),_=r(99),O=r(14),b=function(t){function e(e,r,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==r&&i?(this.setFlatCoordinates(r,e),this.ends_=i):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.containsXY=function(t,e){return Object(p.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(h.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(g.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(n.getCenter)(this.getExtent());this.flatInteriorPoint_=Object(y.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new l.default(this.getFlatInteriorPoint(),o.default.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.ends_,i=[],n=0,o=0,a=r.length;o<a;++o){var l=r[o],u=new s.default(e.slice(n,l),t);i.push(u),n=l}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,i),new e(r,o.default.XY,i)},e.prototype.getType=function(){return a.default.POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(f.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(u.default);function S(t,e,r,n){for(var a=r||32,s=[],l=0;l<a;++l)Object(i.extend)(s,Object(c.offset)(t,e,2*Math.PI*l/a,n));return s.push(s[0],s[1]),new b(s,o.default.XY,[s.length])}function T(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=[e,r,e,n,i,n,i,r,e,r];return new b(a,o.default.XY,[a.length])}function E(t,e,r){for(var i=e||32,n=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=n*(i+1),l=new Array(s),u=0;u<s;u+=n){l[u]=0,l[u+1]=0;for(var c=2;c<n;c++)l[u+c]=a[c]}var h=[l.length],d=new b(l,o,h);return C(d,a,t.getRadius(),r),d}function C(t,e,r,i){for(var n=t.getFlatCoordinates(),o=t.getStride(),a=n.length/o-1,s=i||0,l=0;l<=a;++l){var u=l*o,c=s+2*Object(O.modulo)(l,a)*Math.PI/a;n[u]=e[0]+r*Math.cos(c),n[u+1]=e[1]+r*Math.sin(c)}t.changed()}e.default=b},function(t,e,r){"use strict";r.r(e),e.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(16),o=r(53),a=r(58),s=r(14),l=function(t){function e(e,r){t.call(this),this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){var n=this.flatCoordinates,o=Object(s.squaredDistance)(t,e,n[0],n[1]);if(o<i){for(var a=this.stride,l=0;l<a;++l)r[l]=n[l];return r.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return n.default.POINT},e.prototype.intersectsExtent=function(t){return Object(i.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(28),a=r(16),s=r(53),l=r(115),u=r(58),c=r(78),h=r(197),d=r(145),p=r(279),f=r(278),g=r(99),y=function(t){function e(e,r){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?this.setCoordinates(e,r):this.setFlatCoordinates(r,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.forEachSegment=function(t){return Object(f.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM)return null;var r=void 0!==e&&e;return Object(h.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return Object(c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(h.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,o.default.XY)},e.prototype.getType=function(){return a.default.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=y},function(t,e,r){"use strict";r.r(e),r.d(e,"transformWithOptions",function(){return s});var i=r(9),n=r(7),o=r(12),a=function(){this.dataProjection=null,this.defaultFeatureProjection=null};function s(t,e,r){var i,n=r?Object(o.get)(r.featureProjection):null,a=r?Object(o.get)(r.dataProjection):null;if(i=n&&a&&!Object(o.equivalent)(n,a)?Array.isArray(t)?Object(o.transformExtent)(t,a,n):(e?t.clone():t).transform(e?n:a,e?a:n):t,e&&r&&void 0!==r.decimals&&!Array.isArray(i)){var s=Math.pow(10,r.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}a.prototype.getReadOptions=function(t,e){var r;return e&&(r={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(r)},a.prototype.adaptOptions=function(t){return Object(i.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},a.prototype.getLastExtent=function(){return null},a.prototype.getType=function(){return Object(n.abstract)()},a.prototype.readFeature=function(t,e){return Object(n.abstract)()},a.prototype.readFeatures=function(t,e){return Object(n.abstract)()},a.prototype.readGeometry=function(t,e){return Object(n.abstract)()},a.prototype.readProjection=function(t){return Object(n.abstract)()},a.prototype.writeFeature=function(t,e){return Object(n.abstract)()},a.prototype.writeFeatures=function(t,e){return Object(n.abstract)()},a.prototype.writeGeometry=function(t,e){return Object(n.abstract)()},e.default=a},function(t,e,r){"use strict";r.r(e),e.default={ANIMATING:0,INTERACTING:1}},function(t,e,r){"use strict";r.r(e),r.d(e,"centroid",function(){return s});var i=r(70),n=r(36),o=r(9),a=function(t){function e(e){var r=e||{};t.call(this,r),r.handleDownEvent&&(this.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(this.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(this.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(this.handleUpEvent=r.handleUpEvent),r.stopDown&&(this.stopDown=r.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==i.default.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==i.default.POINTERDOWN){var n=this.handleDownEvent(t);n&&t.preventDefault(),this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==i.default.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===i.default.POINTERDOWN||e===i.default.POINTERDRAG||e===i.default.POINTERUP}(t)){var e=t.pointerEvent,r=e.pointerId.toString();t.type==i.default.POINTERUP?delete this.trackedPointers_[r]:t.type==i.default.POINTERDOWN?this.trackedPointers_[r]=e:r in this.trackedPointers_&&(this.trackedPointers_[r]=e),this.targetPointers=Object(o.getValues)(this.trackedPointers_)}},e}(n.default);function s(t){for(var e=t.length,r=0,i=0,n=0;n<e;n++)r+=t[n].clientX,i+=t[n].clientY;return[r/e,i/e]}e.default=a},function(t,e,r){"use strict";r.r(e),r.d(e,"DOCUMENT",function(){return n}),r.d(e,"XML_SCHEMA_INSTANCE_URI",function(){return o}),r.d(e,"createElementNS",function(){return a}),r.d(e,"getAllTextContent",function(){return s}),r.d(e,"getAllTextContent_",function(){return l}),r.d(e,"isDocument",function(){return u}),r.d(e,"getAttributeNS",function(){return c}),r.d(e,"parse",function(){return h}),r.d(e,"makeArrayExtender",function(){return d}),r.d(e,"makeArrayPusher",function(){return p}),r.d(e,"makeReplacer",function(){return f}),r.d(e,"makeObjectPropertyPusher",function(){return g}),r.d(e,"makeObjectPropertySetter",function(){return y}),r.d(e,"makeChildAppender",function(){return v}),r.d(e,"makeArraySerializer",function(){return m}),r.d(e,"makeSimpleNodeFactory",function(){return _}),r.d(e,"OBJECT_PROPERTY_NODE_FACTORY",function(){return O}),r.d(e,"makeSequence",function(){return b}),r.d(e,"makeStructureNS",function(){return S}),r.d(e,"parseNode",function(){return T}),r.d(e,"pushParseAndPop",function(){return E}),r.d(e,"serialize",function(){return C}),r.d(e,"pushSerializeAndPop",function(){return x});var i=r(13),n=document.implementation.createDocument("","",null),o="http://www.w3.org/2001/XMLSchema-instance";function a(t,e){return n.createElementNS(t,e)}function s(t,e){return l(t,e,[]).join("")}function l(t,e,r){var i;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else for(i=t.firstChild;i;i=i.nextSibling)l(i,e,r);return r}function u(t){return"documentElement"in t}function c(t,e,r){return t.getAttributeNS(e,r)||""}function h(t){return(new DOMParser).parseFromString(t,"application/xml")}function d(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);if(void 0!==o){var a=n[n.length-1];Object(i.extend)(a,o)}}}function p(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);void 0!==n&&i[i.length-1].push(n)}}function f(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);void 0!==n&&(i[i.length-1]=n)}}function g(t,e,r){return function(i,n){var o=t.call(void 0!==r?r:this,i,n);if(void 0!==o){var a=n[n.length-1],s=void 0!==e?e:i.localName;(s in a?a[s]:a[s]=[]).push(o)}}}function y(t,e,r){return function(i,n){var o=t.call(void 0!==r?r:this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function v(t,e){return function(r,i,n){t.call(void 0!==e?e:this,r,i,n),n[n.length-1].node.appendChild(r)}}function m(t,e){var r,i;return function(e,n,o){if(void 0===r){r={};var a={};a[e.localName]=t,r[e.namespaceURI]=a,i=_(e.localName)}C(r,i,n,o)}}function _(t,e){var r=t;return function(t,i,n){var o=i[i.length-1].node,s=r;return void 0===s&&(s=n),a(void 0!==e?e:o.namespaceURI,s)}}var O=_();function b(t,e){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=t[e[n]];return i}function S(t,e,r){var i,n,o=void 0!==r?r:{};for(i=0,n=t.length;i<n;++i)o[t[i]]=e;return o}function T(t,e,r,i){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=t[n.namespaceURI];if(void 0!==o){var a=o[n.localName];void 0!==a&&a.call(i,n,r)}}}function E(t,e,r,i,n){return i.push(t),T(e,r,i,n),i.pop()}function C(t,e,r,i,n,o){for(var a,s,l=(void 0!==n?n:r).length,u=0;u<l;++u)void 0!==(a=r[u])&&void 0!==(s=e.call(void 0!==o?o:this,a,i,void 0!==n?n[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,i)}function x(t,e,r,i,n,o,a){return n.push(t),C(e,r,i,n,o,a),n.pop()}},function(t,e,r){"use strict";r.r(e),r.d(e,"pan",function(){return l}),r.d(e,"rotate",function(){return u}),r.d(e,"rotateWithoutConstraints",function(){return c}),r.d(e,"zoom",function(){return h}),r.d(e,"zoomByDelta",function(){return d}),r.d(e,"zoomWithoutConstraints",function(){return p});var i=r(19),n=r(61),o=r(206),a=r(14),s=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.default);function l(t,e,r){var i=t.getCenter();if(i){var o=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);r?t.animate({duration:r,easing:n.linear,center:o}):t.setCenter(o)}}function u(t,e,r,i){c(t,e=t.constrainRotation(e,0),r,i)}function c(t,e,r,i){if(void 0!==e){var o=t.getRotation(),a=t.getCenter();void 0!==o&&a&&i>0?t.animate({rotation:e,anchor:r,duration:i,easing:n.easeOut}):t.rotate(e,r)}}function h(t,e,r,i,n){p(t,e=t.constrainResolution(e,0,n),r,i)}function d(t,e,r,i){var n=t.getResolution(),o=t.constrainResolution(n,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(a.clamp)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(r&&void 0!==o&&o!==n){var l=t.getCenter(),u=t.calculateCenterZoom(o,r);u=t.constrainCenter(u),r=[(o*l[0]-n*u[0])/(o-n),(o*l[1]-n*u[1])/(o-n)]}p(t,o,r,i)}function p(t,e,r,i){if(e){var o=t.getResolution(),a=t.getCenter();if(void 0!==o&&a&&e!==o&&i)t.animate({resolution:e,anchor:r,duration:i,easing:n.easeOut});else{if(r){var s=t.calculateCenterZoom(e,r);t.setCenter(s)}t.setResolution(e)}}}e.default=s},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){"use strict";r.r(e),r.d(e,"FIREFOX",function(){return o}),r.d(e,"SAFARI",function(){return a}),r.d(e,"WEBKIT",function(){return s}),r.d(e,"MAC",function(){return l}),r.d(e,"DEVICE_PIXEL_RATIO",function(){return u}),r.d(e,"CANVAS_LINE_DASH",function(){return c}),r.d(e,"GEOLOCATION",function(){return h}),r.d(e,"TOUCH",function(){return d}),r.d(e,"POINTER",function(){return p}),r.d(e,"MSPOINTER",function(){return f});var i=r(17);r.d(e,"WEBGL",function(){return i.HAS});var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==n.indexOf("firefox"),a=-1!==n.indexOf("safari")&&-1==n.indexOf("chrom"),s=-1!==n.indexOf("webkit")&&-1==n.indexOf("edge"),l=-1!==n.indexOf("macintosh"),u=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),h="geolocation"in navigator,d="ontouchstart"in window,p="PointerEvent"in window,f=!!navigator.msPointerEnabled},function(t,e,r){"use strict";r.r(e),r.d(e,"add",function(){return o}),r.d(e,"closestOnCircle",function(){return a}),r.d(e,"closestOnSegment",function(){return s}),r.d(e,"createStringXY",function(){return l}),r.d(e,"degreesToStringHDMS",function(){return u}),r.d(e,"format",function(){return c}),r.d(e,"equals",function(){return h}),r.d(e,"rotate",function(){return d}),r.d(e,"scale",function(){return p}),r.d(e,"squaredDistance",function(){return f}),r.d(e,"distance",function(){return g}),r.d(e,"squaredDistanceToSegment",function(){return y}),r.d(e,"toStringHDMS",function(){return v}),r.d(e,"toStringXY",function(){return m});var i=r(14),n=r(146);function o(t,e){return t[0]+=e[0],t[1]+=e[1],t}function a(t,e){var r=e.getRadius(),i=e.getCenter(),n=i[0],o=i[1],a=t[0]-n,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[n+r*a/l,o+r*s/l]}function s(t,e){var r,i,n=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],h=s[1],d=c-l,p=h-u,f=0===d&&0===p?0:(d*(n-l)+p*(o-u))/(d*d+p*p||0);return f<=0?(r=l,i=u):f>=1?(r=c,i=h):(r=l+f*d,i=u+f*p),[r,i]}function l(t){return function(e){return m(e,t)}}function u(t,e,r){var o=Object(i.modulo)(e+180,360)-180,a=Math.abs(3600*o),s=r||0,l=Math.pow(10,s),u=Math.floor(a/3600),c=Math.floor((a-3600*u)/60),h=a-3600*u-60*c;return(h=Math.ceil(h*l)/l)>=60&&(h=0,c+=1),c>=60&&(c=0,u+=1),u+" "+Object(n.padNumber)(c,2)+" "+Object(n.padNumber)(h,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function c(t,e,r){return t?e.replace("{x}",t[0].toFixed(r)).replace("{y}",t[1].toFixed(r)):""}function h(t,e){for(var r=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){r=!1;break}return r}function d(t,e){var r=Math.cos(e),i=Math.sin(e),n=t[0]*r-t[1]*i,o=t[1]*r+t[0]*i;return t[0]=n,t[1]=o,t}function p(t,e){return t[0]*=e,t[1]*=e,t}function f(t,e){var r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function g(t,e){return Math.sqrt(f(t,e))}function y(t,e){return f(t,s(t,e))}function v(t,e){return t?u("NS",t[1],e)+" "+u("EW",t[0],e):""}function m(t,e){return c(t,"{x}, {y}",e)}},function(t,e,r){"use strict";r.r(e),r.d(e,"altKeyOnly",function(){return s}),r.d(e,"altShiftKeysOnly",function(){return l}),r.d(e,"focus",function(){return u}),r.d(e,"always",function(){return c}),r.d(e,"click",function(){return h}),r.d(e,"mouseActionButton",function(){return d}),r.d(e,"never",function(){return p}),r.d(e,"pointerMove",function(){return f}),r.d(e,"singleClick",function(){return g}),r.d(e,"doubleClick",function(){return y}),r.d(e,"noModifierKeys",function(){return v}),r.d(e,"platformModifierKeyOnly",function(){return m}),r.d(e,"shiftKeyOnly",function(){return _}),r.d(e,"targetNotEditable",function(){return O}),r.d(e,"mouseOnly",function(){return b}),r.d(e,"primaryAction",function(){return S});var i=r(70),n=r(15),o=r(22),a=r(38),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},u=function(t){return t.target.getTargetElement()===document.activeElement},c=o.TRUE,h=function(t){return t.type==i.default.CLICK},d=function(t){var e=t.originalEvent;return 0==e.button&&!(a.WEBKIT&&a.MAC&&e.ctrlKey)},p=o.FALSE,f=function(t){return"pointermove"==t.type},g=function(t){return t.type==i.default.SINGLECLICK},y=function(t){return t.type==i.default.DBLCLICK},v=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},m=function(t){var e=t.originalEvent;return!e.altKey&&(a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},O=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},b=function(t){var e=t.pointerEvent;return Object(n.assert)(void 0!==e,56),"mouse"==e.pointerType},S=function(t){var e=t.pointerEvent;return Object(n.assert)(void 0!==e,56),e.isPrimary&&0===e.button}},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(28),a=r(16),s=r(31),l=r(53),u=r(115),c=r(58),h=r(78),d=r(197),p=r(145),f=r(99),g=function(t){function e(e,r,n){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,r);else if(void 0!==r&&n)this.setFlatCoordinates(r,e),this.ends_=n;else{for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout()),Object(i.extend)(s,h.getFlatCoordinates()),l.push(s.length)}this.setFlatCoordinates(o,s),this.ends_=l}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,n=void 0!==r&&r;return Object(d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,i,n)},e.prototype.getCoordinates=function(){return Object(h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,i=[],n=0,o=0,a=e.length;o<a;++o){var l=e[o],u=new s.default(t.slice(n,l),r);i.push(u),n=l}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,a=0,s=n.length;a<s;++a){var l=n[a],u=Object(d.interpolatePoint)(e,r,l,o,.5);Object(i.extend)(t,u),r=l}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(f.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,i),new e(r,o.default.XY,i)},e.prototype.getType=function(){return a.default.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(c.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(l.default);e.default=g},function(t,e,r){"use strict";function i(t,e,r,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=r,i):[t,e,r]}function n(t,e,r){return t+"/"+e+"/"+r}function o(t){return n(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function l(t){var e,r,i=t[0],n=new Array(i),o=1<<i-1;for(e=0;e<i;++e)r=48,t[1]&o&&(r+=1),t[2]&o&&(r+=2),n[e]=String.fromCharCode(r),o>>=1;return n.join("")}function u(t,e){var r=t[0],i=t[1],n=t[2];if(e.getMinZoom()>r||r>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,r):e.getFullTileRange(r))||o.containsXY(i,n)}r.r(e),r.d(e,"createOrUpdate",function(){return i}),r.d(e,"getKeyZXY",function(){return n}),r.d(e,"getKey",function(){return o}),r.d(e,"fromKey",function(){return a}),r.d(e,"hash",function(){return s}),r.d(e,"quadKey",function(){return l}),r.d(e,"withinExtentAndZ",function(){return u})},function(t,e,r){"use strict";r.r(e);var i=r(105),n=r(7),o=r(103),a=r(177),s=r(30),l=r(8),u=r(10),c=r(12),h=r(483),d=r(240),p=r(42),f=r(81),g=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:y,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:o.default,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!i.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,r){if(i.ENABLE_RASTER_REPROJECTION){var n=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==n?r:{})}}else t.prototype.expireCache.call(this,e,r)},e.prototype.getGutterForProjection=function(t){return i.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!Object(c.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!Object(c.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var r=this.getProjection();if(!this.tileGrid||r&&!Object(c.equivalent)(r,e)){var o=Object(n.getUid)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=Object(f.getForProjection)(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var r=this.getProjection();if(!r||Object(c.equivalent)(r,e))return this.tileCache;var o=Object(n.getUid)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new a.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,r,i,n,o){var a=[t,e,r],c=this.getTileCoordForTileUrlFunction(a,n),h=c?this.tileUrlFunction(c,i,n):void 0,d=new this.tileClass(a,void 0!==h?s.default.IDLE:s.default.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=o,Object(l.listen)(d,u.default.CHANGE,this.handleTileChange,this),d},e.prototype.getTile=function(t,e,r,n,o){var a=this.getProjection();if(i.ENABLE_RASTER_REPROJECTION&&a&&o&&!Object(c.equivalent)(a,o)){var s,l=this.getTileCacheForProjection(o),u=[t,e,r],d=Object(p.getKey)(u);l.containsKey(d)&&(s=l.get(d));var f=this.getKey();if(s&&s.key==f)return s;var g=this.getTileGridForProjection(a),y=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(u,o),m=new h.default(a,g,o,y,u,v,this.getTilePixelRatio(n),this.getGutter(),function(t,e,r,i){return this.getTileInternal(t,e,r,i,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return m.key=f,s?(m.interimTile=s,m.refreshInterimChain(),l.replace(d,m)):l.set(d,m),m}return this.getTileInternal(t,e,r,n,a||o)},e.prototype.getTileInternal=function(t,e,r,i,n){var o=null,a=Object(p.getKeyZXY)(t,e,r),l=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=l){var u=o;o=this.createTile_(t,e,r,i,n,l),u.getState()==s.default.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,r,i,n,l),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(i.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.ENABLE_RASTER_REPROJECTION){var r=Object(c.get)(t);if(r){var o=Object(n.getUid)(r);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(d.default);function y(t,e){t.getImage().src=e}e.default=g},function(t,e,r){var i=r(248)("wks"),n=r(185),o=r(37).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:n)("Symbol."+t))}).store=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=void 0;var i,n=function(t){return t&&t.__esModule?t:{default:t}}(r(566)),o=r(0);var a={SFCls:"SFeatureCls",OCls:"ObjectCls",ACls:"AnnotationCls",GnetCls:"GNetCls",RDS:"RasterDataset",SFClsInfo:"sfcls_new"};e.XClsType=a,o.Zondy.Enum.XClsType=a;var s={Unknown:0,SFCls:"SFeatureCls",AnnoCls:"AnnotationCls"};e.VectClsType=s,o.Zondy.Enum.VectClsType=s;var l={Unknown:0,Pnt:1,Lin:2,Reg:3};e.FeatureType=l,o.Zondy.Enum.FeatureType=l;var u={Positive:0,LeftOblique:1,RightOblique:2,LeftTowering:3,RightTowering:4};e.FontShape=u,o.Zondy.Enum.FontShape=u;var c={Curved:0,Forward:1,Horizontal:2,Tangent:3};e.LabelLinType=c,o.Zondy.Enum.LabelLinType=c;var h={Curved:0,Forward:1,Horizontal:2,Boundray:3,Outside:4};e.LabelRegType=h,o.Zondy.Enum.LabelRegType=h;var d={PntAnyDir:0,PntEightDir:1,PntOnFea:2};e.LabelPntType=d,o.Zondy.Enum.LabelPntType=d;var p={Auto:0,NoRep:1,OnStep:2};e.RepeatType=p,o.Zondy.Enum.RepeatType=p;var f={AutoSpread:0,Centralization:1,Decentralization:2};e.LabelSpreadType=f,o.Zondy.Enum.LabelSpreadType=f;var g={Left:0,Right:1,Above:2,Below:3,Both:4,NoRes:5};e.LineConstrain=g,o.Zondy.Enum.LineConstrain=g;var y={East:0,North:1,NorthEast:2,NorthWest:3,South:4,SouthEast:5,SouthWest:6,West:7,NoDir:8};e.EightDirType=y,o.Zondy.Enum.EightDirType=y;var v={Reg:0,Arc:1,All:2};e.ISShowArc=v,o.Zondy.Enum.ISShowArc=v;var m=(i={UserMode:"UserMode",SysModeCommwayPrefer:"SysModeCommwayPrefer",SysModeHighWayPrefer:"SysModeHighWayPrefer",SysModeMinCost:"SysModeMinCost",SysModeMinDis:"SysModeMinDis"},(0,n.default)(i,"SysModeMinDis","SysModeMinDis"),(0,n.default)(i,"SysModeSysRecommend","SysModeSysRecommend"),i);e.NetAnalyType=m,o.Zondy.Enum.Net.NetAnalyType=m;var _={Node:1,Edge:2,CNode:3,Chain:4,Center:5,Source:13,Sink:13};e.NetElemType=_,o.Zondy.Enum.Net.NetElemType=_;var O={Adjust:0,NoAdjust:1};e.CLinAdjustType=O,o.Zondy.Enum.Theme.CLinAdjustType=O;var b={Round:0,Square:1,Butt:2};e.CLinHeadType=b,o.Zondy.Enum.Theme.CLinHeadType=b;var S={Round:0,Square:1,Butt:2};e.CLinJointType=S,o.Zondy.Enum.Theme.CLinJointType=S;var T={Byrule:0,Bypoint:1};e.CLinStyleMakeType=T,o.Zondy.Enum.Theme.CLinStyleMakeType=T;var E={Unknown:0,UniqueTheme:1,RangeTheme:2};e.CItemType=E,o.Zondy.Enum.Theme.CItemType=E;var C={Doc:"mapType",Tile:"tileType"};e.MapType=C,o.Zondy.Enum.Map.MapType=C;var x={Show:"show",Hide:"hide",Include:"include",Exclude:"exclude"};e.LayerStatusType=x,o.Zondy.Enum.Map.LayerStatusType=x},function(t,e,r){"use strict";r.r(e),r.d(e,"CollectionEvent",function(){return s});var i=r(142),n=r(77),o=r(19),a="length",s=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(21).default),l=function(t){function e(e,r){t.call(this);var i=r||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)t(e[r],r,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new s(n.default.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)if(e[r]===t)return this.removeAt(r)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new s(n.default.REMOVE,e)),e},e.prototype.setAt=function(t,e){var r=this.getLength();if(t<r){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new s(n.default.REMOVE,i)),this.dispatchEvent(new s(n.default.ADD,e))}else{for(var o=r;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===t&&r!==e)throw new i.default(58)},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e),r.d(e,"METERS_PER_UNIT",function(){return n});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},n={};n[i.DEGREES]=2*Math.PI*6370997/360,n[i.FEET]=.3048,n[i.METERS]=1,n[i.USFEET]=1200/3937,e.default=i},function(t,e,r){"use strict";r.r(e),e.default={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,r){"use strict";function i(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]+2*e,r[1]=t[1]+2*e,r}function n(t){return t[0]>0&&t[1]>0}function o(t,e,r){return void 0===r&&(r=[0,0]),r[0]=t[0]*e+.5|0,r[1]=t[1]*e+.5|0,r}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}r.r(e),r.d(e,"buffer",function(){return i}),r.d(e,"hasArea",function(){return n}),r.d(e,"scale",function(){return o}),r.d(e,"toSize",function(){return a})},function(t,e,r){"use strict";r.r(e);var i=r(22),n=r(151),o=r(19),a=r(18),s=r(8),l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:i.VOID,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(a.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(a.removeNode)(this.element);for(var e=0,r=this.listenerKeys.length;e<r;++e)Object(s.unlistenByKey)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.VOID&&this.listenerKeys.push(Object(s.listen)(t,n.default.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e),r.d(e,"CLASS_HIDDEN",function(){return i}),r.d(e,"CLASS_SELECTABLE",function(){return n}),r.d(e,"CLASS_UNSELECTABLE",function(){return o}),r.d(e,"CLASS_UNSUPPORTED",function(){return a}),r.d(e,"CLASS_CONTROL",function(){return s}),r.d(e,"CLASS_COLLAPSED",function(){return l}),r.d(e,"getFontFamilies",function(){return u});var i="ol-hidden",n="ol-selectable",o="ol-unselectable",a="ol-unsupported",s="ol-control",l="ol-collapsed",u=function(){var t,e={};return function(r){if(t||(t=document.createElement("div").style),!(r in e)){t.font=r;var i=t.fontFamily;if(t.font="",!i)return null;e[r]=i.split(/,\s?/)}return e[r]}}()},function(t,e,r){"use strict";r.r(e),e.default={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,r){"use strict";r.r(e),r.d(e,"getStrideForLayout",function(){return c}),r.d(e,"transformGeom2D",function(){return h});var i=r(7),n=r(1),o=r(193),a=r(28),s=r(67),l=r(9),u=function(t){function e(){t.call(this),this.layout=a.default.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(n.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.abstract)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(l.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var r=this.getSimplifiedGeometryInternal(t);return r.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=r,r):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.abstract)()},e.prototype.setLayout=function(t,e,r){var i;if(t)i=c(t);else{for(var n=0;n<r;++n){if(0===e.length)return this.layout=a.default.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=a.default.XY:3==t?e=a.default.XYZ:4==t&&(e=a.default.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(s.rotate)(r,0,r.length,i,t,e,r),this.changed()}},e.prototype.scale=function(t,e,r){var i=e;void 0===i&&(i=t);var o=r;o||(o=Object(n.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var l=this.getStride();Object(s.scale)(a,0,a.length,l,t,i,o,a),this.changed()}},e.prototype.translate=function(t,e){var r=this.getFlatCoordinates();if(r){var i=this.getStride();Object(s.translate)(r,0,r.length,i,t,e,r),this.changed()}},e}(o.default);function c(t){var e;return t==a.default.XY?e=2:t==a.default.XYZ||t==a.default.XYM?e=3:t==a.default.XYZM&&(e=4),e}function h(t,e,r){var i=t.getFlatCoordinates();if(i){var n=t.getStride();return Object(s.transform2D)(i,0,i.length,n,e,r)}return null}e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"asString",function(){return s}),r.d(e,"fromString",function(){return l}),r.d(e,"asArray",function(){return u}),r.d(e,"normalize",function(){return c}),r.d(e,"toString",function(){return h});var i=r(15),n=r(14),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$/i;function s(t){return"string"==typeof t?t:h(t)}var l=function(){var t={},e=0;return function(r){var n;if(t.hasOwnProperty(r))n=t[r];else{if(e>=1024){var s=0;for(var l in t)0==(3&s++)&&(delete t[l],--e)}n=function(t){var e,r,n,s,l;a.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var r=getComputedStyle(e).color;return document.body.removeChild(e),r}return""}(t));if(o.exec(t)){var u,h=t.length-1;u=h<=4?1:2;var d=4===h||8===h;e=parseInt(t.substr(1+0*u,u),16),r=parseInt(t.substr(1+1*u,u),16),n=parseInt(t.substr(1+2*u,u),16),s=d?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,r=(r<<4)+r,n=(n<<4)+n,d&&(s=(s<<4)+s)),l=[e,r,n,s/255]}else 0==t.indexOf("rgba(")?c(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),c(l)):Object(i.assert)(!1,14);return l}(r),t[r]=n,++e}return n}}();function u(t){return Array.isArray(t)?t:l(t)}function c(t){return t[0]=Object(n.clamp)(t[0]+.5|0,0,255),t[1]=Object(n.clamp)(t[1]+.5|0,0,255),t[2]=Object(n.clamp)(t[2]+.5|0,0,255),t[3]=Object(n.clamp)(t[3],0,1),t}function h(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var r=t[1];r!=(0|r)&&(r=r+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+r+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(16),a=r(29),s=r(53),l=r(58),u=r(78),c=r(14),h=function(t){function e(e,r){t.call(this),r&&!Array.isArray(e[0])?this.setFlatCoordinates(r,e):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(i.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(n.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var o=this.flatCoordinates,a=this.stride,s=0,l=o.length;s<l;s+=a){var u=Object(c.squaredDistance)(t,e,o[s],o[s+1]);if(u<i){i=u;for(var h=0;h<a;++h)r[h]=o[s+h];r.length=a}}return i},e.prototype.getCoordinates=function(){return Object(u.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],n=0,o=t.length;n<o;n+=r){var s=new a.default(t.slice(n,n+r),e);i.push(s)}return i},e.prototype.getType=function(){return o.default.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,i=0,o=e.length;i<o;i+=r){var a=e[i],s=e[i+1];if(Object(n.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2D=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(11)),a=l(r(4)),s=l(r(5));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r,o){(0,n.default)(this,e);var s=o||{},l=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,s));return l.x=void 0!==t?t:null,l.y=void 0!==r?r:null,l.nearDis=void 0!==s.nearDis?parseFloat(s.nearDis):null,l.CLASS_NAME="Zondy.Object.Point2D",l}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getGeometryType",value:function(){return"point"}},{key:"setByOL",value:function(t){if(void 0!==t){var e=t.getCoordinates();this.x=e[0],this.y=e[1]}}},{key:"toString",value:function(){if(null===this.x||null===this.y)return"";var t=this.x+","+this.y;return void 0!==this.nearDis&&(t+=";"+this.nearDis),t}}]),e}(r(95).Tangram);e.Point2D=u,Zondy.Object.Point2D=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CTheme=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(2)),n=r(0),o=r(6);var a=function t(e){(0,i.default)(this,t);var r=void 0!==e?e:{};(0,o.extend)(this,r),this.Name=r&&r.Name?r.Name:null,this.IsBaseTheme=!r||!r.IsBaseTheme||r.IsBaseTheme,this.Visible=!r||!r.Visible||r.Visible};e.CTheme=a,n.Zondy.Object.Theme.CTheme=a},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=0,o=r.length;n<o;++n)t[e++]=r[n];return e}function n(t,e,r,i){for(var n=0,o=r.length;n<o;++n)for(var a=r[n],s=0;s<i;++s)t[e++]=a[s];return e}function o(t,e,r,i,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=n(t,e,r[l],i);a[s++]=c,e=c}return a.length=s,a}function a(t,e,r,i,n){for(var a=n||[],s=0,l=0,u=r.length;l<u;++l){var c=o(t,e,r[l],i,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}r.r(e),r.d(e,"deflateCoordinate",function(){return i}),r.d(e,"deflateCoordinates",function(){return n}),r.d(e,"deflateCoordinatesArray",function(){return o}),r.d(e,"deflateMultiCoordinatesArray",function(){return a})},function(t,e,r){"use strict";r.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,r){"use strict";r.r(e);var i=r(30),n=r(61),o=r(87),a=r(10),s=function(t){function e(e,r,i){t.call(this);var n=i||{};this.tileCoord=e,this.state=r,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==i.default.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==i.default.LOADED){t.interimTile=null;break}t.getState()==i.default.LOADING?e=t:t.getState()==i.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var i=e-r+1e3/60;return i>=this.transition_?1:Object(n.easeIn)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.default);e.default=s},function(t,e,r){"use strict";function i(t){return Math.pow(t,3)}function n(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}r.r(e),r.d(e,"easeIn",function(){return i}),r.d(e,"easeOut",function(){return n}),r.d(e,"inAndOut",function(){return o}),r.d(e,"linear",function(){return a}),r.d(e,"upAndDown",function(){return s})},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(28),a=r(16),s=r(55),l=r(27),u=r(53),c=r(144),h=r(287),d=r(115),p=r(116),f=r(58),g=r(78),y=r(195),v=r(145),m=r(100),_=r(99),O=function(t){function e(e,r,n){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout());for(var d=s.length,p=h.getEnds(),f=0,g=p.length;f<g;++f)p[f]+=d;Object(i.extend)(s,h.getFlatCoordinates()),l.push(p)}r=o,e=s,n=l}void 0!==r&&n?(this.setFlatCoordinates(r,e),this.endss_=n):this.setCoordinates(e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(i.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,o=(e=t.getEnds().slice()).length;n<o;++n)e[n]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,r)},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(n.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.containsXY=function(t,e){return Object(p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(c.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(y.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s.default(this.getFlatInteriorPoints().slice(),o.default.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],i=[];return r.length=Object(_.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,i),new e(r,o.default.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var i=this.endss_[t].slice(),n=i[i.length-1];if(0!==e)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new l.default(this.flatCoordinates.slice(e,n),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,i=[],n=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),u=s[s.length-1];if(0!==n)for(var c=0,h=s.length;c<h;++c)s[c]-=n;var d=new l.default(e.slice(n,u),t,s);i.push(d),n=u}return i},e.prototype.getType=function(){return a.default.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(f.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(u.default);e.default=O},function(t,e,r){"use strict";r.r(e),r.d(e,"defaultFont",function(){return l}),r.d(e,"defaultFillStyle",function(){return u}),r.d(e,"defaultLineCap",function(){return c}),r.d(e,"defaultLineDash",function(){return h}),r.d(e,"defaultLineDashOffset",function(){return d}),r.d(e,"defaultLineJoin",function(){return p}),r.d(e,"defaultMiterLimit",function(){return f}),r.d(e,"defaultStrokeStyle",function(){return g}),r.d(e,"defaultTextAlign",function(){return y}),r.d(e,"defaultTextBaseline",function(){return v}),r.d(e,"defaultPadding",function(){return m}),r.d(e,"defaultLineWidth",function(){return _}),r.d(e,"labelCache",function(){return O}),r.d(e,"checkedFonts",function(){return b}),r.d(e,"textHeights",function(){return T}),r.d(e,"checkFont",function(){return E}),r.d(e,"measureTextHeight",function(){return x}),r.d(e,"measureTextWidth",function(){return j}),r.d(e,"rotateAtOffset",function(){return P}),r.d(e,"resetTransform",function(){return I}),r.d(e,"drawImage",function(){return R});var i=r(51),n=r(18),o=r(9),a=r(167),s=r(23),l="10px sans-serif",u=[0,0,0,1],c="round",h=[],d=0,p="round",f=10,g=[0,0,0,1],y="center",v="middle",m=[0,0,0,0],_=1,O=new a.default,b={},S=null,T={},E=function(){var t,e,r=60,n=b,a="32px ",s=["monospace","serif"],l=s.length,u="wmytzilWMYTZIL@#/&?$%10";function c(t){for(var r=C(),i=100;i<=700;i+=300){for(var n=i+" ",o=!0,c=0;c<l;++c){var h=s[c];if(r.font=n+a+h,e=r.measureText(u).width,t!=h){r.font=n+a+t+","+h;var d=r.measureText(u).width;o=o&&d!=e}}if(o)return!0}return!1}function h(){var e=!0;for(var i in n)n[i]<r&&(c(i)?(n[i]=r,Object(o.clear)(T),S=null,O.clear()):(++n[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(i.getFontFamilies)(e);if(o)for(var a=0,s=o.length;a<s;++a){var l=o[a];l in n||(n[l]=r,c(l)||(n[l]=0,void 0===t&&(t=setInterval(h,32))))}}}();function C(){return S||(S=Object(n.createCanvasContext2D)(1,1)),S}var x=function(){var t,e=T;return function(r){var i=e[r];return void 0==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=r,document.body.appendChild(t),i=e[r]=t.offsetHeight,document.body.removeChild(t)),i}}();function j(t,e){var r=C();return t!=r.font&&(r.font=t),r.measureText(e).width}function P(t,e,r,i){0!==e&&(t.translate(r,i),t.rotate(e),t.translate(-r,-i))}var I=Object(s.create)();function R(t,e,r,i,n,o,a,s,l,u,c){var h;1!=r&&(h=t.globalAlpha,t.globalAlpha=h*r),e&&t.setTransform.apply(t,e),t.drawImage(i,n,o,a,s,l,u,a*c,s*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,I)}},function(t,e,r){"use strict";r.r(e);var i=r(153),n=r(15),o=r(127),a=r(13),s=r(1),l=r(14),u=r(49),c=r(42),h=[0,0,0],d=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(n.assert)(Object(a.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var r=0,l=this.resolutions_.length-1;r<l;++r)if(e){if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}else e=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(n.assert)(this.origins_.length==this.resolutions_.length,20));var u=t.extent;void 0===u||this.origin_||this.origins_||(this.origin_=Object(s.getTopLeft)(u)),Object(n.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(n.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:i.DEFAULT_TILE_SIZE,Object(n.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new o.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):u&&this.calculateTileRanges_(u)};d.prototype.forEachTileCoord=function(t,e,r){for(var i=this.getTileRangeForExtentAndZ(t,e),n=i.minX,o=i.maxX;n<=o;++n)for(var a=i.minY,s=i.maxY;a<=s;++a)r([e,n,a])},d.prototype.forEachTileCoordParentTileRange=function(t,e,r,i,n){var a,s,l,u=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],l=t[2]):u=this.getTileCoordExtent(t,n);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),l=Math.floor(l/2),a=Object(o.createOrUpdate)(s,s,l,l,i)):a=this.getTileRangeForExtentAndZ(u,c,i),e.call(r,c,a))return!0;--c}return!1},d.prototype.getExtent=function(){return this.extent_},d.prototype.getMaxZoom=function(){return this.maxZoom},d.prototype.getMinZoom=function(){return this.minZoom},d.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},d.prototype.getResolution=function(t){return this.resolutions_[t]},d.prototype.getResolutions=function(){return this.resolutions_},d.prototype.getTileCoordChildTileRange=function(t,e,r){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],n=2*t[2];return Object(o.createOrUpdate)(i,i+1,n,n+1,e)}var a=this.getTileCoordExtent(t,r);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},d.prototype.getTileRangeExtent=function(t,e,r){var i=this.getOrigin(t),n=this.getResolution(t),o=Object(u.toSize)(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*o[0]*n,l=i[0]+(e.maxX+1)*o[0]*n,c=i[1]+e.minY*o[1]*n,h=i[1]+(e.maxY+1)*o[1]*n;return Object(s.createOrUpdate)(a,c,l,h,r)},d.prototype.getTileRangeForExtentAndZ=function(t,e,r){var i=h;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var n=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(o.createOrUpdate)(n,i[1],a,i[2],r)},d.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Object(u.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*r,e[1]+(t[2]+.5)*i[1]*r]},d.prototype.getTileCoordExtent=function(t,e){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=Object(u.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=r[0]+t[1]*n[0]*i,a=r[1]+t[2]*n[1]*i,l=o+n[0]*i,c=a+n[1]*i;return Object(s.createOrUpdate)(o,a,l,c,e)},d.prototype.getTileCoordForCoordAndResolution=function(t,e,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,r)},d.prototype.getTileCoordForXYAndResolution_=function(t,e,r,i,n){var o=this.getZForResolution(r),a=r/this.getResolution(o),s=this.getOrigin(o),l=Object(u.toSize)(this.getTileSize(o),this.tmpSize_),h=i?.5:0,d=i?0:.5,p=Math.floor((t-s[0])/r+h),f=Math.floor((e-s[1])/r+d),g=a*p/l[0],y=a*f/l[1];return i?(g=Math.ceil(g)-1,y=Math.ceil(y)-1):(g=Math.floor(g),y=Math.floor(y)),Object(c.createOrUpdate)(o,g,y,n)},d.prototype.getTileCoordForXYAndZ_=function(t,e,r,i,n){var o=this.getOrigin(r),a=this.getResolution(r),s=Object(u.toSize)(this.getTileSize(r),this.tmpSize_),l=i?.5:0,h=i?0:.5,d=Math.floor((t-o[0])/a+l),p=Math.floor((e-o[1])/a+h),f=d/s[0],g=p/s[1];return i?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),Object(c.createOrUpdate)(r,f,g,n)},d.prototype.getTileCoordForCoordAndZ=function(t,e,r){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r)},d.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},d.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},d.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},d.prototype.getZForResolution=function(t,e){var r=Object(a.linearFindNearest)(this.resolutions_,t,e||0);return Object(l.clamp)(r,this.minZoom,this.maxZoom)},d.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,r=new Array(e),i=this.minZoom;i<e;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},e.default=d},function(t,e,r){"use strict";function i(t,e){var r=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&r.push(t+"="+encodeURIComponent(e[t]))});var i=r.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}r.r(e),r.d(e,"appendParams",function(){return i})},function(t,e,r){var i=r(37),n=r(25),o=r(135),a=r(92),s=r(93),l=function(t,e,r){var u,c,h,d=t&l.F,p=t&l.G,f=t&l.S,g=t&l.P,y=t&l.B,v=t&l.W,m=p?n:n[e]||(n[e]={}),_=m.prototype,O=p?i:f?i[e]:(i[e]||{}).prototype;for(u in p&&(r=e),r)(c=!d&&O&&void 0!==O[u])&&s(m,u)||(h=c?O[u]:r[u],m[u]=p&&"function"!=typeof O[u]?r[u]:y&&c?o(h,i):v&&O[u]==h?function(t){var e=function(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((m.virtual||(m.virtual={}))[u]=h,t&l.R&&_&&!_[u]&&a(_,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,r){"use strict";function i(t,e,r,i,n,o){for(var a=o||[],s=0,l=e;l<r;l+=i){var u=t[l],c=t[l+1];a[s++]=n[0]*u+n[2]*c+n[4],a[s++]=n[1]*u+n[3]*c+n[5]}return o&&a.length!=s&&(a.length=s),a}function n(t,e,r,i,n,o,a){for(var s=a||[],l=Math.cos(n),u=Math.sin(n),c=o[0],h=o[1],d=0,p=e;p<r;p+=i){var f=t[p]-c,g=t[p+1]-h;s[d++]=c+f*l-g*u,s[d++]=h+f*u+g*l;for(var y=p+2;y<p+i;++y)s[d++]=t[y]}return a&&s.length!=d&&(s.length=d),s}function o(t,e,r,i,n,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,d=e;d<r;d+=i){var p=t[d]-u,f=t[d+1]-c;l[h++]=u+n*p,l[h++]=c+o*f;for(var g=d+2;g<d+i;++g)l[h++]=t[g]}return s&&l.length!=h&&(l.length=h),l}function a(t,e,r,i,n,o,a){for(var s=a||[],l=0,u=e;u<r;u+=i){s[l++]=t[u]+n,s[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)s[l++]=t[c]}return a&&s.length!=l&&(s.length=l),s}r.r(e),r.d(e,"transform2D",function(){return i}),r.d(e,"rotate",function(){return n}),r.d(e,"scale",function(){return o}),r.d(e,"translate",function(){return a})},function(t,e,r){"use strict";r.r(e),e.default={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,r){"use strict";r.r(e);var i=r(117),n=r(59),o=r(8),a=r(10),s=r(1),l=function(t){function e(e,r,i,o,a,s){t.call(this,e,r,i,n.default.IDLE),this.src_=o,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.state=n.default.IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n.default.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(s.getHeight)(this.extent)/this.image_.height),this.state=n.default.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n.default.IDLE&&this.state!=n.default.ERROR||(this.state=n.default.LOADING,this.changed(),this.imageListenerKeys_=[Object(o.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),Object(o.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(o.unlistenByKey),this.imageListenerKeys_=null},e}(i.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(10);e.default={SINGLECLICK:"singleclick",CLICK:i.default.CLICK,DBLCLICK:i.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";r.r(e),r.d(e,"toFunction",function(){return u}),r.d(e,"createDefaultStyle",function(){return h}),r.d(e,"createEditingStyle",function(){return d});var i=r(15),n=r(16),o=r(289),a=r(101),s=r(102),l=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function u(t){var e;if("function"==typeof t)e=t;else{var r;if(Array.isArray(t))r=t;else Object(i.assert)("function"==typeof t.getZIndex,41),r=[t];e=function(){return r}}return e}l.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new l({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},l.prototype.getRenderer=function(){return this.renderer_},l.prototype.setRenderer=function(t){this.renderer_=t},l.prototype.getGeometry=function(){return this.geometry_},l.prototype.getGeometryFunction=function(){return this.geometryFunction_},l.prototype.getFill=function(){return this.fill_},l.prototype.setFill=function(t){this.fill_=t},l.prototype.getImage=function(){return this.image_},l.prototype.setImage=function(t){this.image_=t},l.prototype.getStroke=function(){return this.stroke_},l.prototype.setStroke=function(t){this.stroke_=t},l.prototype.getText=function(){return this.text_},l.prototype.setText=function(t){this.text_=t},l.prototype.getZIndex=function(){return this.zIndex_},l.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=p,this.geometry_=t},l.prototype.setZIndex=function(t){this.zIndex_=t};var c=null;function h(t,e){if(!c){var r=new a.default({color:"rgba(255,255,255,0.4)"}),i=new s.default({color:"#3399CC",width:1.25});c=[new l({image:new o.default({fill:r,stroke:i,radius:5}),fill:r,stroke:i})]}return c}function d(){var t={},e=[255,255,255,1],r=[0,153,255,1];return t[n.default.POLYGON]=[new l({fill:new a.default({color:[255,255,255,.5]})})],t[n.default.MULTI_POLYGON]=t[n.default.POLYGON],t[n.default.LINE_STRING]=[new l({stroke:new s.default({color:e,width:5})}),new l({stroke:new s.default({color:r,width:3})})],t[n.default.MULTI_LINE_STRING]=t[n.default.LINE_STRING],t[n.default.CIRCLE]=t[n.default.POLYGON].concat(t[n.default.LINE_STRING]),t[n.default.POINT]=[new l({image:new o.default({radius:6,fill:new a.default({color:r}),stroke:new s.default({color:e,width:1.5})}),zIndex:1/0})],t[n.default.MULTI_POINT]=t[n.default.POINT],t[n.default.GEOMETRY_COLLECTION]=t[n.default.POLYGON].concat(t[n.default.LINE_STRING],t[n.default.POINT]),t}function p(t){return t.getGeometry()}e.default=l},function(t,e,r){"use strict";r.r(e),r.d(e,"defaultImageLoadFunction",function(){return v});var i=r(7),n=r(105),o=r(59),a=r(13),s=r(21),l=r(1),u=r(12),c=r(487),h=r(168),d="imageloadstart",p="imageloadend",f="imageloaderror",g=function(t){function e(e,r){t.call(this,e),this.image=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default),y=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(a.linearFindNearest)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,r,i){var o=this.getProjection();if(n.ENABLE_RASTER_REPROJECTION&&o&&i&&!Object(u.equivalent)(o,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(u.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&Object(l.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new c.default(o,i,t,e,r,function(t,e,r){return this.getImageInternal(t,e,r,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(i=o),this.getImageInternal(t,e,r,i)},e.prototype.getImageInternal=function(t,e,r,n){return Object(i.abstract)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case o.default.LOADING:this.loading=!0,this.dispatchEvent(new g(d,e));break;case o.default.LOADED:this.loading=!1,this.dispatchEvent(new g(p,e));break;case o.default.ERROR:this.loading=!1,this.dispatchEvent(new g(f,e))}},e}(h.default);function v(t,e){t.getImage().src=e}e.default=y},function(t,e,r){var i=r(74);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceBase=void 0;var i=s(r(2)),n=s(r(11)),o=r(0),a=r(6);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,i.default)(this,t),(0,a.extend)(this,e),this.baseUrl=e&&e.baseUrl?e.baseUrl:null,this.ip=e&&e.ip?e.ip:"localhost",this.port=e&&e.port?e.port:"6163",this.partUrl=e&&e.partUrl?e.partUrl:null}return(0,n.default)(t,[{key:"getFullUrl",value:function(){var t=this,e=null;if(o.Zondy.Util.isArray(t.ip))for(var r=0;r<t.ip.length;r++){e=new Array;var i=null;i=(0,a.isArray)(t.port)?void 0!==t.port[r]?t.port[r]:"6163":void 0!==t.port?t.port:"6163";var n=null;n=(0,a.isArray)(t.partUrl)?void 0!==t.partUrl[r]?t.partUrl[r]:null:void 0!==t.partUrl?t.partUrl:null,e.push(encodeURI(("http://"+t.ip[r]+":"+i+"/"+t.baseUrl+"/"+n).trim()))}else e=encodeURI(("http://"+t.ip+":"+t.port+"/"+t.baseUrl+"/"+t.partUrl).trim());return e}}]),t}();e.ServiceBase=l,o.Zondy.Service.ServiceBase=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnalysisBase=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(0),c=r(6),h=r(75),d=r(20);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){(0,o.default)(this,e);var r=t||{};r.baseUrl="igs/rest/mrfws";var i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.flowID=void 0!==r.flowID?r.flowID:null,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"execute",value:function(t,e,r){var n={};if((0,c.copyExcluce)(n,this,["port","ip","baseUrl","partUrl","flowID"]),e||(e="get"),"get"===e.toLowerCase()&&(this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json",null!==n)){var o=(0,c.getWFParameterString)(n);null===o&&""===o||(this.partUrl+="&paraValues="+o)}if("post"===e.toLowerCase()){this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json";var a=new Array;if(null!==n)for(var s in n)if(null!==n[s]){var l={};l.Key=s,l.Value=n[s].toString(),a.push(l)}n=a}var u=this.getFullUrl(),h=new d.IgsServiceBase(u,{eventListeners:{scope:this,processCompleted:t,processFailed:r}});"post"===e.toLowerCase()?h.processAsync({method:"POST",data:(0,i.default)(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):h.processAsync()}}]),e}(h.ServiceBase);e.AnalysisBase=f,u.Zondy.Service.AnalysisBase=f},function(t,e,r){"use strict";r.r(e),e.default={ADD:"add",REMOVE:"remove"}},function(t,e,r){"use strict";function i(t,e,r,i,n){for(var o=void 0!==n?n:[],a=0,s=e;s<r;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function n(t,e,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=i(t,e,c,n,a[s]),e=c}return a.length=s,a}function o(t,e,r,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=n(t,e,c,i,a[s]),e=c[c.length-1]}return a.length=s,a}r.r(e),r.d(e,"inflateCoordinates",function(){return i}),r.d(e,"inflateCoordinatesArray",function(){return n}),r.d(e,"inflateMultiCoordinatesArray",function(){return o})},function(t,e,r){"use strict";r.r(e),r.d(e,"visibleAtResolution",function(){return p});var i=r(8),n=r(10),o=r(7),a=r(19),s=r(203),l=r(285),u=r(9),c=r(68),h=r(48),d=function(t){function e(e){var r=Object(u.assign)({},e);delete r.source,t.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.listen)(this,Object(a.getChangeEventType)(l.default.SOURCE),this.handleSourcePropertyChange_,this);var n=e.source?e.source:null;this.setSource(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(l.default.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.default.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.listen)(t,n.default.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.listen)(t,c.default.PRECOMPOSE,function(t){var e=t,r=this.getLayerState();r.managed=!1,void 0===this.getZIndex()&&(r.zIndex=1/0),e.frameState.layerStatesArray.push(r),e.frameState.layerStates[Object(o.getUid)(this)]=r},this),this.mapRenderKey_=Object(i.listen)(this,n.default.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(l.default.SOURCE,t)},e}(s.default);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(52),n=r(79),o=r(288),a=r(9),s=r(71),l="renderOrder",u=function(t){function e(e){var r=e||{},n=Object(a.assign)({},r);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,t.call(this,n),this.declutter_=void 0!==r.declutter&&r.declutter,this.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(r.style),this.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,this.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,this.renderMode_=r.renderMode||o.default.VECTOR,this.type=i.default.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(l,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s.createDefaultStyle,this.styleFunction_=null===t?void 0:Object(s.toFunction)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(n.default);u.prototype.getSource,e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"getForProjection",function(){return c}),r.d(e,"wrapX",function(){return h}),r.d(e,"createForExtent",function(){return d}),r.d(e,"createXYZ",function(){return p}),r.d(e,"createForProjection",function(){return g}),r.d(e,"extentFromProjection",function(){return y});var i=r(153),n=r(49),o=r(1),a=r(275),s=r(12),l=r(47),u=r(64);function c(t){var e=t.getDefaultTileGrid();return e||(e=g(t),t.setDefaultTileGrid(e)),e}function h(t,e,r){var i=e[0],n=t.getTileCoordCenter(e),a=y(r);if(Object(o.containsCoordinate)(a,n))return e;var s=Object(o.getWidth)(a),l=Math.ceil((a[0]-n[0])/s);return n[0]+=s*l,t.getTileCoordForCoordAndZ(n,i)}function d(t,e,r,i){var n=void 0!==i?i:a.default.TOP_LEFT,s=f(t,e,r);return new u.default({extent:t,origin:Object(o.getCorner)(t,n),resolutions:s,tileSize:r})}function p(t){var e=t||{},r=e.extent||Object(s.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:f(r,e.maxZoom,e.tileSize)};return new u.default(i)}function f(t,e,r){for(var a=void 0!==e?e:i.DEFAULT_MAX_ZOOM,s=Object(o.getHeight)(t),l=Object(o.getWidth)(t),u=Object(n.toSize)(void 0!==r?r:i.DEFAULT_TILE_SIZE),c=Math.max(l/u[0],s/u[1]),h=a+1,d=new Array(h),p=0;p<h;++p)d[p]=c/Math.pow(2,p);return d}function g(t,e,r,i){return d(y(t),e,r,i)}function y(t){var e=(t=Object(s.get)(t)).getExtent();if(!e){var r=180*s.METERS_PER_UNIT[l.default.DEGREES]/t.getMetersPerUnit();e=Object(o.createOrUpdate)(-r,-r,r,r)}return e}},function(t,e,r){"use strict";r.r(e),r.d(e,"readBoolean",function(){return o}),r.d(e,"readBooleanString",function(){return a}),r.d(e,"readDateTime",function(){return s}),r.d(e,"readDecimal",function(){return l}),r.d(e,"readDecimalString",function(){return u}),r.d(e,"readNonNegativeInteger",function(){return c}),r.d(e,"readNonNegativeIntegerString",function(){return h}),r.d(e,"readString",function(){return d}),r.d(e,"writeBooleanTextNode",function(){return p}),r.d(e,"writeCDATASection",function(){return f}),r.d(e,"writeDateTimeTextNode",function(){return g}),r.d(e,"writeDecimalTextNode",function(){return y}),r.d(e,"writeNonNegativeIntegerTextNode",function(){return v}),r.d(e,"writeStringTextNode",function(){return m});var i=r(35),n=r(146);function o(t){return a(Object(i.getAllTextContent)(t,!1))}function a(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function s(t){var e=Object(i.getAllTextContent)(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3}function l(t){return u(Object(i.getAllTextContent)(t,!1))}function u(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function c(t){return h(Object(i.getAllTextContent)(t,!1))}function h(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function d(t){return Object(i.getAllTextContent)(t,!1).trim()}function p(t,e){m(t,e?"1":"0")}function f(t,e){t.appendChild(i.DOCUMENT.createCDATASection(e))}function g(t,e){var r=new Date(1e3*e),o=r.getUTCFullYear()+"-"+Object(n.padNumber)(r.getUTCMonth()+1,2)+"-"+Object(n.padNumber)(r.getUTCDate(),2)+"T"+Object(n.padNumber)(r.getUTCHours(),2)+":"+Object(n.padNumber)(r.getUTCMinutes(),2)+":"+Object(n.padNumber)(r.getUTCSeconds(),2)+"Z";t.appendChild(i.DOCUMENT.createTextNode(o))}function y(t,e){var r=e.toPrecision();t.appendChild(i.DOCUMENT.createTextNode(r))}function v(t,e){var r=e.toString();t.appendChild(i.DOCUMENT.createTextNode(r))}function m(t,e){t.appendChild(i.DOCUMENT.createTextNode(e))}},function(t,e,r){var i=r(73),n=r(341),o=r(244),a=Object.defineProperty;e.f=r(84)?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){t.exports=!r(136)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";e.__esModule=!0;var i=a(r(527)),n=a(r(534)),o="function"==typeof n.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CThemeInfo=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(2)),n=r(0),o=r(6);r(191),r(402),r(403);var a=function t(e){(0,i.default)(this,t);var r=void 0!==e?e:{};(0,o.extend)(this,r),this.Caption=void 0!==r.Caption?r.Caption:null,this.IsVisible=void 0===r.IsVisible||r.IsVisible,this.MaxScale=void 0!==r.MaxScale?parseFloat(r.MaxScale):0,this.MinScale=void 0!==r.MinScale?parseFloat(r.MinScale):0,this.RegInfo=void 0!==r.RegInfo?r.RegInfo:null,this.LinInfo=void 0!==r.LinInfo?r.LinInfo:null,this.PntInfo=void 0!==r.PntInfo?r.PntInfo:null};e.CThemeInfo=a,n.Zondy.Object.Theme.CThemeInfo=a},function(t,e,r){"use strict";r.r(e);var i=r(98),n=r(8),o=r(22),a=r(21),s=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var r=this.listeners_[t];r||(r=this.listeners_[t]=[]),-1===r.indexOf(e)&&r.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.default(t):t,r=e.type;e.target=this;var i,n=this.listeners_[r];if(n){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var s=0,l=n.length;s<l;++s)if(!1===n[s].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var u=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];u--;)this.removeEventListener(r,o.VOID);delete this.dispatching_[r]}return i}},e.prototype.disposeInternal=function(){Object(n.unlistenAll)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var r=this.listeners_[t];if(r){var i=r.indexOf(e);t in this.pendingRemovals_?(r[i]=o.VOID,++this.pendingRemovals_[t]):(r.splice(i,1),0===r.length&&delete this.listeners_[t])}},e}(i.default);e.default=s},function(t,e,r){"use strict";r.r(e);var i=r(47),n=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.METERS_PER_UNIT[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"VectorSourceEvent",function(){return b});var i=r(7),n=r(46),o=r(77),a=r(114),s=r(13),l=r(15),u=r(8),c=r(21),h=r(10),d=r(1),p=r(211),f=r(22),g=r(291),y=r(9),v=r(168),m=r(48),_=r(212),O=r(124),b=function(t){function e(e,r){t.call(this,e),this.feature=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.default),S=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,projection:void 0,state:m.default.READY,wrapX:void 0===r.wrapX||r.wrapX}),this.loader_=f.VOID,this.format_=r.format,this.overlaps_=void 0==r.overlaps||r.overlaps,this.url_=r.url,void 0!==r.loader?this.loader_=r.loader:void 0!==this.url_&&(Object(l.assert)(this.format_,7),this.loader_=Object(p.xhr)(this.url_,this.format_)),this.strategy_=void 0!==r.strategy?r.strategy:g.all;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;this.featuresRtree_=a?new O.default:null,this.loadedExtentsRtree_=new O.default,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new n.default(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.getUid)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new b(_.default.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(u.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this),Object(u.listen)(e,a.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=e:(Object(l.assert)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],n=[],o=0,a=t.length;o<a;o++){var s=t[o],l=Object(i.getUid)(s);this.addToIndex_(l,s)&&r.push(s)}for(var u=0,c=r.length;u<c;u++){var h=r[u],d=Object(i.getUid)(h);this.setupChangeEvents_(d,h);var p=h.getGeometry();if(p){var f=p.getExtent();e.push(f),n.push(h)}else this.nullGeometryFeatures_[d]=h}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var g=0,y=r.length;g<y;g++)this.dispatchEvent(new b(_.default.ADDFEATURE,r[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(u.listen)(this,_.default.ADDFEATURE,function(r){e||(e=!0,t.push(r.feature),e=!1)}),Object(u.listen)(this,_.default.REMOVEFEATURE,function(r){e||(e=!0,t.remove(r.feature),e=!1)}),Object(u.listen)(t,o.default.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(u.listen)(t,o.default.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(u.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new b(_.default.CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(t)?e(r):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(r){if(r.getGeometry().intersectsExtent(t)){var i=e(r);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(y.isEmpty)(this.nullGeometryFeatures_)||Object(s.extend)(t,Object(y.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],i=t[1],n=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||f.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(r,i,o,a))<u){n=t;var c=Math.sqrt(a);s[0]=r-c,s[1]=i-c,s[2]=r+c,s[3]=i+c}}}),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=Object(i.getUid)(e),n=e.getGeometry();if(n){var o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var a=e.getId();if(void 0!==a){var s=a.toString();r in this.undefIdIndex_?(delete this.undefIdIndex_[r],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else r in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[r]=e);this.changed(),this.dispatchEvent(new b(_.default.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.getUid)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(y.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,r){var i=this,n=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t];n.forEachInExtent(s,function(t){return Object(d.containsExtent)(t.extent,s)})||(i.loader_.call(i,s,e,r),n.insert(s,{extent:s.slice()}),i.loading=i.loader_!==f.VOID)},s=0,l=o.length;s<l;++s)a(s)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,function(r){if(Object(d.equals)(r.extent,t))return e=r,!0}),e&&r.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.getUid)(t);this.featureChangeKeys_[e].forEach(u.unlistenByKey),delete this.featureChangeKeys_[e];var r=t.getId();void 0!==r?delete this.idIndex_[r.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new b(_.default.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(v.default);e.default=S},function(t,e,r){"use strict";r.r(e);var i=r(17),n={STATIC_DRAW:i.STATIC_DRAW,STREAM_DRAW:i.STREAM_DRAW,DYNAMIC_DRAW:i.DYNAMIC_DRAW},o=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:n.STATIC_DRAW};o.prototype.getArray=function(){return this.arr_},o.prototype.getUsage=function(){return this.usage_},e.default=o},function(t,e,r){"use strict";r.r(e);var i=r(52),n=r(79),o=r(335),a=r(9),s=function(t){function e(e){var r=e||{},n=Object(a.assign)({},r);delete n.preload,delete n.useInterimTilesOnError,t.call(this,n),this.setPreload(void 0!==r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=i.default.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o.default.PRELOAD)},e.prototype.setPreload=function(t){this.set(o.default.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(n.default);s.prototype.getSource,e.default=s},function(t,e,r){var i=r(83),n=r(183);t.exports=r(84)?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var i=r(517),n=r(245);t.exports=function(t){return i(n(t))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tangram=void 0;var i=s(r(2)),n=s(r(11)),o=r(0),a=r(6);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,i.default)(this,t);var r=e||{};(0,a.extend)(this,r)}return(0,n.default)(t,[{key:"setByOL",value:function(t){return null}},{key:"toString",value:function(){return""}},{key:"getGeometryType",value:function(){}},{key:"Trim",value:function(t,e){var r;return r=t.replace(/(^\s+)|(\s+$)/g,""),"g"===e.toLowerCase()&&(r=r.replace(/\s/g,"")),r}}]),t}();e.Tangram=l,o.Zondy.Object.Tangram=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryAnalysisBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{};return r.baseUrl="igs/rest/mrgs",(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r))}return(0,a.default)(e,t),e}(r(75).ServiceBase);e.GeometryAnalysisBase=u,s.Zondy.Service.GeometryAnalysisBase=u},function(t,e,r){"use strict";r.r(e),r.d(e,"unByKey",function(){return s});var i=r(8),n=r(87),o=r(10),a=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.default.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.listen)(this,t[o],e);return n}return Object(i.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var r=t.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.listenOnce)(this,t[o],e);return n}return Object(i.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)Object(i.unlisten)(this,t[r],e);else Object(i.unlisten)(this,t,e)},e}(n.default);function s(t){if(Array.isArray(t))for(var e=0,r=t.length;e<r;++e)Object(i.unlistenByKey)(t[e]);else Object(i.unlistenByKey)(t)}e.default=a},function(t,e,r){"use strict";r.r(e);var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"simplifyLineString",function(){return n}),r.d(e,"douglasPeucker",function(){return o}),r.d(e,"douglasPeuckerArray",function(){return a}),r.d(e,"douglasPeuckerMultiArray",function(){return s}),r.d(e,"radialDistance",function(){return l}),r.d(e,"snap",function(){return u}),r.d(e,"quantize",function(){return c}),r.d(e,"quantizeArray",function(){return h}),r.d(e,"quantizeMultiArray",function(){return d});var i=r(14);function n(t,e,r,i,n,a,s){var u=void 0!==s?s:[];return a||(r=l(t,e,r,i,n,u,0),t=u,e=0,i=2),u.length=o(t,e,r,i,n,u,0),u}function o(t,e,r,n,o,a,s){var l=(r-e)/n;if(l<3){for(;e<r;e+=n)a[s++]=t[e],a[s++]=t[e+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[e,r-n],h=0;c.length>0;){for(var d=c.pop(),p=c.pop(),f=0,g=t[p],y=t[p+1],v=t[d],m=t[d+1],_=p+n;_<d;_+=n){var O=t[_],b=t[_+1],S=Object(i.squaredSegmentDistance)(O,b,g,y,v,m);S>f&&(h=_,f=S)}f>o&&(u[(h-e)/n]=1,p+n<h&&c.push(p,h),h+n<d&&c.push(h,d))}for(var T=0;T<l;++T)u[T]&&(a[s++]=t[e+T*n],a[s++]=t[e+T*n+1]);return s}function a(t,e,r,i,n,a,s,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];s=o(t,e,h,i,n,a,s),l.push(s),e=h}return s}function s(t,e,r,i,n,o,s,l){for(var u=0,c=r.length;u<c;++u){var h=r[u],d=[];s=a(t,e,h,i,n,o,s,d),l.push(d),e=h[h.length-1]}return s}function l(t,e,r,n,o,a,s){if(r<=e+n){for(;e<r;e+=n)a[s++]=t[e],a[s++]=t[e+1];return s}var l=t[e],u=t[e+1];a[s++]=l,a[s++]=u;var c=l,h=u;for(e+=n;e<r;e+=n)c=t[e],h=t[e+1],Object(i.squaredDistance)(l,u,c,h)>o&&(a[s++]=c,a[s++]=h,l=c,u=h);return c==l&&h==u||(a[s++]=c,a[s++]=h),s}function u(t,e){return e*Math.round(t/e)}function c(t,e,r,i,n,o,a){if(e==r)return a;var s,l,c=u(t[e],n),h=u(t[e+1],n);e+=i,o[a++]=c,o[a++]=h;do{if(s=u(t[e],n),l=u(t[e+1],n),(e+=i)==r)return o[a++]=s,o[a++]=l,a}while(s==c&&l==h);for(;e<r;){var d=u(t[e],n),p=u(t[e+1],n);if(e+=i,d!=s||p!=l){var f=s-c,g=l-h,y=d-c,v=p-h;f*v==g*y&&(f<0&&y<f||f==y||f>0&&y>f)&&(g<0&&v<g||g==v||g>0&&v>g)?(s=d,l=p):(o[a++]=s,o[a++]=l,c=s,h=l,s=d,l=p)}}return o[a++]=s,o[a++]=l,a}function h(t,e,r,i,n,o,a,s){for(var l=0,u=r.length;l<u;++l){var h=r[l];a=c(t,e,h,i,n,o,a),s.push(a),e=h}return a}function d(t,e,r,i,n,o,a,s){for(var l=0,u=r.length;l<u;++l){var c=r[l],d=[];a=h(t,e,c,i,n,o,a,d),s.push(d),e=c[c.length-1]}return a}},function(t,e,r){"use strict";r.r(e),r.d(e,"linearRingIsClockwise",function(){return n}),r.d(e,"linearRingIsOriented",function(){return o}),r.d(e,"linearRingsAreOriented",function(){return a}),r.d(e,"orientLinearRings",function(){return s}),r.d(e,"orientLinearRingsArray",function(){return l});var i=r(423);function n(t,e,r,i){for(var n=0,o=t[r-i],a=t[r-i+1];e<r;e+=i){var s=t[e],l=t[e+1];n+=(s-o)*(l+a),o=s,a=l}return n>0}function o(t,e,r,i,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var u=r[s],c=n(t,e,u,i);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=u}return!0}function a(t,e,r,i,n){for(var a=0,s=r.length;a<s;++a)if(!o(t,e,r[a],i,n))return!1;return!0}function s(t,e,r,o,a){for(var s=void 0!==a&&a,l=0,u=r.length;l<u;++l){var c=r[l],h=n(t,e,c,o);(0===l?s&&h||!s&&!h:s&&!h||!s&&h)&&Object(i.coordinates)(t,e,c,o),e=c}return e}function l(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o)e=s(t,e,r[o],i,n);return e}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(54),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(n.asString)(t):this.checksum_=Object(i.getUid)(this.color_):this.checksum_="f-"}return this.checksum_},e.default=o},function(t,e,r){"use strict";r.r(e);var i=r(7),n=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},n.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},n.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},n.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},n.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},n.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},n.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(60),n=r(30),o=r(18),a=r(8),s=r(10),l=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,a),this.crossOrigin_=n,this.src_=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.default.LOADING&&(this.unlistenImage_(),this.image_=u()),this.interimTile&&this.interimTile.dispose(),this.state=n.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=n.default.ERROR,this.unlistenImage_(),this.image_=u(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=n.default.LOADED:this.state=n.default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==n.default.ERROR&&(this.state=n.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n.default.IDLE&&(this.state=n.default.LOADING,this.changed(),this.imageListenerKeys_=[Object(a.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),Object(a.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.unlistenByKey),this.imageListenerKeys_=null},e}(i.default);function u(){var t=Object(o.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e.default=l},function(t,e,r){"use strict";r.r(e),r.d(e,"asColorLike",function(){return n});var i=r(54);function n(t){return Array.isArray(t)?Object(i.toString)(t):t}},function(t,e,r){"use strict";r.r(e),r.d(e,"ERROR_THRESHOLD",function(){return i}),r.d(e,"ENABLE_RASTER_REPROJECTION",function(){return n});var i=.5,n=!0},function(t,e,r){"use strict";r.r(e),r.d(e,"ORDER",function(){return n}),r.d(e,"TEXT_ALIGN",function(){return o});var i=r(128),n=[i.default.POLYGON,i.default.CIRCLE,i.default.LINE_STRING,i.default.IMAGE,i.default.TEXT,i.default.DEFAULT],o={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1}},function(t,e,r){"use strict";r.r(e);var i=r(17),n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return i.FRAGMENT_SHADER},e}(r(305).default);e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(17),n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return i.VERTEX_SHADER},e}(r(305).default);e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"TileSourceEvent",function(){return p});var i=r(7),n=r(177),o=r(30),a=r(21),s=r(12),l=r(49),u=r(168),c=r(42),h=r(81),d=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new n.default(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var r=this.getTileCacheForProjection(t);r&&r.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,r,i){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var a,s,l,u=!0,h=r.minX;h<=r.maxX;++h)for(var d=r.minY;d<=r.maxY;++d)s=Object(c.getKeyZXY)(e,h,d),l=!1,n.containsKey(s)&&(l=(a=n.get(s)).getState()===o.default.LOADED)&&(l=!1!==i(a)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,r,n,o){return Object(i.abstract)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(h.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(s.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,r){var i=this.getTileGridForProjection(r),n=this.getTilePixelRatio(e),o=Object(l.toSize)(i.getTileSize(t),this.tmpSize);return 1==n?o:Object(l.scale)(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var r=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(t=Object(h.wrapX)(i,t,r)),Object(c.withinExtentAndZ)(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,r,i){},e}(u.default),p=function(t){function e(e,r){t.call(this,e),this.tile=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(13),o=r(32),a=r(123),s=r(35),l=function(t){function e(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return a.default.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var r=Object(s.parse)(t);return this.readFeatureFromDocument(r,e)}return Object(s.isDocument)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var r=Object(s.parse)(t);return this.readFeaturesFromDocument(r,e)}return Object(s.isDocument)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(n.extend)(r,this.readFeaturesFromNode(i,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return Object(i.abstract)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var r=Object(s.parse)(t);return this.readGeometryFromDocument(r,e)}return Object(s.isDocument)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=Object(s.parse)(t);return this.readProjectionFromDocument(e)}return Object(s.isDocument)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n){t.call(this,e,r),this.expression=i,this.matchCase=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(134).default);e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"createFromTemplate",function(){return a}),r.d(e,"createFromTemplates",function(){return s}),r.d(e,"createFromTileUrlFunctions",function(){return l}),r.d(e,"nullTileUrlFunction",function(){return u}),r.d(e,"expandUrl",function(){return c});var i=r(15),n=r(14),o=r(42);function a(t,e){var r=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?t.replace(r,s[0].toString()).replace(n,s[1].toString()).replace(o,function(){return(-s[2]-1).toString()}).replace(a,function(){var t=s[0],r=e.getFullTileRange(t);return Object(i.assert)(r,55),(r.getHeight()+s[2]).toString()}):void 0}}function s(t,e){for(var r=t.length,i=new Array(r),n=0;n<r;++n)i[n]=a(t[n],e);return l(i)}function l(t){return 1===t.length?t[0]:function(e,r,i){if(e){var a=Object(o.hash)(e),s=Object(n.modulo)(a,t.length);return t[s](e,r,i)}}}function u(t,e,r){}function c(t){var e=[],r=/\{([a-z])-([a-z])\}/.exec(t);if(r){var i,n=r[1].charCodeAt(0),o=r[2].charCodeAt(0);for(i=n;i<=o;++i)e.push(t.replace(r[0],String.fromCharCode(i)));return e}if(r=r=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)e.push(t.replace(r[0],s.toString()));return e}return e.push(t),e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{};return r.baseUrl="igs/rest/mrms",(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r))}return(0,a.default)(e,t),e}(r(75).ServiceBase);e.MapServiceBase=u,s.Zondy.Service.MapServiceBase=u},function(t,e,r){"use strict";r.r(e),e.default={PROPERTYCHANGE:"propertychange"}},function(t,e,r){"use strict";r.r(e),r.d(e,"maxSquaredDelta",function(){return o}),r.d(e,"arrayMaxSquaredDelta",function(){return a}),r.d(e,"multiArrayMaxSquaredDelta",function(){return s}),r.d(e,"assignClosestPoint",function(){return l}),r.d(e,"assignClosestArrayPoint",function(){return u}),r.d(e,"assignClosestMultiArrayPoint",function(){return c});var i=r(14);function n(t,e,r,n,o,a,s){var l,u=t[e],c=t[e+1],h=t[r]-u,d=t[r+1]-c;if(0===h&&0===d)l=e;else{var p=((o-u)*h+(a-c)*d)/(h*h+d*d);if(p>1)l=r;else{if(p>0){for(var f=0;f<n;++f)s[f]=Object(i.lerp)(t[e+f],t[r+f],p);return void(s.length=n)}l=e}}for(var g=0;g<n;++g)s[g]=t[l+g];s.length=n}function o(t,e,r,n,o){var a=t[e],s=t[e+1];for(e+=n;e<r;e+=n){var l=t[e],u=t[e+1],c=Object(i.squaredDistance)(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function a(t,e,r,i,n){for(var a=0,s=r.length;a<s;++a){var l=r[a];n=o(t,e,l,i,n),e=l}return n}function s(t,e,r,i,n){for(var o=0,s=r.length;o<s;++o){var l=r[o];n=a(t,e,l,i,n),e=l[l.length-1]}return n}function l(t,e,r,o,a,s,l,u,c,h,d){if(e==r)return h;var p,f;if(0===a){if((f=Object(i.squaredDistance)(l,u,t[e],t[e+1]))<h){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,f}return h}for(var g=d||[NaN,NaN],y=e+o;y<r;)if(n(t,y-o,y,o,l,u,g),(f=Object(i.squaredDistance)(l,u,g[0],g[1]))<h){for(h=f,p=0;p<o;++p)c[p]=g[p];c.length=o,y+=o}else y+=o*Math.max((Math.sqrt(f)-Math.sqrt(h))/a|0,1);if(s&&(n(t,r-o,e,o,l,u,g),(f=Object(i.squaredDistance)(l,u,g[0],g[1]))<h)){for(h=f,p=0;p<o;++p)c[p]=g[p];c.length=o}return h}function u(t,e,r,i,n,o,a,s,u,c,h){for(var d=h||[NaN,NaN],p=0,f=r.length;p<f;++p){var g=r[p];c=l(t,e,g,i,n,o,a,s,u,c,d),e=g}return c}function c(t,e,r,i,n,o,a,s,l,c,h){for(var d=h||[NaN,NaN],p=0,f=r.length;p<f;++p){var g=r[p];c=u(t,e,g,i,n,o,a,s,l,c,d),e=g[g.length-1]}return c}},function(t,e,r){"use strict";r.r(e),r.d(e,"linearRingContainsExtent",function(){return n}),r.d(e,"linearRingContainsXY",function(){return o}),r.d(e,"linearRingsContainsXY",function(){return a}),r.d(e,"linearRingssContainsXY",function(){return s});var i=r(1);function n(t,e,r,n,a){return!Object(i.forEachCorner)(a,function(i){return!o(t,e,r,n,i[0],i[1])})}function o(t,e,r,i,n,o){for(var a=0,s=t[r-i],l=t[r-i+1];e<r;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(n-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(n-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function a(t,e,r,i,n,a){if(0===r.length)return!1;if(!o(t,e,r[0],i,n,a))return!1;for(var s=1,l=r.length;s<l;++s)if(o(t,r[s-1],r[s],i,n,a))return!1;return!0}function s(t,e,r,i,n,o){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var u=r[s];if(a(t,e,u,i,n,o))return!0;e=u[u.length-1]}return!1}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(87),o=r(10),a=function(t){function e(e,r,i,n){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=r,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.abstract)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.abstract)()},e}(n.default);e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(46),o=r(77),a=r(119),s=r(199),l=r(70),u=r(149),c=r(151),h=r(282),d=r(68),p=r(19),f=r(114),g=r(152),y=r(121),v=r(33),m=r(15),_=r(18),O=r(8),b=r(21),S=r(10),T=r(1),E=r(22),C=r(38),x=r(284),j=r(49),P=r(202),I=r(23),R=function(t){function e(e){t.call(this);var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var r,i,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new x.default({layers:t.layers});a[h.default.LAYERGROUP]=s,a[h.default.TARGET]=t.target,a[h.default.VIEW]=void 0!==t.view?t.view:new y.default,void 0!==t.controls&&(Array.isArray(t.controls)?r=new n.default(t.controls.slice()):(Object(m.assert)("function"==typeof t.controls.getArray,47),r=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new n.default(t.interactions.slice()):(Object(m.assert)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new n.default(t.overlays.slice()):(Object(m.assert)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new n.default;return{controls:r,interactions:i,keyboardEventTarget:e,overlays:o,values:a}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:C.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(I.create)(),this.pixelToCoordinateTransform_=Object(I.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(C.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[S.default.CLICK,S.default.DBLCLICK,S.default.MOUSEDOWN,S.default.TOUCHSTART,S.default.MSPOINTERDOWN,l.default.POINTERDOWN,S.default.MOUSEWHEEL,S.default.WHEEL],a=0,u=i.length;a<u;++a)Object(O.listen)(this.overlayContainerStopEvent_,i[a],b.stopPropagation);for(var c in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new s.default(this,e.moveTolerance),l.default)Object(O.listen)(this.mapBrowserEventHandler_,l.default[c],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=r.keyboardEventTarget,this.keyHandlerKeys_=null,Object(O.listen)(this.viewport_,S.default.CONTEXTMENU,this.handleBrowserEvent,this),Object(O.listen)(this.viewport_,S.default.WHEEL,this.handleBrowserEvent,this),Object(O.listen)(this.viewport_,S.default.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=r.controls||new n.default,this.interactions=r.interactions||new n.default,this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new g.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(O.listen)(this,Object(p.getChangeEventType)(h.default.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(O.listen)(this,Object(p.getChangeEventType)(h.default.VIEW),this.handleViewChanged_,this),Object(O.listen)(this,Object(p.getChangeEventType)(h.default.SIZE),this.handleSizeChanged_,this),Object(O.listen)(this,Object(p.getChangeEventType)(h.default.TARGET),this.handleTargetChanged_,this),this.setProperties(r.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(O.listen)(this.controls,o.default.ADD,function(t){t.element.setMap(this)},this),Object(O.listen)(this.controls,o.default.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(O.listen)(this.interactions,o.default.ADD,function(t){t.element.setMap(this)},this),Object(O.listen)(this.interactions,o.default.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(O.listen)(this.overlays_,o.default.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(O.listen)(this.overlays_,o.default.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(O.unlisten)(this.viewport_,S.default.CONTEXTMENU,this.handleBrowserEvent,this),Object(O.unlisten)(this.viewport_,S.default.WHEEL,this.handleBrowserEvent,this),Object(O.unlisten)(this.viewport_,S.default.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(S.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,r){if(this.frameState_){var i=this.getCoordinateFromPixel(t),n=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:E.TRUE;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,n,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var r=null;return this.forEachFeatureAtPixel(t,function(t){r||(r=[]),r.push(t)},e),r},e.prototype.forEachLayerAtPixel=function(t,e,r){if(this.frameState_){var i=r||{},n=void 0!==i.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||E.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,n,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:E.TRUE,n=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,n,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),r="changedTouches"in t?t.changedTouches[0]:t;return[r.clientX-e.left,r.clientY-e.top]},e.prototype.getTarget=function(){return this.get(h.default.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(I.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(h.default.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(I.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(h.default.SIZE)},e.prototype.getView=function(){return this.get(h.default.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,r,i){var n=this.frameState_;if(!(n&&e in n.wantedTiles))return P.DROP;if(!n.wantedTiles[e][t.getKey()])return P.DROP;var o=r[0]-n.focus[0],a=r[1]-n.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i},e.prototype.handleBrowserEvent=function(t,e){var r=e||t.type,i=new a.default(r,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var r=this.maxTilesLoading_,i=r;if(t){var n=t.viewHints;n[v.default.ANIMATING]&&(r=this.loadTilesWhileAnimating_?8:0,i=2),n[v.default.INTERACTING]&&(r=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<r&&(e.reprioritize(),e.loadMoreTiles(r,i))}!t||!this.hasListener(d.default.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var r=0,i=e.length;r<i;++r){var n=e[r];if("function"==typeof n.getLayers)return t(n.getLayers().getArray());var o=n.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(d.default.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,r=this.keyHandlerKeys_.length;e<r;++e)Object(O.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(O.listen)(i,S.default.KEYDOWN,this.handleBrowserEvent,this),Object(O.listen)(i,S.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(S.default.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(_.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(S.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(O.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(O.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.getUid)(t)),this.viewPropertyListenerKey_=Object(O.listen)(t,f.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(O.listen)(t,S.default.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(O.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(O.listen)(t,f.default.PROPERTYCHANGE,this.render,this),Object(O.listen)(t,S.default.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,r=this.getSize(),n=this.getView(),o=Object(T.createEmpty)(),a=this.frameState_,s=null;if(void 0!==r&&Object(j.hasArea)(r)&&n&&n.isDef()){for(var l=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),d={},p=0,f=h.length;p<f;++p)d[Object(i.getUid)(h[p].layer)]=h[p];e=n.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:d,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:l,wantedTiles:{}}}if(s&&(s.extent=Object(T.getForViewAndSize)(e.center,e.resolution,e.rotation,s.size,o)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a)(!this.previousExtent_||!Object(T.isEmpty)(this.previousExtent_)&&!Object(T.equals)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new u.default(c.default.MOVESTART,this,a)),this.previousExtent_=Object(T.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!s.viewHints[v.default.ANIMATING]&&!s.viewHints[v.default.INTERACTING]&&!Object(T.equals)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new u.default(c.default.MOVEEND,this,s)),Object(T.clone)(s.extent,this.previousExtent_))}this.dispatchEvent(new u.default(c.default.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(h.default.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(h.default.SIZE,t)},e.prototype.setTarget=function(t){this.set(h.default.TARGET,t)},e.prototype.setView=function(t){this.set(h.default.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.getUid)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.getUid)(t)],this.render()},e}(p.default);e.default=R},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n,o){t.call(this,e,r,o),this.originalEvent=i,this.pixel=r.getEventPixel(i),this.coordinate=r.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r(149).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n,o){t.call(this,e,r,i.originalEvent,n,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(119).default);e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"createCenterConstraint",function(){return x}),r.d(e,"createResolutionConstraint",function(){return j}),r.d(e,"createRotationConstraint",function(){return P}),r.d(e,"isNoopAnimation",function(){return I});var i=r(153),n=r(7),o=r(22),a=r(429),s=r(19),l=r(430),u=r(154),c=r(33),h=r(283),d=r(13),p=r(15),f=r(39),g=r(61),y=r(1),v=r(16),m=r(27),_=r(14),O=r(9),b=r(12),S=r(47),T=0,E=function(t){function e(e){t.call(this);var r=Object(O.assign)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(b.createProjection)(r.projection,"EPSG:3857"),this.applyOptions_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[h.default.CENTER]=void 0!==t.center?t.center:null;var r=j(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=r.minZoom;var i=x(t),n=r.constraint,o=P(t);this.constraints_={center:i,resolution:n,rotation:o},void 0!==t.resolution?e[h.default.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[h.default.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[h.default.RESOLUTION]=Object(_.clamp)(Number(this.getResolution()||e[h.default.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[h.default.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(O.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(O.assign)({},e,t)},e.prototype.animate=function(t){var e,r=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&C(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),s=this.getResolution(),l=this.getRotation(),u=[],h=0;h<i;++h){var d=r[h],p={start:o,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||g.inAndOut};if(d.center&&(p.sourceCenter=a,p.targetCenter=d.center,a=p.targetCenter),void 0!==d.zoom?(p.sourceResolution=s,p.targetResolution=this.constrainResolution(this.maxResolution_,d.zoom-this.minZoom_,0),s=p.targetResolution):d.resolution&&(p.sourceResolution=s,p.targetResolution=d.resolution,s=p.targetResolution),void 0!==d.rotation){p.sourceRotation=l;var f=Object(_.modulo)(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=l+f,l=p.targetRotation}p.callback=e,I(p)?p.complete=!0:o+=p.duration,u.push(p)}this.animations_.push(u),this.setHint(c.default.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.default.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.default.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.default.ANIMATING,-this.hints_[c.default.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var r=this.animations_[t];r[0].callback&&C(r[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,r=this.animations_.length-1;r>=0;--r){for(var i=this.animations_[r],n=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):n=!1;var d=s.easing(u);if(s.sourceCenter){var p=s.sourceCenter[0],f=s.sourceCenter[1],g=p+d*(s.targetCenter[0]-p),y=f+d*(s.targetCenter[1]-f);this.set(h.default.CENTER,[g,y])}if(s.sourceResolution&&s.targetResolution){var v=1===d?s.targetResolution:s.sourceResolution+d*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(h.default.CENTER,this.calculateCenterZoom(v,s.anchor)),this.set(h.default.RESOLUTION,v)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var m=1===d?Object(_.modulo)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+d*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(h.default.CENTER,this.calculateCenterRotate(m,s.anchor)),this.set(h.default.ROTATION,m)}if(e=!0,!s.complete)break}}if(n){this.animations_[r]=null,this.setHint(c.default.ANIMATING,-1);var O=i[0].callback;O&&C(O,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var r,i=this.getCenter();return void 0!==i&&(r=[i[0]-e[0],i[1]-e[1]],Object(f.rotate)(r,t-this.getRotation()),Object(f.add)(r,e)),r},e.prototype.calculateCenterZoom=function(t,e){var r,i=this.getCenter(),n=this.getResolution();void 0!==i&&void 0!==n&&(r=[e[0]-t*(e[0]-i[0])/n,e[1]-t*(e[1]-i[1])/n]);return r},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(n.getUid)(this)+'"]',r=document.querySelector(e);if(r){var i=getComputedStyle(r);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,r){var i=e||0,n=r||0;return this.constraints_.resolution(t,i,n)},e.prototype.constrainRotation=function(t,e){var r=e||0;return this.constraints_.rotation(t,r)},e.prototype.getCenter=function(){return this.get(h.default.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),r=this.getCenter();Object(p.assert)(r,1);var i=this.getResolution();Object(p.assert)(void 0!==i,2);var n=this.getRotation();return Object(p.assert)(void 0!==n,3),Object(y.getForViewAndSize)(r,i,n,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(h.default.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var r=e||this.getSizeFromViewport_(),i=Object(y.getWidth)(t)/r[0],n=Object(y.getHeight)(t)/r[1];return Math.max(i,n)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,r=this.maxResolution_,i=this.minResolution_,n=Math.log(r/i)/Math.log(e);return function(t){return r/Math.pow(e,t*n)}},e.prototype.getRotation=function(){return this.get(h.default.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,r=this.maxResolution_,i=this.minResolution_,n=Math.log(r/i)/Math.log(e);return function(t){return Math.log(r/t)/Math.log(e)/n}},e.prototype.getState=function(t){var e=this.getCenter(),r=this.getProjection(),i=this.getResolution(),n=i/t,o=this.getRotation();return{center:[Math.round(e[0]/n)*n,Math.round(e[1]/n)*n],projection:void 0!==r?r:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,r,i=this.minZoom_||0;if(this.resolutions_){var n=Object(d.linearFindNearest)(this.resolutions_,t,1);i=n,e=this.resolutions_[n],r=n==this.resolutions_.length-1?2:e/this.resolutions_[n+1]}else e=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(e/t)/Math.log(r)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var r,i=e||{},n=i.size;n||(n=this.getSizeFromViewport_()),Object(p.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(p.assert)(!Object(y.isEmpty)(t),25),r=Object(m.fromExtent)(t)):t.getType()===v.default.CIRCLE?(t=t.getExtent(),(r=Object(m.fromExtent)(t)).rotate(this.getRotation(),Object(y.getCenter)(t))):r=t;var a,s=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=r.getFlatCoordinates(),h=this.getRotation(),d=Math.cos(-h),f=Math.sin(-h),g=1/0,_=1/0,O=-1/0,b=-1/0,S=r.getStride(),T=0,E=c.length;T<E;T+=S){var x=c[T]*d-c[T+1]*f,j=c[T]*f+c[T+1]*d;g=Math.min(g,x),_=Math.min(_,j),O=Math.max(O,x),b=Math.max(b,j)}var P=this.getResolutionForExtent([g,_,O,b],[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]);if(P=isNaN(P)?a:Math.max(P,a),l){var I=this.constrainResolution(P,0,0);!u&&I<P&&(I=this.constrainResolution(I,-1,0)),P=I}f=-f;var R=(g+O)/2,L=(_+b)/2,w=[(R+=(s[1]-s[3])/2*P)*d-(L+=(s[0]-s[2])/2*P)*f,L*d+R*f],A=i.callback?i.callback:o.VOID;void 0!==i.duration?this.animate({resolution:P,center:w,duration:i.duration,easing:i.easing},A):(this.setResolution(P),this.setCenter(w),C(A,!0))},e.prototype.centerOn=function(t,e,r){var i=this.getRotation(),n=Math.cos(-i),o=Math.sin(-i),a=t[0]*n-t[1]*o,s=t[1]*n+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-r[0])*l)*n-(s+=(r[1]-e[1]/2)*l)*(o=-o),c=s*n+a*o;this.setCenter([u,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var r=this.calculateCenterRotate(t,e);this.setCenter(r)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(h.default.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(h.default.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(h.default.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(s.default);function C(t,e){setTimeout(function(){t(e)},0)}function x(t){return void 0!==t.extent?Object(a.createExtent)(t.extent):a.none}function j(t){var e,r,n,o=void 0!==t.minZoom?t.minZoom:T,a=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;r=u[o],n=void 0!==u[a]?u[a]:u[u.length-1],e=Object(l.createSnapToResolutions)(u)}else{var c=Object(b.createProjection)(t.projection,"EPSG:3857"),h=c.getExtent(),d=(h?Math.max(Object(y.getWidth)(h),Object(y.getHeight)(h)):360*b.METERS_PER_UNIT[S.default.DEGREES]/c.getMetersPerUnit())/i.DEFAULT_TILE_SIZE/Math.pow(2,T),p=d/Math.pow(2,28-T);void 0!==(r=t.maxResolution)?o=0:r=d/Math.pow(s,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(s,a):d/Math.pow(s,a):p),a=o+Math.floor(Math.log(r/n)/Math.log(s)),n=r/Math.pow(s,a-o),e=Object(l.createSnapToPower)(s,r,a-o)}return{constraint:e,maxResolution:r,minResolution:n,minZoom:o,zoomFactor:s}}function P(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(u.createSnapToZero)():!1===e?u.none:"number"==typeof e?Object(u.createSnapToN)(e):u.none}return u.disable}function I(t){return!(t.sourceCenter&&t.targetCenter&&!Object(f.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=E},function(t,e,r){"use strict";r.r(e);var i=r(70),n=r(36),o=function(t){function e(e){t.call(this,{handleEvent:a});var r=e||{};this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default);function a(t){var e=!1;if(t.type==i.default.DBLCLICK){var r=t.originalEvent,o=t.map,a=t.coordinate,s=r.shiftKey?-this.delta_:this.delta_,l=o.getView();Object(n.zoomByDelta)(l,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=o},function(t,e,r){"use strict";r.r(e),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(213),o=r.n(n),a=r(1),s=r(9),l=function(t){this.rbush_=o()(t,void 0),this.items_={}};l.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[Object(i.getUid)(e)]=r},l.prototype.load=function(t,e){for(var r=new Array(e.length),n=0,o=e.length;n<o;n++){var a=t[n],s=e[n],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[n]=l,this.items_[Object(i.getUid)(s)]=l}this.rbush_.load(r)},l.prototype.remove=function(t){var e=Object(i.getUid)(t),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},l.prototype.update=function(t,e){var r=this.items_[Object(i.getUid)(e)],n=[r.minX,r.minY,r.maxX,r.maxY];Object(a.equals)(n,t)||(this.remove(e),this.insert(t,e))},l.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},l.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},l.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},l.prototype.forEachInExtent=function(t,e,r){return this.forEach_(this.getInExtent(t),e,r)},l.prototype.forEach_=function(t,e,r){for(var i,n=0,o=t.length;n<o;n++)if(i=e.call(r,t[n]))return i;return i},l.prototype.isEmpty=function(){return Object(s.isEmpty)(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(a.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},l.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(117),n=r(59),o=function(t){function e(e,r,i,o,a){var s=void 0!==a?n.default.IDLE:n.default.LOADED;t.call(this,e,r,i,s),this.loader_=void 0!==a?a:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=n.default.ERROR):this.state=n.default.LOADED,this.changed()},e.prototype.load=function(){this.state==n.default.IDLE&&(this.state=n.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(i.default);e.default=o},function(t,e,r){"use strict";r.r(e);var i=function(){};i.prototype.drawCustom=function(t,e,r){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){},e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"createOrUpdate",function(){return n});var i=function(t,e,r,i){this.minX=t,this.maxX=e,this.minY=r,this.maxY=i};function n(t,e,r,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=r,o.maxY=n,o):new i(t,e,r,n)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.default=i},function(t,e,r){"use strict";r.r(e),e.default={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(13),o=r(104),a=r(1),s=r(276),l=r(16),u=r(78),c=r(279),h=r(434),d=r(67),p=r(38),f=r(9),g=r(126),y=r(63),v=r(130),m=r(106),_=r(23),O=Object(a.createEmpty)(),b=Object(_.create)(),S=function(t){function e(e,r,i,n,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=r,this.overlaps=o,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(_.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,r,i,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,r,i,n,o,s,l,u,c,h,d,p,f,g,v,m,S){var T=m||S;e-=n*=p,r-=o*=p;var E,C,x,j,P=g+c>i.width?i.width-c:g,I=l+h>i.height?i.height-h:l,R=v[3]+P*p+v[1],L=v[0]+I*p+v[2],w=e-v[3],A=r-v[0];(T||0!==d)&&(E=[w,A],C=[w+R,A],x=[w+R,A+L],j=[w,A+L]);var M=null;if(0!==d){var F=e+n,N=r+o;M=Object(_.compose)(b,F,N,1,1,d,-F,-N),Object(a.createOrUpdateEmpty)(O),Object(a.extendCoordinate)(O,Object(_.apply)(b,E)),Object(a.extendCoordinate)(O,Object(_.apply)(b,C)),Object(a.extendCoordinate)(O,Object(_.apply)(b,x)),Object(a.extendCoordinate)(O,Object(_.apply)(b,j))}else Object(a.createOrUpdate)(w,A,w+R,A+L,O);var D=t.canvas,k=S?S[2]*p/2:0,G=O[0]-k<=D.width&&O[2]+k>=0&&O[1]-k<=D.height&&O[3]+k>=0;if(f&&(e=Math.round(e),r=Math.round(r)),s){if(!G&&1==s[4])return;Object(a.extend)(s,O);var U=G?[t,M?M.slice(0):null,u,i,c,h,P,I,e,r,p]:null;U&&T&&U.push(m,S,E,C,x,j),s.push(U)}else G&&(T&&this.replayTextBackground_(t,E,C,x,j,m,S),Object(y.drawImage)(t,M,u,i,c,h,P,I,e,r,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,r,i,n,o){var l=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(e+=i);var c,h,d,p=[t[e],t[e+1]],f=[NaN,NaN],g=!0;for(c=e+i;c<r;c+=i)f[0]=t[c],f[1]=t[c+1],(d=Object(a.coordinateRelationship)(u,f))!==h?(g&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),this.coordinates[l++]=f[0],this.coordinates[l++]=f[1],g=!1):d===s.default.INTERSECTING?(this.coordinates[l++]=f[0],this.coordinates[l++]=f[1],g=!1):g=!0,p[0]=f[0],p[1]=f[1],h=d;return(n&&g||c===e+i)&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),l},e.prototype.drawCustomCoordinates_=function(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);n.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,r){this.beginGeometry(t,e);var i,n,o,a,s,c=t.getType(),h=t.getStride(),d=this.coordinates.length;if(c==l.default.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var p=t.getEndss();s=0;for(var f=0,g=p.length;f<g;++f){var y=[];s=this.drawCustomCoordinates_(i,s,p[f],h,y),a.push(y)}this.instructions.push([v.default.CUSTOM,d,a,t,r,u.inflateMultiCoordinatesArray])}else c==l.default.POLYGON||c==l.default.MULTI_LINE_STRING?(o=[],i=c==l.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),h,o),this.instructions.push([v.default.CUSTOM,d,o,t,r,u.inflateCoordinatesArray])):c==l.default.LINE_STRING||c==l.default.MULTI_POINT?(i=t.getFlatCoordinates(),n=this.appendFlatCoordinates(i,0,i.length,h,!1,!1),this.instructions.push([v.default.CUSTOM,d,n,t,r,u.inflateCoordinates])):c==l.default.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),n=this.coordinates.length,this.instructions.push([v.default.CUSTOM,d,n,t,r]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[v.default.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[v.default.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(_.apply)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,y.resetTransform)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],p.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var r=t[4];if(1==r||r==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var n=5,o=t.length;n<o;++n){var s=t[n];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),y.drawImage.apply(void 0,s))}}t.length=5,Object(a.createOrUpdateEmpty)(t)}}},e.prototype.replay_=function(t,e,r,o,s,l,u){var p;this.pixelCoordinates_&&Object(n.equals)(e,this.renderedTransform_)?p=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),p=Object(d.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(_.setFromArray)(this.renderedTransform_,e));for(var g,O,b,S,T,E,C,x,j,P,I,R,L=!Object(f.isEmpty)(r),w=0,A=o.length,M=0,F=0,N=0,D=null,k=null,G=this.coordinateCache_,U=this.viewRotation_,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},V=this.instructions!=o||this.overlaps?0:200;w<A;){var Z=o[w];switch(Z[0]){case v.default.BEGIN_GEOMETRY:P=Z[1],L&&r[Object(i.getUid)(P)]||!P.getGeometry()?w=Z[2]:void 0===u||Object(a.intersects)(u,P.getGeometry().getExtent())?++w:w=Z[2]+1;break;case v.default.BEGIN_PATH:F>V&&(this.fill_(t),F=0),N>V&&(t.stroke(),N=0),F||N||(t.beginPath(),S=T=NaN),++w;break;case v.default.CIRCLE:var z=p[M=Z[1]],W=p[M+1],Y=p[M+2]-z,X=p[M+3]-W,H=Math.sqrt(Y*Y+X*X);t.moveTo(z+H,W),t.arc(z,W,H,0,2*Math.PI,!0),++w;break;case v.default.CLOSE_PATH:t.closePath(),++w;break;case v.default.CUSTOM:M=Z[1],g=Z[2];var q=Z[3],K=Z[4],J=6==Z.length?Z[5]:void 0;B.geometry=q,B.feature=P,w in G||(G[w]=[]);var Q=G[w];J?J(p,M,g,2,Q):(Q[0]=p[M],Q[1]=p[M+1],Q.length=2),K(Q,B),++w;break;case v.default.DRAW_IMAGE:M=Z[1],g=Z[2],j=Z[3],O=Z[4],b=Z[5],x=l?null:Z[6];var $=Z[7],tt=Z[8],et=Z[9],rt=Z[10],it=Z[11],nt=Z[12],ot=Z[13],at=Z[14],st=void 0,lt=void 0,ut=void 0;for(Z.length>16?(st=Z[15],lt=Z[16],ut=Z[17]):(st=y.defaultPadding,lt=ut=!1),it&&(nt+=U);M<g;M+=2)this.replayImage_(t,p[M],p[M+1],j,O,b,x,$,tt,et,rt,nt,ot,s,at,st,lt?D:null,ut?k:null);this.renderDeclutter_(x,P),++w;break;case v.default.DRAW_CHARS:var ct=Z[1],ht=Z[2],dt=Z[3];x=l?null:Z[4];var pt=Z[5],ft=Z[6],gt=Z[7],yt=Z[8],vt=Z[9],mt=Z[10],_t=Z[11],Ot=Z[12],bt=Z[13],St=Z[14],Tt=Object(c.lineStringLength)(p,ct,ht,2),Et=yt(Ot);if(pt||Et<=Tt){var Ct=this.textStates[bt].textAlign,xt=(Tt-Et)*m.TEXT_ALIGN[Ct],jt=Object(h.drawTextOnPath)(p,ct,ht,2,Ot,yt,xt,gt);if(jt){var Pt=void 0,It=void 0,Rt=void 0,Lt=void 0,wt=void 0;if(mt)for(Pt=0,It=jt.length;Pt<It;++Pt)Rt=(wt=jt[Pt])[4],Lt=this.getImage(Rt,bt,"",mt),O=wt[2]+_t,b=dt*Lt.height+2*(.5-dt)*_t-vt,this.replayImage_(t,wt[0],wt[1],Lt,O,b,x,Lt.height,1,0,0,wt[3],St,!1,Lt.width,y.defaultPadding,null,null);if(ft)for(Pt=0,It=jt.length;Pt<It;++Pt)Rt=(wt=jt[Pt])[4],Lt=this.getImage(Rt,bt,ft,""),O=wt[2],b=dt*Lt.height-vt,this.replayImage_(t,wt[0],wt[1],Lt,O,b,x,Lt.height,1,0,0,wt[3],St,!1,Lt.width,y.defaultPadding,null,null)}}this.renderDeclutter_(x,P),++w;break;case v.default.END_GEOMETRY:if(void 0!==l){var At=l(P=Z[1]);if(At)return At}++w;break;case v.default.FILL:V?F++:this.fill_(t),++w;break;case v.default.MOVE_TO_LINE_TO:for(M=Z[1],g=Z[2],I=p[M],C=(R=p[M+1])+.5|0,(E=I+.5|0)===S&&C===T||(t.moveTo(I,R),S=E,T=C),M+=2;M<g;M+=2)E=(I=p[M])+.5|0,C=(R=p[M+1])+.5|0,M!=g-2&&E===S&&C===T||(t.lineTo(I,R),S=E,T=C);++w;break;case v.default.SET_FILL_STYLE:D=Z,this.alignFill_=Z[2],F&&(this.fill_(t),F=0,N&&(t.stroke(),N=0)),t.fillStyle=Z[1],++w;break;case v.default.SET_STROKE_STYLE:k=Z,N&&(t.stroke(),N=0),this.setStrokeStyle_(t,Z),++w;break;case v.default.STROKE:V?N++:t.stroke(),++w;break;default:++w}}F&&this.fill_(t),N&&t.stroke()},e.prototype.replay=function(t,e,r,i,n){this.viewRotation_=r,this.replay_(t,e,i,this.instructions,n,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,r,i,n,o){return this.viewRotation_=r,this.replay_(t,e,i,this.hitDetectionInstructions,!0,n,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var r,i,o=e.length,a=-1;for(t=0;t<o;++t)(i=(r=e[t])[0])==v.default.END_GEOMETRY?a=t:i==v.default.BEGIN_GEOMETRY&&(r[2]=t,Object(n.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var i=t.getColor();r.fillStyle=Object(o.asColorLike)(i||y.defaultFillStyle)}else r.fillStyle=void 0;if(e){var n=e.getColor();r.strokeStyle=Object(o.asColorLike)(n||y.defaultStrokeStyle);var a=e.getLineCap();r.lineCap=void 0!==a?a:y.defaultLineCap;var s=e.getLineDash();r.lineDash=s?s.slice():y.defaultLineDash;var l=e.getLineDashOffset();r.lineDashOffset=l||y.defaultLineDashOffset;var u=e.getLineJoin();r.lineJoin=void 0!==u?u:y.defaultLineJoin;var c=e.getWidth();r.lineWidth=void 0!==c?c:y.defaultLineWidth;var h=e.getMiterLimit();r.miterLimit=void 0!==h?h:y.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t,e){var r=t.fillStyle,i=[v.default.SET_FILL_STYLE,r];return"string"!=typeof r&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[v.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,r){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,r)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var r=t.strokeStyle,i=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||o!=t.currentLineDash&&!Object(n.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=u)&&(void 0!==r&&e.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[v.default.END_GEOMETRY,e];this.instructions.push(r),this.hitDetectionInstructions.push(r)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(a.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(a.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(g.default);e.default=S},function(t,e,r){"use strict";r.r(e),r.d(e,"fillInstruction",function(){return n}),r.d(e,"strokeInstruction",function(){return o}),r.d(e,"beginPathInstruction",function(){return a}),r.d(e,"closePathInstruction",function(){return s});var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},n=[i.FILL],o=[i.STROKE],a=[i.BEGIN_PATH],s=[i.CLOSE_PATH];e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"createEmptyTexture",function(){return d}),r.d(e,"createTexture",function(){return p});var i=r(7),n=r(17),o=r(98),a=r(13),s=r(8),l=r(9),u=r(308),c=function(t){function e(e,r){t.call(this),this.canvas_=e,this.gl_=r,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Object(a.includes)(n.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&r.getExtension("OES_element_index_uint"),Object(s.listen)(this.canvas_,u.default.LOST,this.handleWebGLContextLost,this),Object(s.listen)(this.canvas_,u.default.RESTORED,this.handleWebGLContextRestored,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindBuffer=function(t,e){var r=this.getGL(),o=e.getArray(),a=Object(i.getUid)(e);if(a in this.bufferCache_){var s=this.bufferCache_[a];r.bindBuffer(t,s.buffer)}else{var l,u=r.createBuffer();r.bindBuffer(t,u),t==n.ARRAY_BUFFER?l=new Float32Array(o):t==n.ELEMENT_ARRAY_BUFFER&&(l=this.hasOESElementIndexUint?new Uint32Array(o):new Uint16Array(o)),r.bufferData(t,l,e.getUsage()),this.bufferCache_[a]={buf:e,buffer:u}}},e.prototype.deleteBuffer=function(t){var e=this.getGL(),r=Object(i.getUid)(t),n=this.bufferCache_[r];e.isContextLost()||e.deleteBuffer(n.buffer),delete this.bufferCache_[r]},e.prototype.disposeInternal=function(){Object(s.unlistenAll)(this.canvas_);var t=this.getGL();if(!t.isContextLost()){for(var e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(var r in this.programCache_)t.deleteProgram(this.programCache_[r]);for(var i in this.shaderCache_)t.deleteShader(this.shaderCache_[i]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},e.prototype.getShader=function(t){var e=Object(i.getUid)(t);if(e in this.shaderCache_)return this.shaderCache_[e];var r=this.getGL(),n=r.createShader(t.getType());return r.shaderSource(n,t.getSource()),r.compileShader(n),this.shaderCache_[e]=n,n},e.prototype.getProgram=function(t,e){var r=Object(i.getUid)(t)+"/"+Object(i.getUid)(e);if(r in this.programCache_)return this.programCache_[r];var n=this.getGL(),o=n.createProgram();return n.attachShader(o,this.getShader(t)),n.attachShader(o,this.getShader(e)),n.linkProgram(o),this.programCache_[r]=o,o},e.prototype.handleWebGLContextLost=function(){Object(l.clear)(this.bufferCache_),Object(l.clear)(this.shaderCache_),Object(l.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=d(t,1,1),i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=r,this.hitDetectionRenderbuffer_=i},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},e}(o.default);function h(t,e,r){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),void 0!==r&&t.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,r),i}function d(t,e,r,i,n){var o=h(t,i,n);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,r,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function p(t,e,r,i){var n=h(t,r,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(10),o=r(1),a=r(193),s=r(16),l=r(9),u=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(i.unlisten)(this.geometries_[t],n.default.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(i.listen)(this.geometries_[t],n.default.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(o.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var n=this.geometries_,a=0,s=n.length;a<s;++a)i=n[a].closestPointXY(t,e,r,i);return i},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)if(r[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(o.createOrUpdateEmpty)(t);for(var e=this.geometries_,r=0,i=e.length;r<i;++r)Object(o.extend)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return c(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(l.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(r))return this.simplifiedGeometryCache[r];for(var i=[],n=this.geometries_,o=!1,a=0,s=n.length;a<s;++a){var u=n[a],c=u.getSimplifiedGeometry(t);i.push(c),c!==u&&(o=!0)}if(o){var h=new e(null);return h.setGeometriesArray(i),this.simplifiedGeometryCache[r]=h,h}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return s.default.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var i=r;i||(i=Object(o.getCenter)(this.getExtent()));for(var n=this.geometries_,a=0,s=n.length;a<s;++a)n[a].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(c(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(a.default);function c(t){for(var e=[],r=0,i=t.length;r<i;++r)e.push(t[r].clone());return e}e.default=u},function(t,e,r){"use strict";r.r(e);var i=function(t){this.tagName_=t};i.prototype.getTagName=function(){return this.tagName_},e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r){t.call(this,e),this.propertyName=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(133).default);e.default=i},function(t,e,r){var i=r(182);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogService=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{};return r.baseUrl="igs/rest/mrcs",(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r))}return(0,a.default)(e,t),e}(r(75).ServiceBase);e.CatalogService=u,s.Zondy.Catalog.CatalogService=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryServiceBase=void 0;var i=g(r(24)),n=g(r(3)),o=g(r(2)),a=g(r(11)),s=g(r(4)),l=g(r(5)),u=r(0),c=r(6),h=r(75),d=r(372),p=r(265),f=r(20);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t){(0,o.default)(this,e);var r=t||{};r.baseUrl="igs/rest/mrfs";var i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.resultCallBack=void 0!==r.resultCallBack?r.resultCallBack:null,i.queryParam=void 0!==r.queryParam?r.queryParam:null,i.requestType=void 0!==r.requestType?r.requestType:"GET",i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"processResult",value:function(t){var e=new d.FeatureSet;(0,c.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"processGeoJsonResult",value:function(t){var e={};(0,c.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"restQuery",value:function(t,e,r,n,o,a){this.resultCallBack=r;var s=new f.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:"geojson"!==a?this.processResult:this.processGeoJsonResult,processFailed:o}});"GET"===n?s.processAsync():s.processAsync({method:"POST",data:(0,i.default)(e),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"query",value:function(t,e,r){if(null!==this.queryParam){var i="";if(this.queryParam instanceof p.QueryParameter){i=this.getFullUrl();var n="",o=null;"GET"===(n=r||(this.requestType?this.requestType:"GET")).toUpperCase()?(i+="?"+this.queryParam.getParameterURL(),i=encodeURI(i)):o=this.queryParam.getParameterObject(),this.restQuery(i,o,t,n,e,this.queryParam.resultFormat.toLowerCase())}}}}]),e}(h.ServiceBase);e.QueryServiceBase=y,u.Zondy.Service.QueryServiceBase=y},function(t,e,r){"use strict";r.r(e);var i=r(7),n=function(t){function e(e){var r="Assertion failed. See https://openlayers.org/en/"+("latest"===i.VERSION?i.VERSION:"v"+i.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,r),this.code=e,this.name="AssertionError",this.message=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(28),o=r(16),a=r(53),s=r(144),l=r(115),u=r(58),c=r(78),h=r(99),d=function(t){function e(e,r){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?this.setCoordinates(e,r):this.setFlatCoordinates(r,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<Object(i.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.getArea=function(){return Object(s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,n.default.XY)},e.prototype.getType=function(){return o.default.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.default);e.default=d},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=0,o=t[r-i],a=t[r-i+1];e<r;e+=i){var s=t[e],l=t[e+1];n+=a*s-o*l,o=s,a=l}return n/2}function n(t,e,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(t,e,l,n),e=l}return o}function o(t,e,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=n(t,e,l,i),e=l[l.length-1]}return o}r.r(e),r.d(e,"linearRing",function(){return i}),r.d(e,"linearRings",function(){return n}),r.d(e,"linearRingss",function(){return o})},function(t,e,r){"use strict";r.r(e),r.d(e,"intersectsLineString",function(){return a}),r.d(e,"intersectsLineStringArray",function(){return s}),r.d(e,"intersectsLinearRing",function(){return l}),r.d(e,"intersectsLinearRingArray",function(){return u}),r.d(e,"intersectsLinearRingMultiArray",function(){return c});var i=r(1),n=r(116),o=r(278);function a(t,e,r,n,a){var s=Object(i.extendFlatCoordinates)(Object(i.createEmpty)(),t,e,r,n);return!!Object(i.intersects)(a,s)&&(!!Object(i.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(o.forEach)(t,e,r,n,function(t,e){return Object(i.intersectsSegment)(a,t,e)}))))}function s(t,e,r,i,n){for(var o=0,s=r.length;o<s;++o){if(a(t,e,r[o],i,n))return!0;e=r[o]}return!1}function l(t,e,r,i,o){return!!a(t,e,r,i,o)||(!!Object(n.linearRingContainsXY)(t,e,r,i,o[0],o[1])||(!!Object(n.linearRingContainsXY)(t,e,r,i,o[0],o[3])||(!!Object(n.linearRingContainsXY)(t,e,r,i,o[2],o[1])||!!Object(n.linearRingContainsXY)(t,e,r,i,o[2],o[3]))))}function u(t,e,r,i,o){if(!l(t,e,r[0],i,o))return!1;if(1===r.length)return!0;for(var s=1,u=r.length;s<u;++s)if(Object(n.linearRingContainsExtent)(t,r[s-1],r[s],i,o)&&!a(t,r[s-1],r[s],i,o))return!1;return!0}function c(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(u(t,e,s,i,n))return!0;e=s[s.length-1]}return!1}},function(t,e,r){"use strict";function i(t,e,r){var i=void 0!==r?t.toFixed(r):""+t,n=i.indexOf(".");return(n=-1===n?i.length:n)>e?i:new Array(1+e-n).join("0")+i}function n(t,e){for(var r=(""+t).split("."),i=(""+e).split("."),n=0;n<Math.max(r.length,i.length);n++){var o=parseInt(r[n]||"0",10),a=parseInt(i[n]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}r.r(e),r.d(e,"padNumber",function(){return i}),r.d(e,"compareVersions",function(){return n})},function(t,e,r){"use strict";r.r(e);var i=function(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0};i.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},i.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},i.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var r=e-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[e+2]-this.points_[r+2];if(i<1e3/60)return!1;var n=this.points_[e]-this.points_[r],o=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(o,n),this.initialVelocity_=Math.sqrt(n*n+o*o)/i,this.initialVelocity_>this.minVelocity_},i.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},i.prototype.getAngle=function(){return this.angle_},e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(118),n=r(204),o=r(205),a=r(9),s=r(219),l=r(220),u=r(171),c=r(296),h=r(299),d=function(t){function e(e){(e=Object(a.assign)({},e)).controls||(e.controls=Object(n.defaults)()),e.interactions||(e.interactions=Object(o.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new l.default(this);return t.registerLayerRenderers([s.default,u.default,c.default,h.default]),t},e}(i.default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,e),this.map=r,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(21).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t,e){this.dispatcher=t,this.mapping_=e};i.prototype.getEvents=function(){return Object.keys(this.mapping_)},i.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},e.default=i},function(t,e,r){"use strict";r.r(e),e.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,r){"use strict";r.r(e);var i=r(30),n=r(8),o=r(10),a=function(t){function e(e,r){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=r,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var r=t.prototype.enqueue.call(this,e);if(r){var i=e[0];Object(n.listen)(i,o.default.CHANGE,this.handleTileChange,this)}return r},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,r=e.getState();if(r===i.default.LOADED||r===i.default.ERROR||r===i.default.EMPTY||r===i.default.ABORT){Object(n.unlisten)(e,o.default.CHANGE,this.handleTileChange,this);var a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var r,n,o,a=0,s=!1;this.tilesLoading_<t&&a<e&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),(r=n.getState())===i.default.ABORT?s=!0:r!==i.default.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,n.load());0===a&&s&&this.tileChangeCallback_()},e}(r(202).default);e.default=a},function(t,e,r){"use strict";r.r(e),r.d(e,"DEFAULT_MAX_ZOOM",function(){return i}),r.d(e,"DEFAULT_TILE_SIZE",function(){return n});var i=42,n=256},function(t,e,r){"use strict";r.r(e),r.d(e,"disable",function(){return n}),r.d(e,"none",function(){return o}),r.d(e,"createSnapToN",function(){return a}),r.d(e,"createSnapToZero",function(){return s});var i=r(14);function n(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function a(t){var e=2*Math.PI/t;return function(t,r){return void 0!==t?t=Math.floor((t+r)/e+.5)*e:void 0}}function s(t){var e=t||Object(i.toRadians)(5);return function(t,r){return void 0!==t?Math.abs(t+r)<=e?0:t+r:void 0}}},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return h});var i=r(13),n=r(50),o=r(51),a=r(18),s=r(8),l=r(10),u=r(79),c=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||h,target:r.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===r.collapsed||r.collapsed,this.overrideCollapsible_=void 0!==r.collapsible,this.collapsible_=void 0===r.collapsible||r.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",n=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a):this.collapseLabel_=a;var u=void 0!==r.label?r.label:"i";"string"==typeof u?(this.label_=document.createElement("span"),this.label_.textContent=u):this.label_=u;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=n,d.appendChild(c),Object(s.listen)(d,l.default.CLICK,this.handleClick_,this);var p=i+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+o.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),f=this.element;f.className=p,f.appendChild(this.ulElement_),f.appendChild(d),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},r=[],i=t.layerStatesArray,n=t.viewState.resolution,o=0,a=i.length;o<a;++o){var s=i[o];if(Object(u.visibleAtResolution)(s,n)){var l=s.layer.getSource();if(l){var c=l.getAttributions();if(c){var h=c(t);if(h)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(h))for(var d=0,p=h.length;d<p;++d)h[d]in e||(r.push(h[d]),e[h[d]]=!0);else h in e||(r.push(h),e[h]=!0)}}}}return r},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),r=e.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(i.equals)(e,this.renderedAttributions_)){Object(a.removeChildren)(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var s=document.createElement("li");s.innerHTML=e[n],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.CLASS_COLLAPSED),this.collapsed_?Object(a.replaceNode)(this.collapseLabel_,this.label_):Object(a.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(n.default);function h(t){this.updateElement_(t.frameState)}e.default=c},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return u});var i=r(50),n=r(51),o=r(61),a=r(8),s=r(10),l=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||u,target:r.target});var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var l=r.tipLabel?r.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=l,c.appendChild(this.label_),Object(a.listen)(c,s.default.CLICK,this.handleClick_,this);var h=i+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=r.resetNorth?r.resetNorth:void 0,this.duration_=void 0!==r.duration?r.duration:250,this.autoHide_=void 0===r.autoHide||r.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(n.CLASS_HIDDEN)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:o.easeOut}):t.setRotation(0))},e}(i.default);function u(t){var e=t.frameState;if(e){var r=e.viewState.rotation;if(r!=this.rotation_){var i="rotate("+r+"rad)";if(this.autoHide_){var o=this.element.classList.contains(n.CLASS_HIDDEN);o||0!==r?o&&0!==r&&this.element.classList.remove(n.CLASS_HIDDEN):this.element.classList.add(n.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=r}}e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(10),o=r(50),a=r(51),s=r(61),l=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target});var o=void 0!==r.className?r.className:"ol-zoom",s=void 0!==r.delta?r.delta:1,l=void 0!==r.zoomInLabel?r.zoomInLabel:"+",u=void 0!==r.zoomOutLabel?r.zoomOutLabel:"",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=o+"-in",d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof l?document.createTextNode(l):l),Object(i.listen)(d,n.default.CLICK,this.handleClick_.bind(this,s));var p=document.createElement("button");p.className=o+"-out",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof u?document.createTextNode(u):u),Object(i.listen)(p,n.default.CLICK,this.handleClick_.bind(this,-s));var f=o+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,g=this.element;g.className=f,g.appendChild(d),g.appendChild(p),this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var r=e.getResolution();if(r){var i=e.constrainResolution(r,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:s.easeOut})):e.setResolution(i)}}},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(33),n=r(39),o=r(61),a=r(40),s=r(22),l=r(34),u=function(t){function e(e){t.call(this,{stopDown:s.FALSE});var r=e||{};this.kinetic_=r.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=r.condition?r.condition:a.noModifierKeys,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(i.default.INTERACTING,1));var e=this.targetPointers,r=Object(l.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var o=this.lastCentroid[0]-r[0],a=r[1]-this.lastCentroid[1],s=t.map.getView(),u=[o,a];Object(n.scale)(u,s.getResolution()),Object(n.rotate)(u,s.getRotation()),Object(n.add)(u,s.getCenter()),u=s.constrainCenter(u),s.setCenter(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,r=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=r.getCenter(),l=e.getPixelFromCoordinate(s),u=e.getCoordinateFromPixel([l[0]-n*Math.cos(a),l[1]-n*Math.sin(a)]);r.animate({center:r.constrainCenter(u),duration:500,easing:o.easeOut})}return this.panning_&&(this.panning_=!1,r.setHint(i.default.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(l.default);e.default=u},function(t,e,r){"use strict";r.r(e);var i=r(154),n=r(33),o=r(40),a=r(22),s=r(36),l=function(t){function e(e){var r=e||{};t.call(this,{stopDown:a.FALSE}),this.condition_=r.condition?r.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(o.mouseOnly)(t)){var e=t.map,r=e.getView();if(r.getConstraints().rotation!==i.disable){var n=e.getSize(),a=t.pixel,l=Math.atan2(n[1]/2-a[1],a[0]-n[0]/2);if(void 0!==this.lastAngle_){var u=l-this.lastAngle_,c=r.getRotation();Object(s.rotateWithoutConstraints)(r,c-u)}this.lastAngle_=l}}},e.prototype.handleUpEvent=function(t){if(!Object(o.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(n.default.INTERACTING,-1);var r=e.getRotation();return Object(s.rotate)(e,r,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Object(o.mouseOnly)(t)&&(!(!Object(o.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().setHint(n.default.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(r(34).default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(61),n=r(40),o=r(1),a=function(t){function e(e){var r=e||{},i=r.condition?r.condition:n.shiftKeyOnly;t.call(this,{condition:i,className:r.className||"ol-dragzoom",onBoxEnd:s}),this.duration_=void 0!==r.duration?r.duration:200,this.out_=void 0!==r.out&&r.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(161).default);function s(){var t=this.getMap(),e=t.getView(),r=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtent(r),s=Object(o.createOrUpdateFromCoordinates)([t.getPixelFromCoordinate(Object(o.getBottomLeft)(n)),t.getPixelFromCoordinate(Object(o.getTopRight)(n))]),l=e.getResolutionForExtent(s,r);Object(o.scaleFromCenter)(a,1/l),n=a}var u=e.constrainResolution(e.getResolutionForExtent(n,r)),c=Object(o.getCenter)(n);c=e.constrainCenter(c),e.animate({resolution:u,center:c,duration:this.duration_,easing:i.easeOut})}e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(21),n=r(40),o=r(22),a=r(34),s=r(431),l="boxstart",u="boxdrag",c="boxend",h=function(t){function e(e,r,i){t.call(this,e),this.coordinate=r,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default),d=function(t){function e(e){t.call(this);var r=e||{};this.box_=new s.default(r.className||"ol-dragbox"),this.minArea_=void 0!==r.minArea?r.minArea:64,this.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:o.VOID,this.startPixel_=null,this.condition_=r.condition?r.condition:n.always,this.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,r){var i=r[0]-e[0],n=r[1]-e[1];return i*i+n*n>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(n.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new h(u,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(n.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new h(c,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(n.mouseOnly)(t)&&(!(!Object(n.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new h(l,t.coordinate,t)),!0))},e}(a.default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(39),n=r(10),o=r(432),a=r(40),s=r(36),l=function(t){function e(e){t.call(this,{handleEvent:u});var r=e||{};this.defaultCondition_=function(t){return Object(a.noModifierKeys)(t)&&Object(a.targetNotEditable)(t)},this.condition_=void 0!==r.condition?r.condition:this.defaultCondition_,this.duration_=void 0!==r.duration?r.duration:100,this.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default);function u(t){var e=!1;if(t.type==n.default.KEYDOWN){var r=t.originalEvent.keyCode;if(this.condition_(t)&&(r==o.default.DOWN||r==o.default.LEFT||r==o.default.RIGHT||r==o.default.UP)){var a=t.map.getView(),l=a.getResolution()*this.pixelDelta_,u=0,c=0;r==o.default.DOWN?c=-l:r==o.default.LEFT?u=-l:r==o.default.RIGHT?u=l:c=l;var h=[u,c];Object(i.rotate)(h,a.getRotation()),Object(s.pan)(a,h,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(10),n=r(40),o=r(36),a=function(t){function e(e){t.call(this,{handleEvent:s});var r=e||{};this.condition_=r.condition?r.condition:n.targetNotEditable,this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default);function s(t){var e=!1;if(t.type==i.default.KEYDOWN||t.type==i.default.KEYPRESS){var r=t.originalEvent.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=t.map,a=r=="+".charCodeAt(0)?this.delta_:-this.delta_,s=n.getView();Object(o.zoomByDelta)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=a},function(t,e,r){"use strict";r.r(e),r.d(e,"Mode",function(){return c});var i=r(33),n=r(40),o=r(61),a=r(10),s=r(38),l=r(36),u=r(14),c={TRACKPAD:"trackpad",WHEEL:"wheel"},h=function(t){function e(e){var r=e||{};t.call(this,r),this.delta_=0,this.duration_=void 0!==r.duration?r.duration:250,this.timeout_=void 0!==r.timeout?r.timeout:80,this.useAnchor_=void 0===r.useAnchor||r.useAnchor,this.constrainResolution_=r.constrainResolution||!1,this.condition_=r.condition?r.condition:n.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(i.default.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==a.default.WHEEL&&e!==a.default.MOUSEWHEEL)return!0;t.preventDefault();var r,n=t.map,l=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==a.default.WHEEL?(r=l.deltaY,s.FIREFOX&&l.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=s.DEVICE_PIXEL_RATIO),l.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)):t.type==a.default.MOUSEWHEEL&&(r=-l.wheelDeltaY,s.SAFARI&&(r/=3)),0===r)return!1;var u=Date.now();if(void 0===this.startTime_&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?c.TRACKPAD:c.WHEEL),this.mode_===c.TRACKPAD){var h=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):h.setHint(i.default.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var d=h.getResolution()*Math.pow(2,r/this.trackpadDeltaPerZoom_),p=h.getMinResolution(),f=h.getMaxResolution(),g=0;if(d<p?(d=Math.max(d,p/this.trackpadZoomBuffer_),g=1):d>f&&(d=Math.min(d,f*this.trackpadZoomBuffer_),g=-1),this.lastAnchor_){var y=h.calculateCenterZoom(d,this.lastAnchor_);h.setCenter(h.constrainCenter(y))}return h.setResolution(d),0===g&&this.constrainResolution_&&h.animate({resolution:h.constrainResolution(d,r>0?-1:1),easing:o.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),g>0?h.animate({resolution:p,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}):g<0&&h.animate({resolution:f,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=u,!1}this.delta_+=r;var v=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),v),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var r=Object(u.clamp)(this.delta_,-1,1);Object(l.zoomByDelta)(e,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(l.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(33),n=r(22),o=r(36),a=r(34),s=r(154),l=function(t){function e(e){var r=e||{},i=r;i.stopDown||(i.stopDown=n.FALSE),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==r.threshold?r.threshold:.3,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,r=this.targetPointers[0],i=this.targetPointers[1],n=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){var l=n-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=l}this.lastAngle_=n;var u=t.map,c=u.getView();if(c.getConstraints().rotation!==s.disable){var h=u.getViewport().getBoundingClientRect(),d=Object(a.centroid)(this.targetPointers);if(d[0]-=h.left,d[1]-=h.top,this.anchor_=u.getCoordinateFromPixel(d),this.rotating_){var p=c.getRotation();u.render(),Object(o.rotateWithoutConstraints)(c,p+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(i.default.INTERACTING,-1),this.rotating_){var r=e.getRotation();Object(o.rotate)(e,r,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(i.default.INTERACTING,1),!0}return!1},e}(a.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(33),n=r(22),o=r(36),a=r(34),s=function(t){function e(e){var r=e||{},i=r;i.stopDown||(i.stopDown=n.FALSE),t.call(this,i),this.constrainResolution_=r.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==r.duration?r.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,r=this.targetPointers[0],i=this.targetPointers[1],n=r.clientX-i.clientX,s=r.clientY-i.clientY,l=Math.sqrt(n*n+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,c=u.getView(),h=c.getResolution(),d=c.getMaxResolution(),p=c.getMinResolution(),f=h*e;f>d?(e=d/h,f=d):f<p&&(e=p/h,f=p),1!=e&&(this.lastScaleDelta_=e);var g=u.getViewport().getBoundingClientRect(),y=Object(a.centroid)(this.targetPointers);y[0]-=g.left,y[1]-=g.top,this.anchor_=u.getCoordinateFromPixel(y),u.render(),Object(o.zoomWithoutConstraints)(c,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(i.default.INTERACTING,-1);var r=e.getResolution();if(this.constrainResolution_||r<e.getMinResolution()||r>e.getMaxResolution()){var n=this.lastScaleDelta_-1;Object(o.zoom)(e,r,this.anchor_,this.duration_,n)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(i.default.INTERACTING,1),!0}return!1},e}(a.default);e.default=s},function(t,e,r){"use strict";r.r(e);var i=r(15),n=r(87),o=r(10),a=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.default.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var r=this.oldest_;r;)t.call(e,r.value_,r.key_,this),r=r.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.assert)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),r=0;for(t=this.newest_;t;t=t.older)e[r++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.assert)(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(n.default);e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(19),o=r(12),a=r(48),s=function(t){function e(e){t.call(this),this.projection_=Object(o.get)(e.projection),this.attributions_=l(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:a.default.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.abstract)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=l(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(n.default);function l(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.default=s},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n,o){t.call(this,e),this.vectorContext=r,this.frameState=i,this.context=n,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(21).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(104),o=r(1),a=r(16),s=r(53),l=r(67),u=r(38),c=r(126),h=r(63),d=r(23),p=function(t){function e(e,r,i,n,o){t.call(this),this.context_=e,this.pixelRatio_=r,this.extent_=i,this.transform_=n,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(d.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,r,i){if(this.image_){var n=Object(l.transform2D)(t,e,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,h=n.length;c<h;c+=2){var p=n[c]-this.imageAnchorX_,f=n[c+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var g=p+this.imageAnchorX_,y=f+this.imageAnchorY_;Object(d.compose)(a,g,y,this.imageScale_,this.imageScale_,u,-g,-y),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,r,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(l.transform2D)(t,e,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<r;e+=i){var s=n[e]+this.textOffsetX_,u=n[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=Object(d.compose)(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,a,-s,-u);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,r,i,n){var o=this.context_,a=Object(l.transform2D)(t,e,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;n&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return n&&o.closePath(),r},e.prototype.drawRings_=function(t,e,r,i){for(var n=0,o=r.length;n<o;++n)e=this.moveToLineTo_(t,e,r[n],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(s.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),r=e[2]-e[0],i=e[3]-e[1],n=Math.sqrt(r*r+i*i),a=this.context_;a.beginPath(),a.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case a.default.POINT:this.drawPoint(t);break;case a.default.LINE_STRING:this.drawLineString(t);break;case a.default.POLYGON:this.drawPolygon(t);break;case a.default.MULTI_POINT:this.drawMultiPoint(t);break;case a.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case a.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a.default.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var r=e.getGeometryFunction()(t);r&&Object(o.intersects)(this.extent_,r.getExtent())&&(this.setStyle(e),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),r=0,i=e.length;r<i;++r)this.drawGeometry(e[r])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(e,0,e.length,r),""!==this.text_&&this.drawText_(e,0,e.length,r)},e.prototype.drawLineString=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=t.getFlatCoordinates(),n=0,a=t.getEnds(),s=t.getStride();r.beginPath();for(var l=0,u=a.length;l<u;++l)n=this.moveToLineTo_(i,n,a[l],s,!1);r.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var r=t.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,r=t.getOrientedFlatCoordinates(),i=0,n=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,l=n.length;s<l;++s){var u=n[s];i=this.drawRings_(r,i,u,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=e.lineCap=t.lineCap),u.CANVAS_LINE_DASH&&(Object(i.equals)(r.lineDash,t.lineDash)||e.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),r.lineJoin!=t.lineJoin&&(r.lineJoin=e.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=e.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=e.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,u.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:h.defaultTextAlign;r?(r.font!=t.font&&(r.font=e.font=t.font),r.textAlign!=i&&(r.textAlign=e.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var r=t.getColor();this.fillState_={fillStyle:Object(n.asColorLike)(r||h.defaultFillStyle)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:h.defaultLineCap,lineDash:a||h.defaultLineDash,lineDashOffset:s||h.defaultLineDashOffset,lineJoin:void 0!==l?l:h.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==u?u:h.defaultLineWidth),miterLimit:void 0!==c?c:h.defaultMiterLimit,strokeStyle:Object(n.asColorLike)(i||h.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),r=t.getImage(1),i=t.getOrigin(),n=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=n[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=n[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var r=e.getColor();this.textFillState_={fillStyle:Object(n.asColorLike)(r||h.defaultFillStyle)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),a=i.getLineCap(),s=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.defaultLineCap,lineDash:s||h.defaultLineDash,lineDashOffset:l||h.defaultLineDashOffset,lineJoin:void 0!==u?u:h.defaultLineJoin,lineWidth:void 0!==c?c:h.defaultLineWidth,miterLimit:void 0!==d?d:h.defaultMiterLimit,strokeStyle:Object(n.asColorLike)(o||h.defaultStrokeStyle)}}else this.textStrokeState_=null;var p=t.getFont(),f=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation(),m=t.getScale(),_=t.getText(),O=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.defaultFont,textAlign:void 0!==O?O:h.defaultTextAlign,textBaseline:void 0!==b?b:h.defaultTextBaseline},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""},e}(c.default);e.default=p},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(52),o=r(127),a=r(30),s=r(33),l=r(18),u=r(1),c=r(293),h=r(23),d=function(t){function e(e,r){t.call(this,e),this.context=r?null:Object(l.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(u.createEmpty)(),this.tmpTileRange_=new o.default(0,0,0,0),this.imageTransform_=Object(h.create)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),r=t.getState(),i=e.getUseInterimTilesOnError();return r==a.default.LOADED||r==a.default.EMPTY||r==a.default.ERROR&&!i},e.prototype.getTile=function(t,e,r,i,n){var o=this.getLayer(),s=o.getSource().getTile(t,e,r,i,n);return s.getState()==a.default.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(a.default.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var r=t.pixelRatio,n=t.size,o=t.viewState,l=o.projection,c=o.resolution,d=o.center,p=this.getLayer(),f=p.getSource(),g=f.getRevision(),y=f.getTileGridForProjection(l),v=y.getZForResolution(c,this.zDirection),m=y.getResolution(v),_=Math.round(c/m)||1,O=t.extent;if(void 0!==e.extent&&(O=Object(u.getIntersection)(O,e.extent)),Object(u.isEmpty)(O))return!1;var b=y.getTileRangeForExtentAndZ(O,v),S=y.getTileRangeExtent(v,b),T=f.getTilePixelRatio(r),E={};E[v]={};var C,x,j,P=this.createLoadedTileFinder(f,l,E),I=t.viewHints,R=I[s.default.ANIMATING]||I[s.default.INTERACTING],L=this.tmpExtent,w=this.tmpTileRange_;for(this.newTiles_=!1,x=b.minX;x<=b.maxX;++x)for(j=b.minY;j<=b.maxY;++j)if(!(Date.now()-t.time>16&&R)){if(C=this.getTile(v,x,j,r,l),this.isDrawableTile_(C)){var A=Object(i.getUid)(this);if(C.getState()==a.default.LOADED){E[v][C.tileCoord.toString()]=C;var M=C.inTransition(A);this.newTiles_||!M&&-1!==this.renderedTiles.indexOf(C)||(this.newTiles_=!0)}if(1===C.getAlpha(A,t.time))continue}var F=y.getTileCoordChildTileRange(C.tileCoord,w,L),N=!1;F&&(N=P(v+1,F)),N||y.forEachTileCoordParentTileRange(C.tileCoord,P,null,w,L)}var D=m*r/T*_;if(!(this.renderedResolution&&Date.now()-t.time>16&&R)&&(this.newTiles_||!this.renderedExtent_||!Object(u.containsExtent)(this.renderedExtent_,O)||this.renderedRevision!=g||_!=this.oversampling_||!R&&D!=this.renderedResolution)){var k=this.context;if(k){var G=f.getTilePixelSize(v,r,l),U=Math.round(b.getWidth()*G[0]/_),B=Math.round(b.getHeight()*G[1]/_),V=k.canvas;V.width!=U||V.height!=B?(this.oversampling_=_,V.width=U,V.height=B):(this.renderedExtent_&&!Object(u.equals)(S,this.renderedExtent_)&&k.clearRect(0,0,U,B),_=this.oversampling_)}this.renderedTiles.length=0;var Z,z,W,Y,X,H,q,K,J,Q,$=Object.keys(E).map(Number);for($.sort(function(t,e){return t===v?1:e===v?-1:t>e?1:t<e?-1:0}),Y=0,X=$.length;Y<X;++Y)for(var tt in W=$[Y],z=f.getTilePixelSize(W,r,l),Z=y.getResolution(W)/m,q=T*f.getGutterForProjection(l),K=E[W])C=K[tt],x=((H=y.getTileCoordExtent(C.getTileCoord(),L))[0]-S[0])/m*T/_,j=(S[3]-H[3])/m*T/_,J=z[0]*Z/_,Q=z[1]*Z/_,this.drawTileImage(C,t,e,x,j,J,Q,q,v===W),this.renderedTiles.push(C);this.renderedRevision=g,this.renderedResolution=m*r/T*_,this.renderedExtent_=S}var et=this.renderedResolution/c,rt=Object(h.compose)(this.imageTransform_,r*n[0]/2,r*n[1]/2,et,et,0,(this.renderedExtent_[0]-d[0])/this.renderedResolution*r,(d[1]-this.renderedExtent_[3])/this.renderedResolution*r);return Object(h.compose)(this.coordinateToCanvasPixelTransform,r*n[0]/2-rt[4],r*n[1]/2-rt[5],r/c,-r/c,0,-d[0],-d[1]),this.updateUsedTiles(t.usedTiles,f,v,b),this.manageTilePyramid(t,f,y,r,l,O,v,p.getPreload()),this.scheduleExpireCache(t,f),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,r,n,o,a,s,l,u){var c=this.getTileImage(t);if(c){var h=Object(i.getUid)(this),d=u?t.getAlpha(h,e.time):1,p=this.getLayer().getSource();1!==d||p.getOpaque(e.viewState.projection)||this.context.clearRect(n,o,a,s);var f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,n,o,a,s),f&&this.context.restore(),1!==d?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(c.default);d.handles=function(t){return t.getType()===n.default.TILE},d.create=function(t,e){return new d(e)},d.prototype.getLayer,e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(151),n=r(19),o=r(301),a=r(51),s=r(18),l=r(8),u=r(1),c={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(l.listen)(this,Object(n.getChangeEventType)(c.ELEMENT),this.handleElementChanged,this),Object(l.listen)(this,Object(n.getChangeEventType)(c.MAP),this.handleMapChanged,this),Object(l.listen)(this,Object(n.getChangeEventType)(c.OFFSET),this.handleOffsetChanged,this),Object(l.listen)(this,Object(n.getChangeEventType)(c.POSITION),this.handlePositionChanged,this),Object(l.listen)(this,Object(n.getChangeEventType)(c.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:o.default.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(c.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(c.MAP)},e.prototype.getOffset=function(){return this.get(c.OFFSET)},e.prototype.getPosition=function(){return this.get(c.POSITION)},e.prototype.getPositioning=function(){return this.get(c.POSITIONING)},e.prototype.handleElementChanged=function(){Object(s.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(s.removeNode)(this.element),Object(l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(l.listen)(t,i.default.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(c.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(c.ELEMENT,t)},e.prototype.setMap=function(t){this.set(c.MAP,t)},e.prototype.setOffset=function(t){this.set(c.OFFSET,t)},e.prototype.setPosition=function(t){this.set(c.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),i=this.getRect(r,[Object(s.outerWidth)(r),Object(s.outerHeight)(r)]),n=this.autoPanMargin;if(!Object(u.containsExtent)(e,i)){var o=i[0]-e[0],a=e[2]-i[2],l=i[1]-e[1],c=e[3]-i[3],h=[0,0];if(o<0?h[0]=o-n:a<0&&(h[0]=Math.abs(a)+n),l<0?h[1]=l-n:c<0&&(h[1]=Math.abs(c)+n),0!==h[0]||0!==h[1]){var d=t.getView().getCenter(),p=t.getPixelFromCoordinate(d),f=[p[0]+h[0],p[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var r=t.getBoundingClientRect(),i=r.left+window.pageXOffset,n=r.top+window.pageYOffset;return[i,n,i+e[0],n+e[1]]},e.prototype.setPositioning=function(t){this.set(c.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var r=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(r,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var r=this.element.style,i=this.getOffset(),n=this.getPositioning();this.setVisible(!0);var a=i[0],s=i[1];if(n==o.default.BOTTOM_RIGHT||n==o.default.CENTER_RIGHT||n==o.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=r.left="");var l=Math.round(e[0]-t[0]-a)+"px";this.rendered.right_!=l&&(this.rendered.right_=r.right=l)}else{""!==this.rendered.right_&&(this.rendered.right_=r.right=""),n!=o.default.BOTTOM_CENTER&&n!=o.default.CENTER_CENTER&&n!=o.default.TOP_CENTER||(a-=this.element.offsetWidth/2);var u=Math.round(t[0]+a)+"px";this.rendered.left_!=u&&(this.rendered.left_=r.left=u)}if(n==o.default.BOTTOM_LEFT||n==o.default.BOTTOM_CENTER||n==o.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=r.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=r.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=r.bottom=""),n!=o.default.CENTER_LEFT&&n!=o.default.CENTER_CENTER&&n!=o.default.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=r.top=h)}},e.prototype.getOptions=function(){return this.options},e}(n.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(60),o=r(30),a=[0,0,4096,4096],s=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,a),this.consumers=0,this.extent_=null,this.format_=n,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||a},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[Object(i.getUid)(t)+","+e]},e.prototype.load=function(){this.state==o.default.IDLE&&(this.setState(o.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,r){this.setProjection(e),this.setFeatures(t),this.setExtent(r)},e.prototype.onError=function(){this.setState(o.default.ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o.default.LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,r){this.replayGroups_[Object(i.getUid)(t)+","+e]=r},e.prototype.setLoader=function(t){this.loader_=t},e}(n.default);e.default=s},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return O});var i=r(46),n=r(148),o=r(151),a=r(282),s=r(19),l=r(114),u=r(172),c=r(301),h=r(283),d=r(50),p=r(39),f=r(51),g=r(18),y=r(8),v=r(10),m=r(1),_=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||O,target:r.target}),this.collapsed_=void 0===r.collapsed||r.collapsed,this.collapsible_=void 0===r.collapsible||r.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==r.className?r.className:"ol-overviewmap",a=void 0!==r.tipLabel?r.tipLabel:"Overview map",s=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var l=void 0!==r.label?r.label:"";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;var h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=a,d.appendChild(h),Object(y.listen)(d,v.default.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new n.default({controls:new i.default,interactions:new i.default,view:r.view});var p=this.ovmap_;r.layers&&r.layers.forEach(function(t){p.addLayer(t)}.bind(this));var g=document.createElement("div");g.className="ol-overviewmap-box",g.style.boxSizing="border-box",this.boxOverlay_=new u.default({position:[0,0],positioning:c.default.BOTTOM_LEFT,element:g}),this.ovmap_.addOverlay(this.boxOverlay_);var m=o+" "+f.CLASS_UNSELECTABLE+" "+f.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+f.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=m,_.appendChild(this.ovmapDiv_),_.appendChild(d);var b=this,S=this.boxOverlay_,T=this.boxOverlay_.getElement(),E=function(t){var e=function(t){return{clientX:t.clientX-T.offsetWidth/2,clientY:t.clientY+T.offsetHeight/2}}(t),r=p.getEventCoordinate(e);S.setPosition(r)},C=function(t){var e=p.getEventCoordinate(t);b.getMap().getView().setCenter(e),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",C)};T.addEventListener("mousedown",function(){window.addEventListener("mousemove",E),window.addEventListener("mouseup",C)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var r=this.getMap();if(e!==r){if(r){var i=r.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(y.listen)(e,l.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var n=e.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===a.default.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var r=this.getMap().getView();this.bindView_(r)}},e.prototype.bindView_=function(t){Object(y.listen)(t,Object(s.getChangeEventType)(h.default.ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){Object(y.unlisten)(t,Object(s.getChangeEventType)(h.default.ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),i=t.getView().calculateExtent(r),n=e.getSize(),o=e.getView().calculateExtent(n),a=e.getPixelFromCoordinate(Object(m.getTopLeft)(i)),s=e.getPixelFromCoordinate(Object(m.getBottomRight)(i)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=n[0],h=n[1];l<.1*c||u<.1*h||l>.75*c||u>.75*h?this.resetExtent_():Object(m.containsExtent)(o,i)||this.recenter_()}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getSize(),i=t.getView().calculateExtent(r),n=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));Object(m.scaleFromCenter)(i,a),n.fit(i)},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,r=t.getView();e.getView().setCenter(r.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var r=t.getSize(),i=t.getView(),n=e.getView(),o=i.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=i.calculateExtent(r),u=n.getResolution(),c=Object(m.getBottomLeft)(l),h=Object(m.getTopRight)(l),d=this.calculateCoordinateRotate_(o,c);a.setPosition(d),s&&(s.style.width=Math.abs((c[0]-h[0])/u)+"px",s.style.height=Math.abs((h[1]-c[1])/u)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var r,i=this.getMap().getView().getCenter();return i&&(r=[e[0]-i[0],e[1]-i[1]],Object(p.rotate)(r,t),Object(p.add)(r,i)),r},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(f.CLASS_COLLAPSED),this.collapsed_?Object(g.replaceNode)(this.collapseLabel_,this.label_):Object(g.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),Object(y.listenOnce)(t,o.default.POSTRENDER,function(t){this.updateBox_()},this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(d.default);function O(t){this.validateExtent_(),this.updateBox_()}e.default=_},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(1),o=r(126),a=r(23),s=r(306),l=r(17),u=function(t){function e(e,r){t.call(this),this.tolerance=e,this.maxExtent=r,this.origin=Object(n.getCenter)(r),this.projectionMatrix_=Object(a.create)(),this.offsetRotateMatrix_=Object(a.create)(),this.offsetScaleMatrix_=Object(a.create)(),this.tmpMat4_=Object(s.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){return Object(i.abstract)()},e.prototype.finish=function(t){Object(i.abstract)()},e.prototype.setUpProgram=function(t,e,r,n){return Object(i.abstract)()},e.prototype.shutDownProgram=function(t,e){Object(i.abstract)()},e.prototype.drawReplay=function(t,e,r,n){Object(i.abstract)()},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,r,n,o){return Object(i.abstract)()},e.prototype.drawHitDetectionReplay=function(t,e,r,i,n,o){return n?this.drawHitDetectionReplayOneByOne(t,e,r,i,o):this.drawHitDetectionReplayAll(t,e,r,i)},e.prototype.drawHitDetectionReplayAll=function(t,e,r,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,r,!0);var n=i(null);return n||void 0},e.prototype.replay=function(t,e,r,i,n,o,u,c,h,d,p){var f,g,y,v,m,_,O,b,S=t.getGL();this.lineStringReplay&&(f=S.isEnabled(S.STENCIL_TEST),g=S.getParameter(S.STENCIL_FUNC),y=S.getParameter(S.STENCIL_VALUE_MASK),v=S.getParameter(S.STENCIL_REF),m=S.getParameter(S.STENCIL_WRITEMASK),_=S.getParameter(S.STENCIL_FAIL),O=S.getParameter(S.STENCIL_PASS_DEPTH_PASS),b=S.getParameter(S.STENCIL_PASS_DEPTH_FAIL),S.enable(S.STENCIL_TEST),S.clear(S.STENCIL_BUFFER_BIT),S.stencilMask(255),S.stencilFunc(S.ALWAYS,1,255),S.stencilOp(S.KEEP,S.KEEP,S.REPLACE),this.lineStringReplay.replay(t,e,r,i,n,o,u,c,h,d,p),S.stencilMask(0),S.stencilFunc(S.NOTEQUAL,1,255)),t.bindBuffer(l.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(l.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var T=this.setUpProgram(S,t,n,o),E=Object(a.reset)(this.projectionMatrix_);Object(a.scale)(E,2/(r*n[0]),2/(r*n[1])),Object(a.rotate)(E,-i),Object(a.translate)(E,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var C=Object(a.reset)(this.offsetScaleMatrix_);Object(a.scale)(C,2/n[0],2/n[1]);var x,j=Object(a.reset)(this.offsetRotateMatrix_);return 0!==i&&Object(a.rotate)(j,-i),S.uniformMatrix4fv(T.u_projectionMatrix,!1,Object(s.fromTransform)(this.tmpMat4_,E)),S.uniformMatrix4fv(T.u_offsetScaleMatrix,!1,Object(s.fromTransform)(this.tmpMat4_,C)),S.uniformMatrix4fv(T.u_offsetRotateMatrix,!1,Object(s.fromTransform)(this.tmpMat4_,j)),S.uniform1f(T.u_opacity,u),void 0===h?this.drawReplay(S,t,c,!1):x=this.drawHitDetectionReplay(S,t,c,h,d,p),this.shutDownProgram(S,T),this.lineStringReplay&&(f||S.disable(S.STENCIL_TEST),S.clear(S.STENCIL_BUFFER_BIT),S.stencilFunc(g,v,y),S.stencilMask(m),S.stencilOp(_,b,O)),x},e.prototype.drawElements=function(t,e,r,i){var n=e.hasOESElementIndexUint?l.UNSIGNED_INT:l.UNSIGNED_SHORT,o=i-r,a=r*(e.hasOESElementIndexUint?4:2);t.drawElements(l.TRIANGLES,o,n,a)},e}(o.default);e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"DEFAULT_FONT",function(){return i}),r.d(e,"DEFAULT_FILLSTYLE",function(){return n}),r.d(e,"DEFAULT_LINECAP",function(){return o}),r.d(e,"DEFAULT_LINEDASH",function(){return a}),r.d(e,"DEFAULT_LINEDASHOFFSET",function(){return s}),r.d(e,"DEFAULT_LINEJOIN",function(){return l}),r.d(e,"DEFAULT_MITERLIMIT",function(){return u}),r.d(e,"DEFAULT_STROKESTYLE",function(){return c}),r.d(e,"DEFAULT_TEXTALIGN",function(){return h}),r.d(e,"DEFAULT_TEXTBASELINE",function(){return d}),r.d(e,"DEFAULT_LINEWIDTH",function(){return p}),r.d(e,"EPSILON",function(){return f}),r.d(e,"triangleIsCounterClockwise",function(){return g});var i="10px sans-serif",n=[0,0,0,1],o="round",a=[],s=0,l="round",u=10,c=[0,0,0,1],h=.5,d=.5,p=1,f=Number.EPSILON||2.220446049250313e-16,g=function(t,e,r,i,n,o){var a=(r-t)*(o-e)-(n-t)*(i-e);return a<=f&&a>=-f?void 0:a>0}},function(t,e,r){"use strict";r.r(e);var i=r(167),n=r(42),o=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),r=e.tileCoord[0].toString();if(r in t&&t[r].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(n.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(n.getKey)(t.tileCoord)),t.dispose())},this)}},e}(i.default);e.default=o},function(t,e,r){"use strict";r.r(e),r.d(e,"GMLNS",function(){return m});var i=r(13),n=r(26),o=r(32),a=r(110),s=r(28),l=r(31),u=r(143),c=r(41),h=r(55),d=r(62),p=r(29),f=r(27),g=r(9),y=r(12),v=r(35),m="http://www.opengis.net/gml",_=/^[\s\xa0]*$/,O=function(t){function e(e){t.call(this);var r=e||{};this.featureType=r.featureType,this.featureNS=r.featureNS,this.srsName=r.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:Object(v.makeArrayPusher)(this.readFeaturesInternal),featureMembers:Object(v.makeReplacer)(this.readFeaturesInternal)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,i=null;if("FeatureCollection"==r)i=Object(v.pushParseAndPop)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r){var n=e[0],o=n.featureType,a=n.featureNS;if(!o&&t.childNodes){o=[],a={};for(var s=0,l=t.childNodes.length;s<l;++s){var u=t.childNodes[s];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===o.indexOf(c)){var h="",d=0,p=u.namespaceURI;for(var f in a){if(a[f]===p){h=f;break}++d}h||(a[h="p"+d]=p),o.push(h+":"+c)}}}"featureMember"!=r&&(n.featureType=o,n.featureNS=a)}if("string"==typeof a){var g=a;(a={}).p0=g}var y={},m=Array.isArray(o)?o:[o];for(var _ in a){for(var O={},b=0,S=m.length;b<S;++b){(-1===m[b].indexOf(":")?"p0":m[b].split(":")[0])===_&&(O[m[b].split(":").pop()]="featureMembers"==r?Object(v.makeArrayPusher)(this.readFeatureElement,this):Object(v.makeReplacer)(this.readFeatureElement,this))}y[a[_]]=O}i="featureMember"==r?Object(v.pushParseAndPop)(void 0,y,t,e):Object(v.pushParseAndPop)([],y,t,e)}return null===i&&(i=[]),i},e.prototype.readGeometryElement=function(t,e){var r=e[0];r.srsName=t.firstElementChild.getAttribute("srsName"),r.srsDimension=t.firstElementChild.getAttribute("srsDimension");var i=Object(v.pushParseAndPop)(null,this.GEOMETRY_PARSERS,t,e,this);return i?Object(o.transformWithOptions)(i,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var i,o={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,l=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=Object(v.getAllTextContent)(a,!1),_.test(s)&&(s=void 0)):(r&&(s=this.readGeometryElement(a,e)),s?"boundedBy"!==l&&(i=l):s=this.readFeatureElementInternal(a,e,!1)),o[l]?(o[l]instanceof Array||(o[l]=[o[l]]),o[l].push(s)):o[l]=s;var u=a.attributes.length;if(u>0){o[l]={_content_:o[l]};for(var c=0;c<u;c++){var h=a.attributes[c].name;o[l][h]=a.attributes[c].value}}}if(r){var d=new n.default(o);i&&d.setGeometryName(i);var p=t.getAttribute("fid")||Object(v.getAttributeNS)(t,this.namespace,"id");return p&&d.setId(p),d}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new p.default(r,s.default.XYZ)},e.prototype.readMultiPoint=function(t,e){var r=Object(v.pushParseAndPop)([],this.MULTIPOINT_PARSERS_,t,e,this);return r?new h.default(r):void 0},e.prototype.readMultiLineString=function(t,e){var r=Object(v.pushParseAndPop)([],this.MULTILINESTRING_PARSERS_,t,e,this);if(r)return new c.default(r)},e.prototype.readMultiPolygon=function(t,e){var r=Object(v.pushParseAndPop)([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(r)return new d.default(r)},e.prototype.pointMemberParser_=function(t,e){Object(v.parseNode)(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){Object(v.parseNode)(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){Object(v.parseNode)(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);return r?new l.default(r,s.default.XYZ):void 0},e.prototype.readFlatLinearRing_=function(t,e){var r=Object(v.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode_(t,e);if(r)return new u.default(r,s.default.XYZ)},e.prototype.readPolygon=function(t,e){var r=Object(v.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var n,o,a=r[0],l=[a.length];for(n=1,o=r.length;n<o;++n)Object(i.extend)(a,r[n]),l.push(a.length);return new f.default(a,s.default.XYZ,l)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return Object(v.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};return e&&Object(g.assign)(r,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[r])||[]},e.prototype.readProjectionFromNode=function(t){return Object(y.get)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(a.default);O.prototype.namespace=m,O.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},O.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},O.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},O.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Object(v.makeArrayPusher)(O.prototype.pointMemberParser_),pointMembers:Object(v.makeArrayPusher)(O.prototype.pointMemberParser_)}},O.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Object(v.makeArrayPusher)(O.prototype.lineStringMemberParser_),lineStringMembers:Object(v.makeArrayPusher)(O.prototype.lineStringMemberParser_)}},O.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Object(v.makeArrayPusher)(O.prototype.polygonMemberParser_),polygonMembers:Object(v.makeArrayPusher)(O.prototype.polygonMemberParser_)}},O.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Object(v.makeArrayPusher)(O.prototype.readFlatCoordinatesFromNode_)}},O.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(v.makeArrayPusher)(O.prototype.readLineString)}},O.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(v.makeArrayPusher)(O.prototype.readPolygon)}},O.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Object(v.makeReplacer)(O.prototype.readFlatLinearRing_)}},e.default=O},function(t,e,r){"use strict";r.r(e);var i=r(52),n=function(t){function e(e){var r=e||{};t.call(this,r),this.type=i.default.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(79).default);n.prototype.getSource,e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"calculateSourceResolution",function(){return s}),r.d(e,"render",function(){return u});var i=r(18),n=r(1),o=r(14),a=r(12);function s(t,e,r,i){var o=Object(a.transform)(r,e,t),s=Object(a.getPointResolution)(e,i,r),l=e.getMetersPerUnit();void 0!==l&&(s*=l);var u=t.getMetersPerUnit();void 0!==u&&(s/=u);var c=t.getExtent();if(!c||Object(n.containsCoordinate)(c,o)){var h=Object(a.getPointResolution)(t,s,o)/s;isFinite(h)&&h>0&&(s/=h)}return s}function l(t,e,r,i){var n=r-t,o=i-e,a=Math.sqrt(n*n+o*o);return[Math.round(r+n/a),Math.round(i+o/a)]}function u(t,e,r,a,s,u,c,h,d,p,f){var g=Object(i.createCanvasContext2D)(Math.round(r*t),Math.round(r*e));if(0===d.length)return g.canvas;g.scale(r,r);var y=Object(n.createEmpty)();d.forEach(function(t,e,r){Object(n.extend)(y,t.extent)});var v=Object(n.getWidth)(y),m=Object(n.getHeight)(y),_=Object(i.createCanvasContext2D)(Math.round(r*v/a),Math.round(r*m/a)),O=r/a;d.forEach(function(t,e,r){var i=t.extent[0]-y[0],o=-(t.extent[3]-y[3]),a=Object(n.getWidth)(t.extent),s=Object(n.getHeight)(t.extent);_.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,i*O,o*O,a*O,s*O)});var b=Object(n.getTopLeft)(c);return h.getTriangles().forEach(function(t,e,i){var n=t.source,s=t.target,c=n[0][0],h=n[0][1],d=n[1][0],p=n[1][1],f=n[2][0],v=n[2][1],m=(s[0][0]-b[0])/u,O=-(s[0][1]-b[1])/u,S=(s[1][0]-b[0])/u,T=-(s[1][1]-b[1])/u,E=(s[2][0]-b[0])/u,C=-(s[2][1]-b[1])/u,x=c,j=h;c=0,h=0;var P=[[d-=x,p-=j,0,0,S-m],[f-=x,v-=j,0,0,E-m],[0,0,d,p,T-O],[0,0,f,v,C-O]],I=Object(o.solveLinearSystem)(P);if(I){g.save(),g.beginPath();var R=(m+S+E)/3,L=(O+T+C)/3,w=l(R,L,m,O),A=l(R,L,S,T),M=l(R,L,E,C);g.moveTo(A[0],A[1]),g.lineTo(w[0],w[1]),g.lineTo(M[0],M[1]),g.clip(),g.transform(I[0],I[2],I[1],I[3],m,O),g.translate(y[0]-x,y[3]-j),g.scale(a/r,-a/r),g.drawImage(_.canvas,0,0),g.restore()}}),f&&(g.save(),g.strokeStyle="black",g.lineWidth=1,h.getTriangles().forEach(function(t,e,r){var i=t.target,n=(i[0][0]-b[0])/u,o=-(i[0][1]-b[1])/u,a=(i[1][0]-b[0])/u,s=-(i[1][1]-b[1])/u,l=(i[2][0]-b[0])/u,c=-(i[2][1]-b[1])/u;g.beginPath(),g.moveTo(a,s),g.lineTo(n,o),g.lineTo(l,c),g.closePath(),g.stroke()}),g.restore()),g.canvas}},function(t,e,r){"use strict";r.r(e);var i=r(43),n=r(81),o=function(t){function e(e){var r=e||{},i=void 0!==r.projection?r.projection:"EPSG:3857",o=void 0!==r.tileGrid?r.tileGrid:Object(n.createXYZ)({extent:Object(n.extentFromProjection)(i),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default);e.default=o},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var i=r(66),n=r(25),o=r(136);t.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],a={};a[t]=e(r),i(i.S+i.F*o(function(){r(1)}),"Object",a)}},function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e,r){var i=r(83).f,n=r(93),o=r(44)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttStruct=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.FldNumber=void 0!==e.FldNumber?e.FldNumber:0,this.FldName=void 0!==e.FldName?e.FldName:null,this.FldType=void 0!==e.FldType?e.FldType:null};e.CAttStruct=o,i.Zondy.Object.CAttStruct=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLineInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.LinStyleID=void 0!==e.LinStyleID&&null!==e.LinStyleID?e.LinStyleID:1,this.LinStyleID2=void 0!==e.LinStyleID2&&null!==e.LinStyleID2?e.LinStyleID2:0,this.LinWidth=void 0!==e.LinWidth&&null!==e.LinWidth?e.LinWidth:1,this.Xscale=void 0!==e.Xscale&&null!==e.Xscale?e.Xscale:1,this.Yscale=void 0!==e.Yscale&&null!==e.Yscale?e.Yscale:1};e.CLineInfo=o,i.Zondy.Object.CLineInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGraphicBase=void 0;var i=s(r(2)),n=s(r(11)),o=r(0),a=r(6);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,i.default)(this,t);var r=void 0!==e?e:{};(0,a.extend)(this,r),this.GID=void 0!==r.GID&&null!==r.GID?r.GID:0}return(0,n.default)(t,[{key:"setGID",value:function(t){void 0!==t&&null!==t&&(this.GID=t)}}]),t}();e.FeatureGraphicBase=l,o.Zondy.Object.FeatureGraphicBase=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.desInfo=void 0!==r.desInfo?r.desInfo:null,a.attOptType=void 0!==r.attOptType?r.attOptType:1,a.infoOptType=void 0!==r.infoOptType?r.infoOptType:1,a.overType=void 0!==r.overType?r.overType:3,a.tolerance=void 0!==r.tolerance?r.tolerance:1e-4,a.isCleanNode=void 0!==r.isCleanNode&&r.isCleanNode,a.isLabelPnt=void 0!==r.isLabelPnt&&r.isLabelPnt,a.isValidReg=void 0!==r.isValidReg&&r.isValidReg,a}return(0,a.default)(e,t),e}(r(76).AnalysisBase);e.ClipBase=u,s.Zondy.Service.ClipBase=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPntInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.FillFlg=void 0!==e.FillFlg?e.FillFlg:0,this.Height=void 0!==e.Height?e.Height:0,this.Width=void 0!==e.Width?e.Width:0,this.OutClr=void 0!==e.OutClr?e.OutClr:[0,0,0],this.SymID=void 0!==e.SymID?e.SymID:0,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CPntInfo=o,i.Zondy.Object.Theme.CPntInfo=o},function(t,e,r){"use strict";r.r(e);var i=r(19),n=r(8),o=r(21),a=r(10),s=r(27),l=r(38),u=r(14),c=r(12),h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},d=function(t){function e(e){t.call(this,a.default.ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default),p=function(t){function e(e){t.call(this);var r=e||{};this.position_=null,this.transform_=c.identityTransform,this.watchId_=void 0,Object(n.listen)(this,Object(i.getChangeEventType)(h.PROJECTION),this.handleProjectionChanged_,this),Object(n.listen)(this,Object(i.getChangeEventType)(h.TRACKING),this.handleTrackingChanged_,this),void 0!==r.projection&&this.setProjection(r.projection),void 0!==r.trackingOptions&&this.setTrackingOptions(r.trackingOptions),this.setTracking(void 0!==r.tracking&&r.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(c.getTransformFromProjections)(Object(c.get)("EPSG:4326"),t),this.position_&&this.set(h.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(l.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(h.ACCURACY,e.accuracy),this.set(h.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(h.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(h.HEADING,null===e.heading?void 0:Object(u.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var r=this.transform_(this.position_);this.set(h.POSITION,r),this.set(h.SPEED,null===e.speed?void 0:e.speed);var i=Object(s.circular)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(h.ACCURACY_GEOMETRY,i),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new d(t))},e.prototype.getAccuracy=function(){return this.get(h.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(h.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(h.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(h.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(h.HEADING)},e.prototype.getPosition=function(){return this.get(h.POSITION)},e.prototype.getProjection=function(){return this.get(h.PROJECTION)},e.prototype.getSpeed=function(){return this.get(h.SPEED)},e.prototype.getTracking=function(){return this.get(h.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(h.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(h.PROJECTION,Object(c.get)(t))},e.prototype.setTracking=function(t){this.set(h.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(h.TRACKING_OPTIONS,t)},e}(i.default);e.default=p},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(19),o=r(1),a=r(67),s=r(12),l=r(47),u=r(23),c=Object(u.create)(),h=function(t){function e(){t.call(this),this.extent_=Object(o.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.abstract)()},e.prototype.closestPointXY=function(t,e,r,n){return Object(i.abstract)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.abstract)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.abstract)()},e.prototype.scale=function(t,e,r){Object(i.abstract)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.abstract)()},e.prototype.getType=function(){return Object(i.abstract)()},e.prototype.applyTransform=function(t){Object(i.abstract)()},e.prototype.intersectsExtent=function(t){return Object(i.abstract)()},e.prototype.translate=function(t,e){Object(i.abstract)()},e.prototype.transform=function(t,e){var r=Object(s.get)(t),i=r.getUnits()==l.default.TILE_PIXELS?function(t,i,n){var l=r.getExtent(),h=r.getWorldExtent(),d=Object(o.getHeight)(h)/Object(o.getHeight)(l);return Object(u.compose)(c,h[0],h[3],d,-d,0,0,0),Object(a.transform2D)(t,0,t.length,n,c,i),Object(s.getTransform)(r,e)(t,i,n)}:Object(s.getTransform)(r,e);return this.applyTransform(i),this},e}(n.default);e.default=h},function(t,e,r){"use strict";r.r(e),r.d(e,"DEFAULT_RADIUS",function(){return o}),r.d(e,"getDistance",function(){return a}),r.d(e,"getLength",function(){return l}),r.d(e,"getArea",function(){return c}),r.d(e,"offset",function(){return h});var i=r(14),n=r(16),o=6371008.8;function a(t,e,r){var n=r||o,a=Object(i.toRadians)(t[1]),s=Object(i.toRadians)(e[1]),l=(s-a)/2,u=Object(i.toRadians)(e[0]-t[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(a)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){for(var r=0,i=0,n=t.length;i<n-1;++i)r+=a(t[i],t[i+1],e);return r}function l(t,e){var r=e||{},i=r.radius||o,a=r.projection||"EPSG:3857",u=t.getType();u!==n.default.GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var c,h,d,p,f,g,y=0;switch(u){case n.default.POINT:case n.default.MULTI_POINT:break;case n.default.LINE_STRING:case n.default.LINEAR_RING:y=s(c=t.getCoordinates(),i);break;case n.default.MULTI_LINE_STRING:case n.default.POLYGON:for(d=0,p=(c=t.getCoordinates()).length;d<p;++d)y+=s(c[d],i);break;case n.default.MULTI_POLYGON:for(d=0,p=(c=t.getCoordinates()).length;d<p;++d)for(f=0,g=(h=c[d]).length;f<g;++f)y+=s(h[f],i);break;case n.default.GEOMETRY_COLLECTION:var v=t.getGeometries();for(d=0,p=v.length;d<p;++d)y+=l(v[d],e);break;default:throw new Error("Unsupported geometry type: "+u)}return y}function u(t,e){for(var r=0,n=t.length,o=t[n-1][0],a=t[n-1][1],s=0;s<n;s++){var l=t[s][0],u=t[s][1];r+=Object(i.toRadians)(l-o)*(2+Math.sin(Object(i.toRadians)(a))+Math.sin(Object(i.toRadians)(u))),o=l,a=u}return r*e*e/2}function c(t,e){var r=e||{},i=r.radius||o,a=r.projection||"EPSG:3857",s=t.getType();s!==n.default.GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var l,h,d,p,f,g,y=0;switch(s){case n.default.POINT:case n.default.MULTI_POINT:case n.default.LINE_STRING:case n.default.MULTI_LINE_STRING:case n.default.LINEAR_RING:break;case n.default.POLYGON:for(l=t.getCoordinates(),y=Math.abs(u(l[0],i)),d=1,p=l.length;d<p;++d)y-=Math.abs(u(l[d],i));break;case n.default.MULTI_POLYGON:for(d=0,p=(l=t.getCoordinates()).length;d<p;++d)for(h=l[d],y+=Math.abs(u(h[0],i)),f=1,g=h.length;f<g;++f)y-=Math.abs(u(h[f],i));break;case n.default.GEOMETRY_COLLECTION:var v=t.getGeometries();for(d=0,p=v.length;d<p;++d)y+=c(v[d],e);break;default:throw new Error("Unsupported geometry type: "+s)}return y}function h(t,e,r,n){var a=n||o,s=Object(i.toRadians)(t[1]),l=Object(i.toRadians)(t[0]),u=e/a,c=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(r)),h=l+Math.atan2(Math.sin(r)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));return[Object(i.toDegrees)(h),Object(i.toDegrees)(c)]}},function(t,e,r){"use strict";r.r(e),r.d(e,"getInteriorPointOfArray",function(){return o}),r.d(e,"getInteriorPointsOfMultiArray",function(){return a});var i=r(13),n=r(116);function o(t,e,r,o,a,s,l){for(var u,c,h,d,p,f,g,y=a[s+1],v=[],m=0,_=r.length;m<_;++m){var O=r[m];for(d=t[O-o],f=t[O-o+1],u=e;u<O;u+=o)p=t[u],g=t[u+1],(y<=f&&g<=y||f<=y&&y<=g)&&(h=(y-f)/(g-f)*(p-d)+d,v.push(h)),d=p,f=g}var b=NaN,S=-1/0;for(v.sort(i.numberSafeCompareFunction),d=v[0],u=1,c=v.length;u<c;++u){p=v[u];var T=Math.abs(p-d);T>S&&(h=(d+p)/2,Object(n.linearRingsContainsXY)(t,e,r,o,h,y)&&(b=h,S=T)),d=p}return isNaN(b)&&(b=a[s]),l?(l.push(b,y,S),l):[b,y,S]}function a(t,e,r,i,n){for(var a=[],s=0,l=r.length;s<l;++s){var u=r[s];a=o(t,e,u,i,n,2*s,a),e=u[u.length-1]}return a}},function(t,e,r){"use strict";r.r(e);var i=r(39),n=r(8),o=r(1),a=r(28),s=r(31),l=r(29),u=r(424),c=r(14),h=r(12),d=r(68),p=r(101),f=r(102),g=r(198),y=new f.default({color:"rgba(0,0,0,0.2)"}),v=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],m=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:y,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=void 0==e.lonLabelFormatter?i.degreesToStringHDMS.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=void 0==e.latLabelFormatter?i.degreesToStringHDMS.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=void 0==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=void 0==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new g.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new p.default({color:"rgba(0,0,0,1)"}),stroke:new f.default({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new g.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new p.default({color:"rgba(0,0,0,1)"}),stroke:new f.default({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:v,this.setMap(void 0!==e.map?e.map:null)};m.prototype.addMeridian_=function(t,e,r,i,n,a){var s=this.getMeridian_(t,e,r,i,a);if(Object(o.intersects)(s.getExtent(),n)){if(this.meridiansLabels_){var l=this.getMeridianPoint_(s,n,a);this.meridiansLabels_[a]={geom:l,text:this.lonLabelFormatter_(t)}}this.meridians_[a++]=s}return a},m.prototype.getMeridianPoint_=function(t,e,r){var i,n=t.getFlatCoordinates(),o=Math.max(e[1],n[1]),a=Math.min(e[3],n[n.length-1]),s=Object(c.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),u=[n[0],s];return r in this.meridiansLabels_?(i=this.meridiansLabels_[r].geom).setCoordinates(u):i=new l.default(u),i},m.prototype.addParallel_=function(t,e,r,i,n,a){var s=this.getParallel_(t,e,r,i,a);if(Object(o.intersects)(s.getExtent(),n)){if(this.parallelsLabels_){var l=this.getParallelPoint_(s,n,a);this.parallelsLabels_[a]={geom:l,text:this.latLabelFormatter_(t)}}this.parallels_[a++]=s}return a},m.prototype.getParallelPoint_=function(t,e,r){var i,n=t.getFlatCoordinates(),o=Math.max(e[0],n[0]),a=Math.min(e[2],n[n.length-2]),s=[Object(c.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),n[1]];return r in this.parallelsLabels_?(i=this.parallelsLabels_[r].geom).setCoordinates(s):i=new l.default(s),i},m.prototype.createGraticule_=function(t,e,r,i){var n=this.getInterval_(r);if(-1==n)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(e),d=u[0],p=u[1],f=this.maxLines_,g=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],y=(g=Object(h.transformExtent)(g,this.projection_,"EPSG:4326"))[3],v=g[2],m=g[1],_=g[0];for(d=Math.floor(d/n)*n,l=Object(c.clamp)(d,this.minLon_,this.maxLon_),a=this.addMeridian_(l,m,y,i,t,0),o=0;l!=this.minLon_&&o++<f;)l=Math.max(l-n,this.minLon_),a=this.addMeridian_(l,m,y,i,t,a);for(l=Object(c.clamp)(d,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<f;)l=Math.min(l+n,this.maxLon_),a=this.addMeridian_(l,m,y,i,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),p=Math.floor(p/n)*n,s=Object(c.clamp)(p,this.minLat_,this.maxLat_),a=this.addParallel_(s,_,v,i,t,0),o=0;s!=this.minLat_&&o++<f;)s=Math.max(s-n,this.minLat_),a=this.addParallel_(s,_,v,i,t,a);for(s=Object(c.clamp)(p,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<f;)s=Math.min(s+n,this.maxLat_),a=this.addParallel_(s,_,v,i,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},m.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],i=-1,n=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(o[0]=e-u,o[1]=r-u,a[0]=e+u,a[1]=r+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=n)break;i=this.intervals_[s]}return i},m.prototype.getMap=function(){return this.map_},m.prototype.getMeridian_=function(t,e,r,i,n){var o=Object(u.meridian)(t,e,r,this.projection_,i),l=this.meridians_[n];return l?(l.setFlatCoordinates(a.default.XY,o),l.changed()):l=this.meridians_[n]=new s.default(o,a.default.XY),l},m.prototype.getMeridians=function(){return this.meridians_},m.prototype.getParallel_=function(t,e,r,i,n){var o=Object(u.parallel)(t,e,r,this.projection_,i),l=this.parallels_[n];return l?(l.setFlatCoordinates(a.default.XY,o),l.changed()):l=new s.default(o,a.default.XY),l},m.prototype.getParallels=function(){return this.parallels_},m.prototype.handlePostCompose_=function(t){var e,r,i,n,o=t.vectorContext,a=t.frameState,s=a.extent,l=a.viewState,u=l.center,c=l.projection,d=l.resolution,p=a.pixelRatio,f=d*d/(4*p*p);for((!this.projection_||!Object(h.equivalent)(this.projection_,c))&&this.updateProjectionInfo_(c),this.createGraticule_(s,u,d,f),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,r=this.meridians_.length;e<r;++e)i=this.meridians_[e],o.drawGeometry(i);for(e=0,r=this.parallels_.length;e<r;++e)i=this.parallels_[e],o.drawGeometry(i);if(this.meridiansLabels_)for(e=0,r=this.meridiansLabels_.length;e<r;++e)n=this.meridiansLabels_[e],this.lonLabelStyle_.setText(n.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(n.geom);if(this.parallelsLabels_)for(e=0,r=this.parallelsLabels_.length;e<r;++e)n=this.parallelsLabels_[e],this.latLabelStyle_.setText(n.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(n.geom)},m.prototype.updateProjectionInfo_=function(t){var e=Object(h.get)("EPSG:4326"),r=t.getWorldExtent(),i=Object(h.transformExtent)(r,e,t);this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=Object(h.getTransform)(e,t),this.toLonLatTransform_=Object(h.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(o.getCenter)(t.getExtent())),this.projection_=t},m.prototype.setMap=function(t){this.map_&&(Object(n.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=Object(n.listen)(t,d.default.POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t},e.default=m},function(t,e,r){"use strict";r.r(e),r.d(e,"interpolatePoint",function(){return o}),r.d(e,"lineStringCoordinateAtM",function(){return a}),r.d(e,"lineStringsCoordinateAtM",function(){return s});var i=r(13),n=r(14);function o(t,e,r,o,a,s){var l=NaN,u=NaN,c=(r-e)/o;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-a)*t[e]+a*t[e+o],u=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==c){for(var h=t[e],d=t[e+1],p=0,f=[0],g=e+o;g<r;g+=o){var y=t[g],v=t[g+1];p+=Math.sqrt((y-h)*(y-h)+(v-d)*(v-d)),f.push(p),h=y,d=v}var m=a*p,_=Object(i.binarySearch)(f,m);if(_<0){var O=(m-f[-_-2])/(f[-_-1]-f[-_-2]),b=e+(-_-2)*o;l=Object(n.lerp)(t[b],t[b+o],O),u=Object(n.lerp)(t[b+1],t[b+o+1],O)}else l=t[e+_*o],u=t[e+_*o+1]}return s?(s[0]=l,s[1]=u,s):[l,u]}function a(t,e,r,i,o,a){if(r==e)return null;var s;if(o<t[e+i-1])return a?((s=t.slice(e,e+i))[i-1]=o,s):null;if(t[r-1]<o)return a?((s=t.slice(r-i,r))[i-1]=o,s):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,u=r/i;l<u;){var c=l+u>>1;o<t[(c+1)*i-1]?u=c:l=c+1}var h=t[l*i-1];if(o==h)return t.slice((l-1)*i,(l-1)*i+i);var d=(o-h)/(t[(l+1)*i-1]-h);s=[];for(var p=0;p<i-1;++p)s.push(Object(n.lerp)(t[(l-1)*i+p],t[l*i+p],d));return s.push(o),s}function s(t,e,r,i,n,o,s){if(s)return a(t,e,r[r.length-1],i,n,o);var l;if(n<t[i-1])return o?((l=t.slice(0,i))[i-1]=n,l):null;if(t[t.length-1]<n)return o?((l=t.slice(t.length-i))[i-1]=n,l):null;for(var u=0,c=r.length;u<c;++u){var h=r[u];if(e!=h){if(n<t[e+i-1])return null;if(n<=t[h-1])return a(t,e,h,i,n,!1);e=h}}return null}},function(t,e,r){"use strict";r.r(e);var i=r(101),n=r(280),o=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n.default.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},e.default=o},function(t,e,r){"use strict";r.r(e);var i=r(38),n=r(70),o=r(120),a=r(8),s=r(87),l=r(200),u=r(281),c=function(t){function e(e,r){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=r?r*i.DEVICE_PIXEL_RATIO:i.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new u.default(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(a.listen)(this.pointerEventHandler_,l.default.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(a.listen)(this.pointerEventHandler_,l.default.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new o.default(n.default.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new o.default(n.default.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new o.default(n.default.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==n.default.POINTERUP||e.type==n.default.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==n.default.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new o.default(n.default.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new o.default(n.default.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new u.default(document),this.dragListenerKeys_.push(Object(a.listen)(this.documentPointerEventHandler_,n.default.POINTERMOVE,this.handlePointerMove_,this),Object(a.listen)(this.documentPointerEventHandler_,n.default.POINTERUP,this.handlePointerUp_,this),Object(a.listen)(this.pointerEventHandler_,n.default.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new o.default(n.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new o.default(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(a.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(a.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(s.default);e.default=c},function(t,e,r){"use strict";r.r(e),e.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,r){"use strict";r.r(e),r.d(e,"POINTER_ID",function(){return i}),r.d(e,"POINTER_TYPE",function(){return n}),r.d(e,"prepareEvent",function(){return h});var i=1,n="mouse";function o(t){if(!this.isEventSimulatedFromTouch_(t)){i.toString()in this.pointerMap&&this.cancel(t);var e=h(t,this.dispatcher);this.pointerMap[i.toString()]=t,this.dispatcher.down(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.move(e,t)}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[i.toString()];if(e&&e.button===t.button){var r=h(t,this.dispatcher);this.dispatcher.up(r,t),this.cleanupMouse()}}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var c=function(t){function e(e){var r={mousedown:o,mousemove:a,mouseup:s,mouseover:l,mouseout:u};t.call(this,e,r),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,r=t.clientX,i=t.clientY,n=0,o=e.length,a=void 0;n<o&&(a=e[n]);n++){var s=Math.abs(r-a[0]),l=Math.abs(i-a[1]);if(s<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=h(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[i.toString()]},e}(r(150).default);function h(t,e){var r=e.cloneEvent(t,t),o=r.preventDefault;return r.preventDefault=function(){t.preventDefault(),o()},r.pointerId=i,r.isPrimary=!0,r.pointerType=n,r}e.default=c},function(t,e,r){"use strict";r.r(e),r.d(e,"DROP",function(){return o});var i=r(15),n=r(9),o=1/0,a=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};a.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(n.clear)(this.queuedElements_)},a.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,r=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},a.prototype.enqueue=function(t){Object(i.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},a.prototype.getCount=function(){return this.elements_.length},a.prototype.getLeftChildIndex_=function(t){return 2*t+1},a.prototype.getRightChildIndex_=function(t){return 2*t+2},a.prototype.getParentIndex_=function(t){return t-1>>1},a.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},a.prototype.isEmpty=function(){return 0===this.elements_.length},a.prototype.isKeyQueued=function(t){return t in this.queuedElements_},a.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},a.prototype.siftUp_=function(t){for(var e=this.elements_,r=this.priorities_,i=e.length,n=e[t],o=r[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&r[l]<r[s]?l:s;e[t]=e[u],r[t]=r[u],t=u}e[t]=n,r[t]=o,this.siftDown_(a,t)},a.prototype.siftDown_=function(t,e){for(var r=this.elements_,i=this.priorities_,n=r[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;r[e]=r[a],i[e]=i[a],e=a}r[e]=n,i[e]=o},a.prototype.reprioritize=function(){var t,e,r,i=this.priorityFunction_,n=this.elements_,a=this.priorities_,s=0,l=n.length;for(e=0;e<l;++e)(r=i(t=n[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=r,n[s++]=t);n.length=s,a.length=s,this.heapify_()},e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(19),o=r(285),a=r(14),s=r(9),l=function(t){function e(e){t.call(this);var r=Object(s.assign)({},e);r[o.default.OPACITY]=void 0!==e.opacity?e.opacity:1,r[o.default.VISIBLE]=void 0===e.visible||e.visible,r[o.default.Z_INDEX]=e.zIndex,r[o.default.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[o.default.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(r),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(a.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.abstract)()},e.prototype.getLayerStatesArray=function(t){return Object(i.abstract)()},e.prototype.getExtent=function(){return this.get(o.default.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},e.prototype.getSourceState=function(){return Object(i.abstract)()},e.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.default.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},e}(n.default);e.default=l},function(t,e,r){"use strict";r.r(e),r.d(e,"defaults",function(){return s});var i=r(46),n=r(155),o=r(156),a=r(157);function s(t){var e=t||{},r=new i.default;return(void 0===e.zoom||e.zoom)&&r.push(new a.default(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&r.push(new o.default(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&r.push(new n.default(e.attributionOptions)),r}},function(t,e,r){"use strict";r.r(e),r.d(e,"defaults",function(){return x});var i=r(46),n=r(147),o=r(122),a=r(158),s=r(159),l=r(160),u=r(162),c=r(163),h=r(164),d=r(165),p=r(166),f=r(40);r.d(e,"DoubleClickZoom",function(){return o.default});var g=r(207);r.d(e,"DragAndDrop",function(){return g.default});var y=r(161);r.d(e,"DragBox",function(){return y.default}),r.d(e,"DragPan",function(){return a.default}),r.d(e,"DragRotate",function(){return s.default});var v=r(208);r.d(e,"DragRotateAndZoom",function(){return v.default}),r.d(e,"DragZoom",function(){return l.default});var m=r(209);r.d(e,"Draw",function(){return m.default});var _=r(214);r.d(e,"Extent",function(){return _.default});var O=r(36);r.d(e,"Interaction",function(){return O.default}),r.d(e,"KeyboardPan",function(){return u.default}),r.d(e,"KeyboardZoom",function(){return c.default});var b=r(215);r.d(e,"Modify",function(){return b.default}),r.d(e,"MouseWheelZoom",function(){return h.default}),r.d(e,"PinchRotate",function(){return d.default}),r.d(e,"PinchZoom",function(){return p.default});var S=r(34);r.d(e,"Pointer",function(){return S.default});var T=r(216);r.d(e,"Select",function(){return T.default});var E=r(217);r.d(e,"Snap",function(){return E.default});var C=r(218);function x(t){var e=t||{},r=new i.default,g=new n.default(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&r.push(new s.default),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&r.push(new o.default({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&r.push(new a.default({condition:e.onFocusOnly?f.focus:void 0,kinetic:g})),(void 0===e.pinchRotate||e.pinchRotate)&&r.push(new d.default),(void 0===e.pinchZoom||e.pinchZoom)&&r.push(new p.default({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(r.push(new u.default),r.push(new c.default({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&r.push(new h.default({condition:e.onFocusOnly?f.focus:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&r.push(new l.default({duration:e.zoomDuration})),r}r.d(e,"Translate",function(){return C.default})},function(t,e,r){"use strict";r.r(e),e.default={ACTIVE:"active"}},function(t,e,r){"use strict";r.r(e);var i=r(22),n=r(8),o=r(21),a=r(10),s=r(36),l=r(12),u="addfeatures",c=function(t){function e(e,r,i,n){t.call(this,e),this.features=i,this.file=r,this.projection=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default),h=function(t){function e(e){var r=e||{};t.call(this,{handleEvent:i.TRUE}),this.formatConstructors_=r.formatConstructors?r.formatConstructors:[],this.projection_=r.projection?Object(l.get)(r.projection):null,this.dropListenKeys_=null,this.source_=r.source||null,this.target=r.target?r.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var r=e.target.result,i=this.getMap(),n=this.projection_;n||(n=i.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var h=new o[s];if((a=this.tryReadFeatures_(h,r,{featureProjection:n}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new c(u,t,a,n))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(n.listen)(e,a.default.DROP,d,this),Object(n.listen)(e,a.default.DRAGENTER,p,this),Object(n.listen)(e,a.default.DRAGOVER,p,this),Object(n.listen)(e,a.default.DROP,p,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(n.unlistenByKey),this.dropListenKeys_=null)},e}(s.default);function d(t){for(var e=t.dataTransfer.files,r=0,i=e.length;r<i;++r){var n=e.item(r),o=new FileReader;o.addEventListener(a.default.LOAD,this.handleResult_.bind(this,n)),o.readAsText(n)}}function p(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(154),n=r(33),o=r(40),a=r(36),s=function(t){function e(e){var r=e||{};t.call(this,r),this.condition_=r.condition?r.condition:o.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==r.duration?r.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(o.mouseOnly)(t)){var e=t.map,r=e.getSize(),n=t.pixel,s=n[0]-r[0]/2,l=r[1]/2-n[1],u=Math.atan2(l,s),c=Math.sqrt(s*s+l*l),h=e.getView();if(h.getConstraints().rotation!==i.disable&&void 0!==this.lastAngle_){var d=u-this.lastAngle_;Object(a.rotateWithoutConstraints)(h,h.getRotation()-d)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var p=this.lastMagnitude_*(h.getResolution()/c);Object(a.zoomWithoutConstraints)(h,p)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/c),this.lastMagnitude_=c}},e.prototype.handleUpEvent=function(t){if(!Object(o.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(n.default.INTERACTING,-1);var r=this.lastScaleDelta_-1;return Object(a.rotate)(e,e.getRotation()),Object(a.zoom)(e,e.getResolution(),void 0,this.duration_,r),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!Object(o.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(n.default.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(r(34).default);e.default=s},function(t,e,r){"use strict";r.r(e),r.d(e,"createRegularPolygon",function(){return A}),r.d(e,"createBox",function(){return M});var i=r(10),n=r(26),o=r(70),a=r(120),s=r(19),l=r(39),u=r(8),c=r(21),h=r(40),d=r(1),p=r(22),f=r(286),g=r(16),y=r(31),v=r(41),m=r(55),_=r(62),O=r(201),b=r(29),S=r(27),T=r(34),E=r(206),C=r(80),x=r(89),j=r(71),P={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I="drawstart",R="drawend",L=function(t){function e(e,r){t.call(this,e),this.feature=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.default),w=function(t){function e(e){var r=e;r.stopDown||(r.stopDown=p.FALSE),t.call(this,r),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===g.default.POINT||t===g.default.MULTI_POINT?e=P.POINT:t===g.default.LINE_STRING||t===g.default.MULTI_LINE_STRING?e=P.LINE_STRING:t===g.default.POLYGON||t===g.default.MULTI_POLYGON?e=P.POLYGON:t===g.default.CIRCLE&&(e=P.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===P.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:p.TRUE;var i=e.geometryFunction;if(!i)if(this.type_===g.default.CIRCLE)i=function(t,e){var r=e||new f.default([NaN,NaN]),i=Object(l.squaredDistance)(t[0],t[1]);return r.setCenterAndRadius(t[0],Math.sqrt(i)),r};else{var n,o=this.mode_;o===P.POINT?n=b.default:o===P.LINE_STRING?n=y.default:o===P.POLYGON&&(n=S.default),i=function(t,e){var r=e;return r?o===P.POLYGON?t[0].length?r.setCoordinates([t[0].concat([t[0][0]])]):r.setCoordinates([]):r.setCoordinates(t):r=new n(t),r}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new C.default({source:new x.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:function(){var t=Object(j.createEditingStyle)();return function(e,r){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:h.noModifierKeys,this.freehandCondition_,e.freehand?this.freehandCondition_=h.always:this.freehandCondition_=e.freehandCondition?e.freehandCondition:h.shiftKeyOnly,Object(u.listen)(this,Object(s.getChangeEventType)(E.default.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===i.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==P.POINT&&this.freehandCondition_(e);var r=e.type===o.default.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&e.type===o.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===o.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),n=!1):this.freehand_&&e.type===o.default.POINTERDOWN?n=!1:r?(n=e.type===o.default.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(e):(e.pointerEvent.pointerType==O.POINTER_TYPE||e.type===o.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===o.default.DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(o.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var r=this.mode_===P.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===P.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,i=e[0]-r[0],n=e[1]-r[1],o=i*i+n*n;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,i=[this.finishCoordinate_];if(this.mode_===P.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===P.POLYGON){var n=this.sketchCoords_;r=n[0].length>this.minPoints_,i=[n[0][0],n[0][n[0].length-2]]}if(r)for(var o=t.map,a=0,s=i.length;a<s;a++){var l=i[a],u=o.getPixelFromCoordinate(l),c=t.pixel,h=c[0]-u[0],d=c[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+d*d)<=p){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new n.default(new b.default(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===P.POINT?this.sketchCoords_=e.slice():this.mode_===P.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new n.default(new y.default(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new n.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new L(I,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,i,o=t.coordinate,a=this.sketchFeature_.getGeometry();(this.mode_===P.POINT?r=this.sketchCoords_:this.mode_===P.POLYGON?(r=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):r=(e=this.sketchCoords_)[e.length-1],r[0]=o[0],r[1]=o[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(o);if(a.getType()==g.default.POLYGON&&this.mode_!==P.POLYGON){this.sketchLine_||(this.sketchLine_=new n.default);var s=a.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),i.changed()):(i=new y.default(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,i=t.coordinate,n=this.sketchFeature_.getGeometry();this.mode_===P.LINE_STRING?(this.finishCoordinate_=i.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(i.slice()),this.geometryFunction_(r,n)):this.mode_===P.POLYGON&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(i.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,n)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===P.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===P.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry();this.mode_===P.LINE_STRING?(e.pop(),this.geometryFunction_(e,r)):this.mode_===P.POLYGON&&(e[0].pop(),this.geometryFunction_(e,r),e=r.getCoordinates()),this.type_===g.default.MULTI_POINT?t.setGeometry(new m.default([e])):this.type_===g.default.MULTI_LINE_STRING?t.setGeometry(new v.default([e])):this.type_===g.default.MULTI_POLYGON&&t.setGeometry(new _.default([e])),this.dispatchEvent(new L(R,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new L(I,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(T.default);function A(t,e){return function(r,i){var n=r[0],o=r[1],a=Math.sqrt(Object(l.squaredDistance)(n,o)),s=i||Object(S.fromCircle)(new f.default(n),t),u=e;if(!e){var c=o[0]-n[0],h=o[1]-n[1];u=Math.atan(h/c)-(c<0?Math.PI:0)}return Object(S.makeRegular)(s,n,a,u),s}}function M(){return function(t,e){var r=Object(d.boundingExtent)(t),i=[[Object(d.getBottomLeft)(r),Object(d.getBottomRight)(r),Object(d.getTopRight)(r),Object(d.getTopLeft)(r),Object(d.getBottomLeft)(r)]],n=e;return n?n.setCoordinates(i):n=new S.default(i),n}}e.default=w},function(t,e,r){"use strict";r.r(e);var i=r(7),n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};n.prototype.clone=function(){return new n({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return!1},n.prototype.getAnchor=function(){return Object(i.abstract)()},n.prototype.getImage=function(t){return Object(i.abstract)()},n.prototype.getHitDetectionImage=function(t){return Object(i.abstract)()},n.prototype.getImageState=function(){return Object(i.abstract)()},n.prototype.getImageSize=function(){return Object(i.abstract)()},n.prototype.getHitDetectionImageSize=function(){return Object(i.abstract)()},n.prototype.getOrigin=function(){return Object(i.abstract)()},n.prototype.getSize=function(){return Object(i.abstract)()},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){},n.prototype.listenImageChange=function(t,e){return Object(i.abstract)()},n.prototype.load=function(){Object(i.abstract)()},n.prototype.unlistenImageChange=function(t,e){Object(i.abstract)()},e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"loadFeaturesXhr",function(){return o}),r.d(e,"xhr",function(){return a});var i=r(22),n=r(123);function o(t,e,r,i){return function(o,a,s){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(o,a,s):t,!0),e.getType()==n.default.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var o,a=e.getType();a==n.default.JSON||a==n.default.TEXT?o=l.responseText:a==n.default.XML?(o=l.responseXML)||(o=(new DOMParser).parseFromString(l.responseText,"application/xml")):a==n.default.ARRAY_BUFFER&&(o=l.response),o?r.call(this,e.readFeatures(o,{featureProjection:s}),e.readProjection(o),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),l.onerror=function(){i.call(this)}.bind(this),l.send()}}function a(t,e){return o(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},i.VOID)}},function(t,e,r){"use strict";r.r(e),e.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,r){"use strict";t.exports=n,t.exports.default=n;var i=r(433);function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,r){if(!r)return e.indexOf(t);for(var i=0;i<e.length;i++)if(r(t,e[i]))return i;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,i,n){n||(n=v(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,a=e;a<r;a++)o=t.children[a],l(n,t.leaf?i(o):o);return n}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var r=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,n-r)*Math.max(0,o-i)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,r,n,o){for(var a,s=[e,r];s.length;)(r=s.pop())-(e=s.pop())<=n||(a=e+Math.ceil((r-e)/n/2)*n,i(t,a,e,r,o),s.push(e,a,a,r))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],i=this.toBBox;if(!y(t,e))return r;for(var n,o,a,s,l=[];e;){for(n=0,o=e.children.length;n<o;n++)a=e.children[n],y(t,s=e.leaf?i(a):a)&&(e.leaf?r.push(a):g(t,s)?this._all(a,r):l.push(a));e=l.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!y(t,e))return!1;for(var i,n,o,a,s=[];e;){for(i=0,n=e.children.length;i<n;i++)if(o=e.children[i],y(t,a=e.leaf?r(o):o)){if(e.leaf||g(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(t,e){if(!t)return this;for(var r,i,n,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],r=c.pop(),a=!0),s.leaf&&-1!==(n=o(t,s.children,e)))return s.children.splice(n,1),u.push(s),this._condense(u),this;a||s.leaf||!g(s,l)?i?(r++,s=i.children[r],a=!1):s=null:(u.push(s),c.push(r),r=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,i){var n,o=r-e+1,s=this._maxEntries;if(o<=s)return a(n=v(t.slice(e,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(n=v([])).leaf=!1,n.height=i;var l,u,c,h,d=Math.ceil(o/s),p=d*Math.ceil(Math.sqrt(s));for(m(t,e,r,p,this.compareMinX),l=e;l<=r;l+=p)for(m(t,l,c=Math.min(l+p-1,r),d,this.compareMinY),u=l;u<=c;u+=d)h=Math.min(u+d-1,c),n.children.push(this._build(t,u,h,i-1));return a(n,this.toBBox),n},_chooseSubtree:function(t,e,r,i){for(var n,o,a,s,l,u,c,d;i.push(e),!e.leaf&&i.length-1!==r;){for(c=d=1/0,n=0,o=e.children.length;n<o;n++)l=h(a=e.children[n]),(u=p(t,a)-l)<d?(d=u,c=l<c?l:c,s=a):u===d&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,r){var i=this.toBBox,n=r?t:i(t),o=[],a=this._chooseSubtree(n,this.data,e,o);for(a.children.push(t),l(a,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},_split:function(t,e){var r=t[e],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var o=this._chooseSplitIndex(r,n,i),s=v(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var i,n,o,a,l,u,c,d;for(u=c=1/0,i=e;i<=r-e;i++)a=f(n=s(t,0,i,this.toBBox),o=s(t,i,r,this.toBBox)),l=h(n)+h(o),a<u?(u=a,d=i,c=l<c?l:c):a===u&&l<c&&(c=l,d=i);return d},_chooseSplitAxis:function(t,e,r){var i=t.leaf?this.compareMinX:u,n=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,r,i)<this._allDistMargin(t,e,r,n)&&t.children.sort(i)},_allDistMargin:function(t,e,r,i){t.children.sort(i);var n,o,a=this.toBBox,u=s(t,0,e,a),c=s(t,r-e,r,a),h=d(u)+d(c);for(n=e;n<r-e;n++)o=t.children[n],l(u,t.leaf?a(o):o),h+=d(u);for(n=r-e-1;n>=e;n--)o=t.children[n],l(c,t.leaf?a(o):o),h+=d(c);return h},_adjustParentBBoxes:function(t,e,r){for(var i=r;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():a(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(70),o=r(39),a=r(21),s=r(1),l=r(16),u=r(29),c=r(27),h=r(34),d=r(80),p=r(89),f=r(71),g={EXTENTCHANGED:"extentchanged"},y=function(t){function e(e){t.call(this,g.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),v=function(t){function e(e){var r=e||{};t.call(this,r),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new d.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:function(){var t=Object(f.createEditingStyle)();return function(e,r){return t[l.default.POLYGON]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new d.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:function(){var t=Object(f.createEditingStyle)();return function(e,r){return t[l.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var r=e.getCoordinateFromPixel(t),i=this.getExtent();if(i){var n=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(i);n.sort(function(t,e){return Object(o.squaredDistanceToSegment)(r,t)-Object(o.squaredDistanceToSegment)(r,e)});var a=n[0],s=Object(o.closestOnSegment)(r,a),l=e.getPixelFromCoordinate(s);if(Object(o.distance)(t,l)<=this.pixelTolerance_){var u=e.getPixelFromCoordinate(a[0]),c=e.getPixelFromCoordinate(a[1]),h=Object(o.squaredDistance)(l,u),d=Object(o.squaredDistance)(l,c),p=Math.sqrt(Math.min(h,d));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=h>d?a[1]:a[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,r=t.map,i=this.snapToVertex_(e,r);i||(i=r.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(i)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(c.fromExtent)(t)):e.setGeometry(void 0):(e=t?new i.default(Object(c.fromExtent)(t)):new i.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new i.default(new u.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=n.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,r=t.map,i=this.getExtent(),n=this.snapToVertex_(e,r),o=function(t){var e=null,r=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?r=i[3]:t[1]==i[3]&&(r=i[1]),null!==e&&null!==r?[e,r]:null};if(n&&i){var a=n[0]==i[0]||n[0]==i[2]?n[0]:null,s=n[1]==i[1]||n[1]==i[3]?n[1]:null;null!==a&&null!==s?this.pointerHandler_=m(o(n)):null!==a?this.pointerHandler_=_(o([a,i[1]]),o([a,i[3]])):null!==s&&(this.pointerHandler_=_(o([i[0],s]),o([i[2],s])))}else n=r.getCoordinateFromPixel(e),this.setExtent([n[0],n[1],n[0],n[1]]),this.pointerHandler_=m(n);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==Object(s.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new y(this.extent_))},e}(h.default);function m(t){return function(e){return Object(s.boundingExtent)([t,e])}}function _(t,e){return t[0]==e[0]?function(r){return Object(s.boundingExtent)([t,[r[0],e[1]]])}:t[1]==e[1]?function(r){return Object(s.boundingExtent)([t,[e[0],r[1]]])}:null}e.default=v},function(t,e,r){"use strict";r.r(e),r.d(e,"ModifyEvent",function(){return x});var i=r(7),n=r(46),o=r(77),a=r(26),s=r(70),l=r(13),u=r(39),c=r(8),h=r(21),d=r(10),p=r(40),f=r(1),g=r(16),y=r(29),v=r(34),m=r(80),_=r(89),O=r(212),b=r(124),S=r(71),T=1,E="modifystart",C="modifyend",x=function(t){function e(e,r,i){t.call(this,e),this.features=r,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default),j=function(t){function e(e){var r;if(t.call(this,e),this.condition_=e.condition?e.condition:p.primaryAction,this.defaultDeleteCondition_=function(t){return Object(p.altKeyOnly)(t)&&Object(p.singleClick)(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:p.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new b.default,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new m.default({source:new _.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:function(){var t=Object(S.createEditingStyle)();return function(e,r){return t[g.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,r=new n.default(this.source_.getFeatures()),Object(c.listen)(this.source_,O.default.ADDFEATURE,this.handleSourceAdd_,this),Object(c.listen)(this.source_,O.default.REMOVEFEATURE,this.handleSourceRemove_,this)):r=e.features,!r)throw new Error("The modify interaction requires features or a source");this.features_=r,this.features_.forEach(this.addFeature_.bind(this)),Object(c.listen)(this.features_,o.default.ADD,this.handleFeatureAdd_,this),Object(c.listen)(this.features_,o.default.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),Object(c.listen)(t,d.default.CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new x(E,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(c.unlisten)(t,d.default.CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,r=[];e.forEach(function(e){t===e.feature&&r.push(e)});for(var i=r.length-1;i>=0;--i)e.remove(r[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),i={feature:t,geometry:e,segment:[r,r]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],a={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert(Object(f.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert(Object(f.boundingExtent)(l),u)}},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert(Object(f.boundingExtent)(l),u)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),d={feature:t,geometry:e,depth:[a,i],index:u,segment:h};this.rBush_.insert(Object(f.boundingExtent)(h),d)}},e.prototype.writeCircleGeometry_=function(t,e){var r=e.getCenter(),i={feature:t,geometry:e,index:0,segment:[r,r]},n={feature:t,geometry:e,index:T,segment:[r,r]},o=[i,n];i.featureSegments=n.featureSegments=o,this.rBush_.insert(Object(f.createOrUpdateFromCoordinate)(r),i),this.rBush_.insert(e.getExtent(),n)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,t,r[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new a.default(new y.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(r=!(e.type!=s.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!r);var r},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){for(var n=this.dragSegments_[r],o=n[0],a=o.depth,s=o.geometry,l=void 0,c=o.segment,h=n[1];e.length<s.getStride();)e.push(c[h][e.length]);switch(s.getType()){case g.default.POINT:l=e,c[0]=c[1]=e;break;case g.default.MULTI_POINT:(l=s.getCoordinates())[o.index]=e,c[0]=c[1]=e;break;case g.default.LINE_STRING:(l=s.getCoordinates())[o.index+h]=e,c[h]=e;break;case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(l=s.getCoordinates())[a[0]][o.index+h]=e,c[h]=e;break;case g.default.MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+h]=e,c[h]=e;break;case g.default.CIRCLE:c[0]=c[1]=e,0===o.index?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(u.distance)(s.getCenter(),e)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var n=[],o=r.getGeometry().getCoordinates(),a=Object(f.boundingExtent)([o]),s=this.rBush_.getInExtent(a),l={};s.sort(P);for(var c=0,h=s.length;c<h;++c){var d=s[c],p=d.segment,y=Object(i.getUid)(d.feature),v=d.depth;if(v&&(y+="-"+v.join("-")),l[y]||(l[y]=new Array(2)),d.geometry.getType()===g.default.CIRCLE&&d.index===T){var m=R(e,d);Object(u.equals)(m,o)&&!l[y][0]&&(this.dragSegments_.push([d,0]),l[y][0]=d)}else if(Object(u.equals)(p[0],o)&&!l[y][0])this.dragSegments_.push([d,0]),l[y][0]=d;else if(Object(u.equals)(p[1],o)&&!l[y][1]){if((d.geometry.getType()===g.default.LINE_STRING||d.geometry.getType()===g.default.MULTI_LINE_STRING)&&l[y][0]&&0===l[y][0].index)continue;this.dragSegments_.push([d,1]),l[y][1]=d}else this.insertVertexCondition_(t)&&Object(i.getUid)(p)in this.vertexSegments_&&!l[y][0]&&!l[y][1]&&n.push([d,o])}n.length&&this.willModifyFeatures_(t);for(var _=n.length-1;_>=0;--_)this.insertVertex_.apply(this,n[_])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var r=this.dragSegments_[e][0],i=r.geometry;if(i.getType()===g.default.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=o.segment[1]=n,a.segment[0]=a.segment[1]=n,this.rBush_.update(Object(f.createOrUpdateFromCoordinate)(n),o),this.rBush_.update(i.getExtent(),a)}else this.rBush_.update(Object(f.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new x(C,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var r=e.getCoordinateFromPixel(t),n=Object(f.buffer)(Object(f.createOrUpdateFromCoordinate)(r),e.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(n);if(o.length>0){o.sort(function(t,e){return I(r,t)-I(r,e)});var a=o[0],s=a.segment,l=R(r,a),c=e.getPixelFromCoordinate(l),h=Object(u.distance)(t,c);if(h<=this.pixelTolerance_){var d={};if(a.geometry.getType()===g.default.CIRCLE&&a.index===T)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(l);else{var p=e.getPixelFromCoordinate(s[0]),y=e.getPixelFromCoordinate(s[1]),v=Object(u.squaredDistance)(c,p),m=Object(u.squaredDistance)(c,y);h=Math.sqrt(Math.min(v,m)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(l=v>m?s[1]:s[0]),this.createOrUpdateVertexFeature_(l);for(var _=1,O=o.length;_<O;++_){var b=o[_].segment;if(!(Object(u.equals)(s[0],b[0])&&Object(u.equals)(s[1],b[1])||Object(u.equals)(s[0],b[1])&&Object(u.equals)(s[1],b[0])))break;d[Object(i.getUid)(b)]=!0}}return d[Object(i.getUid)(s)]=!0,void(this.vertexSegments_=d)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var r,i=t.segment,n=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case g.default.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case g.default.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,r);var l=this.rBush_;l.remove(t),this.updateSegmentIndices_(o,s,a,1);var u={segment:[i[0],e],feature:n,geometry:o,depth:a,index:s};l.insert(Object(f.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[e,i[1]],feature:n,geometry:o,depth:a,index:s+1};l.insert(Object(f.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.default.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new x(C,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,r,n,o,a,s,l,u,c,h,d=this.dragSegments_,p={},y=!1;for(o=d.length-1;o>=0;--o)c=(r=d[o])[0],h=Object(i.getUid)(c.feature),c.depth&&(h+="-"+c.depth.join("-")),h in p||(p[h]={}),0===r[1]?(p[h].right=c,p[h].index=c.index):1==r[1]&&(p[h].left=c,p[h].index=c.index+1);for(h in p){switch(u=p[h].right,s=p[h].left,l=(a=p[h].index)-1,c=void 0!==s?s:u,l<0&&(l=0),t=e=(n=c.geometry).getCoordinates(),y=!1,n.getType()){case g.default.MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(a,1),y=!0);break;case g.default.LINE_STRING:e.length>2&&(e.splice(a,1),y=!0);break;case g.default.MULTI_POLYGON:t=t[c.depth[1]];case g.default.POLYGON:(t=t[c.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),y=!0,0===a&&(t.pop(),t.push(t[0]),l=t.length-1))}if(y){this.setGeometryCoordinates_(n,e);var v=[];if(void 0!==s&&(this.rBush_.remove(s),v.push(s.segment[0])),void 0!==u&&(this.rBush_.remove(u),v.push(u.segment[1])),void 0!==s&&void 0!==u){var m={depth:c.depth,feature:c.feature,geometry:c.geometry,index:l,segment:v};this.rBush_.insert(Object(f.boundingExtent)(m.segment),m)}this.updateSegmentIndices_(n,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),d.length=0}}return y},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,r,i){this.rBush_.forEachInExtent(t.getExtent(),function(n){n.geometry===t&&(void 0===r||void 0===n.depth||Object(l.equals)(n.depth,r))&&n.index>e&&(n.index+=i)})},e}(v.default);function P(t,e){return t.index-e.index}function I(t,e){var r=e.geometry;if(r.getType()===g.default.CIRCLE){var i=r;if(e.index===T){var n=Object(u.squaredDistance)(i.getCenter(),t),o=Math.sqrt(n)-i.getRadius();return o*o}}return Object(u.squaredDistanceToSegment)(t,e.segment)}function R(t,e){var r=e.geometry;return r.getType()===g.default.CIRCLE&&e.index===T?r.getClosestPoint(t):Object(u.closestOnSegment)(t,e.segment)}e.default=j},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(77),o=r(13),a=r(8),s=r(21),l=r(40),u=r(22),c=r(16),h=r(36),d=r(80),p=r(9),f=r(89),g=r(71),y={SELECT:"select"},v=function(t){function e(e,r,i,n){t.call(this,e),this.selected=r,this.deselected=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default),m=function(t){function e(e){t.call(this,{handleEvent:_});var r=e||{};this.condition_=r.condition?r.condition:l.singleClick,this.addCondition_=r.addCondition?r.addCondition:l.never,this.removeCondition_=r.removeCondition?r.removeCondition:l.never,this.toggleCondition_=r.toggleCondition?r.toggleCondition:l.shiftKeyOnly,this.multi_=!!r.multi&&r.multi,this.filter_=r.filter?r.filter:u.TRUE,this.hitTolerance_=r.hitTolerance?r.hitTolerance:0;var i,s=new d.default({source:new f.default({useSpatialIndex:!1,features:r.features,wrapX:r.wrapX}),style:r.style?r.style:function(){var t=Object(g.createEditingStyle)();return Object(o.extend)(t[c.default.POLYGON],t[c.default.LINE_STRING]),Object(o.extend)(t[c.default.GEOMETRY_COLLECTION],t[c.default.LINE_STRING]),function(e,r){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=s,r.layers)if("function"==typeof r.layers)i=r.layers;else{var h=r.layers;i=function(t){return Object(o.includes)(h,t)}}else i=u.TRUE;this.layerFilter_=i,this.featureLayerAssociation_={};var p=this.getFeatures();Object(a.listen)(p,n.default.ADD,this.addFeature_,this),Object(a.listen)(p,n.default.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(i.getUid)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(i.getUid)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap(),i=this.getFeatures();r&&i.forEach(r.unskipFeature.bind(r)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&i.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(i.getUid)(t)]},e}(h.default);function _(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),r=this.removeCondition_(t),i=this.toggleCondition_(t),n=!e&&!r&&!i,a=t.map,s=this.getFeatures(),u=[],c=[];if(n){Object(p.clear)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return c.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.getLength()-1;h>=0;--h){var d=s.item(h),f=c.indexOf(d);f>-1?c.splice(f,1):(s.remove(d),u.push(d))}0!==c.length&&s.extend(c)}else{a.forEachFeatureAtPixel(t.pixel,function(t,n){if(this.filter_(t,n))return!e&&!i||Object(o.includes)(s.getArray(),t)?(r||i)&&Object(o.includes)(s.getArray(),t)&&(u.push(t),this.removeFeatureLayerAssociation_(t)):(c.push(t),this.addFeatureLayerAssociation_(t,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var g=u.length-1;g>=0;--g)s.remove(u[g]);s.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new v(y.SELECT,c,u,t)),Object(l.pointerMove)(t)}e.default=m},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(77),o=r(39),a=r(8),s=r(10),l=r(1),u=r(22),c=r(16),h=r(27),d=r(34),p=r(9),f=r(212),g=r(124);function y(t){return t.feature?t.feature:t.element?t.element:void 0}var v=function(t){function e(e){var r=e||{},i=r;i.handleDownEvent||(i.handleDownEvent=u.TRUE),i.stopDown||(i.stopDown=u.FALSE),t.call(this,i),this.source_=r.source?r.source:null,this.vertex_=void 0===r.vertex||r.vertex,this.edge_=void 0===r.edge||r.edge,this.features_=r.features?r.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,this.sortByDistance_=function(t,e){var r=Object(o.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment),i=Object(o.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment);return r-i}.bind(this),this.rBush_=new g.default,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var r=void 0===e||e,n=Object(i.getUid)(t),o=t.getGeometry();if(o){var u=this.SEGMENT_WRITERS_[o.getType()];u&&(this.indexedFeaturesExtents_[n]=o.getExtent(Object(l.createEmpty)()),u.call(this,t,o))}r&&(this.featureChangeListenerKeys_[n]=Object(a.listen)(t,s.default.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var r=this.snapTo(e.pixel,e.coordinate,e.map);return r.snapped&&(e.coordinate=r.vertex.slice(0,2),e.pixel=r.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=y(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=y(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var r=Object(i.getUid)(e);r in this.pendingFeatures_||(this.pendingFeatures_[r]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(p.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var r=void 0===e||e,n=Object(i.getUid)(t),o=this.indexedFeaturesExtents_[n];if(o){var s=this.rBush_,l=[];s.forEachInExtent(o,function(e){t===e.feature&&l.push(e)});for(var u=l.length-1;u>=0;--u)s.remove(l[u])}r&&(Object(a.unlistenByKey)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},e.prototype.setMap=function(e){var r=this.getMap(),i=this.featuresListenerKeys_,o=this.getFeatures_();r&&(i.forEach(a.unlistenByKey),i.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push(Object(a.listen)(this.features_,n.default.ADD,this.handleFeatureAdd_,this),Object(a.listen)(this.features_,n.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(a.listen)(this.source_,f.default.ADDFEATURE,this.handleFeatureAdd_,this),Object(a.listen)(this.source_,f.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,r){var i=r.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n=r.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),a=Object(l.boundingExtent)([i,n]),s=this.rBush_.getInExtent(a);this.vertex_&&!this.edge_&&(s=s.filter(function(t){return t.feature.getGeometry().getType()!==c.default.CIRCLE}));var u,h,d,p,f=!1,g=null,y=null;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var v=s[0].segment,m=s[0].feature.getGeometry().getType()===c.default.CIRCLE;this.vertex_&&!this.edge_?(u=r.getPixelFromCoordinate(v[0]),h=r.getPixelFromCoordinate(v[1]),d=Object(o.squaredDistance)(t,u),p=Object(o.squaredDistance)(t,h),Math.sqrt(Math.min(d,p))<=this.pixelTolerance_&&(f=!0,g=d>p?v[1]:v[0],y=r.getPixelFromCoordinate(g))):this.edge_&&(g=m?Object(o.closestOnCircle)(e,s[0].feature.getGeometry()):Object(o.closestOnSegment)(e,v),y=r.getPixelFromCoordinate(g),Object(o.distance)(t,y)<=this.pixelTolerance_&&(f=!0,this.vertex_&&!m&&(u=r.getPixelFromCoordinate(v[0]),h=r.getPixelFromCoordinate(v[1]),d=Object(o.squaredDistance)(y,u),p=Object(o.squaredDistance)(y,h),Math.sqrt(Math.min(d,p))<=this.pixelTolerance_&&(g=d>p?v[1]:v[0],y=r.getPixelFromCoordinate(g))))),f&&(y=[Math.round(y[0]),Math.round(y[1])])}return{snapped:f,vertex:g,vertexPixel:y}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var r=Object(h.fromCircle)(e).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert(Object(l.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var r=e.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,t,r[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert(Object(l.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),c={feature:t,segment:u};this.rBush_.insert(Object(l.boundingExtent)(u),c)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length;a<s;++a)for(var u=o[a],c=0,h=u.length-1;c<h;++c){var d=u.slice(c,c+2),p={feature:t,segment:d};this.rBush_.insert(Object(l.boundingExtent)(d),p)}},e.prototype.writePointGeometry_=function(t,e){var r=e.getCoordinates(),i={feature:t,segment:[r,r]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writePolygonGeometry_=function(t,e){for(var r=e.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),c={feature:t,segment:u};this.rBush_.insert(Object(l.boundingExtent)(u),c)}},e}(d.default);e.default=v},function(t,e,r){"use strict";r.r(e),r.d(e,"TranslateEvent",function(){return f});var i=r(46),n=r(19),o=r(8),a=r(21),s=r(22),l=r(13),u=r(34),c=r(206),h="translatestart",d="translating",p="translateend",f=function(t){function e(e,r,i){t.call(this,e),this.features=r,this.coordinate=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),g=function(t){function e(e){var r,i=e||{};if(t.call(this,i),this.lastCoordinate_=null,this.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var a=i.layers;r=function(t){return Object(l.includes)(a,t)}}else r=s.TRUE;this.layerFilter_=r,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0,this.lastFeature_=null,Object(o.listen)(this,Object(n.getChangeEventType)(c.default.ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new i.default([this.lastFeature_]);return this.dispatchEvent(new f(h,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new i.default([this.lastFeature_]);return this.dispatchEvent(new f(p,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],n=e[1]-this.lastCoordinate_[1],o=this.features_||new i.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(r,n),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new f(d,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(l.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(r)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(u.default);e.default=g},function(t,e,r){"use strict";r.r(e);var i=r(105),n=r(125),o=r(52),a=r(33),s=r(13),l=r(1),u=r(288),c=r(9),h=r(220),d=r(293),p=r(23),f=function(t){function e(r){if(t.call(this,r),this.image_=null,this.imageTransform_=Object(p.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,r.getType()===o.default.VECTOR)for(var i=0,n=h.layerRendererConstructors.length;i<n;++i){var a=h.layerRendererConstructors[i];if(a!==e&&a.handles(r)){this.vectorRenderer_=new a(r);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var r,o=t.pixelRatio,u=t.size,h=t.viewState,d=h.center,f=h.resolution,g=this.getLayer().getSource(),y=t.viewHints,v=this.vectorRenderer_,m=t.extent;if(v||void 0===e.extent||(m=Object(l.getIntersection)(m,e.extent)),!y[a.default.ANIMATING]&&!y[a.default.INTERACTING]&&!Object(l.isEmpty)(m)){var _=h.projection;if(!i.ENABLE_RASTER_REPROJECTION){var O=g.getProjection();O&&(_=O)}var b=this.skippedFeatures_;if(v){var S=v.context,T=Object(c.assign)({},t,{size:[Object(l.getWidth)(m)/f,Object(l.getHeight)(m)/f],viewState:Object(c.assign)({},t.viewState,{rotation:0})}),E=Object.keys(T.skippedFeatureUids).sort();r=new n.default(m,f,o,S.canvas,function(t){!v.prepareFrame(T,e)||!v.replayGroupChanged&&Object(s.equals)(b,E)||(S.canvas.width=T.size[0]*o,S.canvas.height=T.size[1]*o,v.compose(S,T,e),b=E,t())})}else r=g.getImage(m,f,o,_);r&&this.loadImage(r)&&(this.image_=r,this.skippedFeatures_=b)}if(this.image_){var C=(r=this.image_).getExtent(),x=r.getResolution(),j=r.getPixelRatio(),P=o*x/(f*j),I=Object(p.compose)(this.imageTransform_,o*u[0]/2,o*u[1]/2,P,P,0,j*(C[0]-d[0])/x,j*(d[1]-C[3])/x);Object(p.compose)(this.coordinateToCanvasPixelTransform,o*u[0]/2-I[4],o*u[1]/2-I[5],o/f,-o/f,0,-d[0],-d[1]),this.renderedResolution=x*o/j}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,r,i,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,r,i,n):t.prototype.forEachFeatureAtCoordinate.call(this,e,r,i,n)},e}(d.default);f.handles=function(t){return t.getType()===o.default.IMAGE||t.getType()===o.default.VECTOR&&t.getRenderMode()===u.default.IMAGE},f.create=function(t,e){return new f(e)},e.default=f},function(t,e,r){"use strict";r.r(e),r.d(e,"layerRendererConstructors",function(){return f});var i=r(23),n=r(13),o=r(51),a=r(18),s=r(79),l=r(169),u=r(68),c=r(63),h=r(170),d=r(292),p=r(48),f=[],g=function(t){function e(e){t.call(this,e);var r=e.getViewport();this.context_=Object(a.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o.CLASS_UNSELECTABLE,r.insertBefore(this.canvas_,r.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(i.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var r=this.getMap(),i=this.context_;if(r.hasListener(t)){var n=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),u=new h.default(i,o,n,s,a),c=new l.default(t,u,e,i,null);r.dispatchEvent(c)}},e.prototype.getTransform=function(t){var e=t.viewState,r=this.canvas_.width/2,n=this.canvas_.height/2,o=t.pixelRatio/e.resolution,a=-o,s=-e.rotation,l=-e.center[0],u=-e.center[1];return Object(i.compose)(this.transform_,r,n,o,a,s,l,u)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,r=t.pixelRatio,i=Math.round(t.size[0]*r),o=Math.round(t.size[1]*r);this.canvas_.width!=i||this.canvas_.height!=o?(this.canvas_.width=i,this.canvas_.height=o):e.clearRect(0,0,i,o);var a=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(u.default.PRECOMPOSE,t);var l=t.layerStatesArray;Object(n.stableSort)(l,d.sortByZIndex),a&&(e.save(),Object(c.rotateAtOffset)(e,a,i/2,o/2));var h,f,g=t.viewState.resolution;for(h=0,f=l.length;h<f;++h){var y=l[h],v=y.layer,m=this.getLayerRenderer(v);Object(s.visibleAtResolution)(y,g)&&y.sourceState==p.default.READY&&(m.prepareFrame(t,y)&&m.composeFrame(t,y,e))}a&&e.restore(),this.dispatchRenderEvent(u.default.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,r,n,o,a,l){var u,c,h=e.viewState.resolution,d=e.layerStatesArray,p=d.length,f=Object(i.apply)(e.pixelToCoordinateTransform,t.slice());for(c=p-1;c>=0;--c){var g=d[c],y=g.layer;if(Object(s.visibleAtResolution)(g,h)&&a.call(l,y))if(u=this.getLayerRenderer(y).forEachLayerAtCoordinate(f,e,r,n,o))return u}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var r=0,i=e.length;r<i;++r){var o=e[r];Object(n.includes)(f,o)||f.push(o)}},e}(d.default);e.default=g},function(t,e,r){"use strict";r.r(e),r.d(e,"shared",function(){return a});var i=r(54),n=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,r){return e+":"+t+":"+(r?Object(i.asString)(r):"null")}n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var r=this.cache_[e];0!=(3&t++)||r.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},n.prototype.get=function(t,e,r){var i=o(t,e,r);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(t,e,r,i){var n=o(t,e,r);this.cache_[n]=i,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e.default=n;var a=new n},function(t,e,r){"use strict";r.r(e),r.d(e,"defaultOrder",function(){return u}),r.d(e,"getSquaredTolerance",function(){return c}),r.d(e,"getTolerance",function(){return h}),r.d(e,"renderFeature",function(){return d});var i=r(7),n=r(59),o=r(16),a=r(128),s=.5,l={Point:function(t,e,r,i){var o=r.getImage();if(o){if(o.getImageState()!=n.default.LOADED)return;var s=t.getReplay(r.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,i)}var l=r.getText();if(l){var u=t.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(l,t.addDeclutter(!!o)),u.drawText(e,i)}},LineString:function(t,e,r,i){var n=r.getStroke();if(n){var o=t.getReplay(r.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,n),o.drawLineString(e,i)}var s=r.getText();if(s){var l=t.getReplay(r.getZIndex(),a.default.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},Polygon:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(n||o){var s=t.getReplay(r.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(n,o),s.drawPolygon(e,i)}var l=r.getText();if(l){var u=t.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,i)}},MultiPoint:function(t,e,r,i){var o=r.getImage();if(o){if(o.getImageState()!=n.default.LOADED)return;var s=t.getReplay(r.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,i)}var l=r.getText();if(l){var u=t.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(l,t.addDeclutter(!!o)),u.drawText(e,i)}},MultiLineString:function(t,e,r,i){var n=r.getStroke();if(n){var o=t.getReplay(r.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,n),o.drawMultiLineString(e,i)}var s=r.getText();if(s){var l=t.getReplay(r.getZIndex(),a.default.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPolygon:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(o||n){var s=t.getReplay(r.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(n,o),s.drawMultiPolygon(e,i)}var l=r.getText();if(l){var u=t.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,i)}},GeometryCollection:function(t,e,r,i){var n,o,a=e.getGeometriesArray();for(n=0,o=a.length;n<o;++n){var s=l[a[n].getType()];s(t,a[n],r,i)}},Circle:function(t,e,r,i){var n=r.getFill(),o=r.getStroke();if(n||o){var s=t.getReplay(r.getZIndex(),a.default.CIRCLE);s.setFillStrokeStyle(n,o),s.drawCircle(e,i)}var l=r.getText();if(l){var u=t.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(l,t.addDeclutter(!1)),u.drawText(e,i)}}};function u(t,e){return parseInt(Object(i.getUid)(t),10)-parseInt(Object(i.getUid)(e),10)}function c(t,e){var r=h(t,e);return r*r}function h(t,e){return s*t/e}function d(t,e,r,i,s,u){var c=!1,h=r.getImage();if(h){var d=h.getImageState();d==n.default.LOADED||d==n.default.ERROR?h.unlistenImageChange(s,u):(d==n.default.IDLE&&h.load(),d=h.getImageState(),h.listenImageChange(s,u),c=!0)}return function(t,e,r,i){var n=r.getGeometryFunction()(e);if(!n)return;var s=n.getSimplifiedGeometry(i);if(r.getRenderer())!function t(e,r,i,n){if(r.getType()==o.default.GEOMETRY_COLLECTION){for(var s=r.getGeometries(),l=0,u=s.length;l<u;++l)t(e,s[l],i,n);return}var c=e.getReplay(i.getZIndex(),a.default.DEFAULT);c.drawCustom(r,n,i.getRenderer())}(t,s,r,e);else{var u=l[s.getType()];u(t,s,r,e)}}(t,e,r,i),c}},function(t,e,r){"use strict";r.r(e);var i=r(118),n=r(302),o=r(205),a=r(9),s=r(303),l=r(311),u=r(312),c=r(313),h=function(t){function e(e){(e=Object(a.assign)({},e)).controls||(e.controls=Object(n.defaults)()),e.interactions||(e.interactions=Object(o.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new l.default(this);return t.registerLayerRenderers([s.default,u.default,c.default]),t},e}(i.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(50),n=r(51),o=r(18),a=r(8),s=r(10),l=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}(),u=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target}),this.cssClassName_=void 0!==r.className?r.className:"ol-full-screen";var i=void 0!==r.label?r.label:"";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var o=void 0!==r.labelActive?r.labelActive:"";this.labelActiveNode_="string"==typeof o?document.createTextNode(o):o,this.button_=document.createElement("button");var l=r.tipLabel?r.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,h()),this.button_.setAttribute("type","button"),this.button_.title=l,this.button_.appendChild(this.labelNode_),Object(a.listen)(this.button_,s.default.CLICK,this.handleClick_,this);var u=this.cssClassName_+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL+" "+(c()?"":n.CLASS_UNSUPPORTED),d=this.element;d.className=u,d.appendChild(this.button_),this.keys_=void 0!==r.keys&&r.keys,this.source_=r.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(c()){var t,e=this.getMap();if(e)if(h())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():d(t)}(t):d(t)}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();h()?(this.setClassName_(this.button_,!0),Object(o.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(o.replaceNode)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var r=this.cssClassName_+"-true",i=this.cssClassName_+"-false",n=e?r:i;t.classList.remove(r),t.classList.remove(i),t.classList.add(n)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(a.listen)(document,l(),this.handleFullScreenChange_,this))},e}(i.default);function c(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function h(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return c});var i=r(8),n=r(10),o=r(19),a=r(50),s=r(12),l="projection",u=function(t){function e(e){var r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",t.call(this,{element:n,render:r.render||c,target:r.target}),Object(i.listen)(this,Object(o.getChangeEventType)(l),this.handleProjectionChanged_,this),r.coordinateFormat&&this.setCoordinateFormat(r.coordinateFormat),r.projection&&this.setProjection(r.projection),this.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(l)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var r=e.getViewport();this.listenerKeys.push(Object(i.listen)(r,n.default.MOUSEMOVE,this.handleMouseMove,this),Object(i.listen)(r,n.default.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(i.listen)(r,n.default.MOUSEOUT,this.handleMouseOut,this),Object(i.listen)(r,n.default.TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(l,Object(s.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?Object(s.getTransformFromProjections)(this.mapProjection_,r):s.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();e=n?n(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(a.default);function c(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"Units",function(){return h}),r.d(e,"render",function(){return f});var i=r(19),n=r(15),o=r(50),a=r(51),s=r(8),l=r(12),u=r(47),c="units",h={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},d=[1,2,5],p=function(t){function e(e){var r=e||{},n=void 0!==r.className?r.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:r.render||f,target:r.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+a.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==r.minWidth?r.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(s.listen)(this,Object(i.getChangeEventType)(c),this.handleUnitsChanged_,this),this.setUnits(r.units||h.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(c)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(c,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,r=t.projection,i=this.getUnits(),o=i==h.DEGREES?u.default.DEGREES:u.default.METERS,a=Object(l.getPointResolution)(r,t.resolution,e,o);r.getUnits()!=u.default.DEGREES&&r.getMetersPerUnit()&&o==u.default.METERS&&(a*=r.getMetersPerUnit());var s=this.minWidth_*a,c="";if(i==h.DEGREES){var p=l.METERS_PER_UNIT[u.default.DEGREES];r.getUnits()==u.default.DEGREES?s*=p:a/=p,s<p/60?(c="",a*=3600):s<p?(c="",a*=60):c=""}else i==h.IMPERIAL?s<.9144?(c="in",a/=.0254):s<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344):i==h.NAUTICAL?(a/=1852,c="nm"):i==h.METRIC?s<.001?(c="m",a*=1e6):s<1?(c="mm",a*=1e3):s<1e3?c="m":(c="km",a/=1e3):i==h.US?s<.9144?(c="in",a*=39.37):s<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472):Object(n.assert)(!1,33);for(var f,g,y=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(f=d[(y%3+3)%3]*Math.pow(10,Math.floor(y/3)),g=Math.round(f/a),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++y}var v=f+" "+c;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(o.default);function f(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.default=p},function(t,e,r){"use strict";r.r(e),r.d(e,"render",function(){return g});var i=r(33),n=r(50),o=r(51),a=r(61),s=r(8),l=r(21),u=r(10),c=r(14),h=r(200),d=r(281),p={VERTICAL:0,HORIZONTAL:1},f=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),render:r.render||g}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=p.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==r.duration?r.duration:200;var i=void 0!==r.className?r.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=i+"-thumb "+o.CLASS_UNSELECTABLE;var a=this.element;a.className=i+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,a.appendChild(n),this.dragger_=new d.default(a),Object(s.listen)(this.dragger_,h.default.POINTERDOWN,this.handleDraggerStart_,this),Object(s.listen)(this.dragger_,h.default.POINTERMOVE,this.handleDraggerDrag_,this),Object(s.listen)(this.dragger_,h.default.POINTERUP,this.handleDraggerEnd_,this),Object(s.listen)(a,u.default.CLICK,this.handleContainerClick_,this),Object(s.listen)(n,u.default.CLICK,l.stopPropagation)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,r=t.offsetHeight,i=t.firstElementChild,n=getComputedStyle(i),o=i.offsetWidth+parseFloat(n.marginRight)+parseFloat(n.marginLeft),a=i.offsetHeight+parseFloat(n.marginTop)+parseFloat(n.marginBottom);this.thumbSize_=[o,a],e>r?(this.direction_=p.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=p.VERTICAL,this.heightLimit_=r-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),r=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(r);e.animate({resolution:e.constrainResolution(i),duration:this.duration_,easing:a.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(i.default.INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(s.listen)(document,u.default.MOUSEMOVE,e,this),Object(s.listen)(document,h.default.POINTERMOVE,e,this),Object(s.listen)(document,u.default.MOUSEUP,r,this),Object(s.listen)(document,h.default.POINTERUP,r,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,r=t.clientX-this.previousX_+parseFloat(e.style.left),i=t.clientY-this.previousY_+parseFloat(e.style.top),n=this.getRelativePosition_(r,i);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(i.default.INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:a.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),r=this.element.firstElementChild;this.direction_==p.HORIZONTAL?r.style.left=this.widthLimit_*e+"px":r.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var r;return r=this.direction_===p.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Object(c.clamp)(r,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(n.default);function g(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}e.default=f},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(10),o=r(50),a=r(51),s=function(t){function e(e){var r=e||{};t.call(this,{element:document.createElement("div"),target:r.target}),this.extent=r.extent?r.extent:null;var o=void 0!==r.className?r.className:"ol-zoom-extent",s=void 0!==r.label?r.label:"E",l=void 0!==r.tipLabel?r.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),Object(i.listen)(u,n.default.CLICK,this.handleClick_,this);var c=o+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,h=this.element;h.className=c,h.appendChild(u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fit(e)},e}(o.default);e.default=s},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(169),o=r(68),a=r(230),s=r(295),l=r(455),u=r(456),c=r(23),h=r(306),d=r(17),p=r(90),f=r(131),g=function(t){function e(e,r){t.call(this,r),this.mapRenderer=e,this.arrayBuffer_=new p.default([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=Object(c.create)(),this.projectionMatrix=Object(c.create)(),this.tmpMat4_=Object(h.create)(),this.defaultLocations_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindFramebuffer=function(t,e){var r=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var i=function(t,e,r){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(r))}.bind(null,r,this.framebuffer,this.texture);t.postRenderFunctions.push(i);var n=Object(f.createEmptyTexture)(r,e,e),o=r.createFramebuffer();r.bindFramebuffer(d.FRAMEBUFFER,o),r.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n,0),this.texture=n,this.framebuffer=o,this.framebufferDimension=e}else r.bindFramebuffer(d.FRAMEBUFFER,this.framebuffer)},e.prototype.composeFrame=function(t,e,r){this.dispatchComposeEvent_(o.default.PRECOMPOSE,r,t),r.bindBuffer(d.ARRAY_BUFFER,this.arrayBuffer_);var i,n=r.getGL(),a=r.getProgram(l.fragment,l.vertex);this.defaultLocations_?i=this.defaultLocations_:(i=new u.default(n,a),this.defaultLocations_=i),r.useProgram(a)&&(n.enableVertexAttribArray(i.a_position),n.vertexAttribPointer(i.a_position,2,d.FLOAT,!1,16,0),n.enableVertexAttribArray(i.a_texCoord),n.vertexAttribPointer(i.a_texCoord,2,d.FLOAT,!1,16,8),n.uniform1i(i.u_texture,0)),n.uniformMatrix4fv(i.u_texCoordMatrix,!1,Object(h.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),n.uniformMatrix4fv(i.u_projectionMatrix,!1,Object(h.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),n.uniform1f(i.u_opacity,e.opacity),n.bindTexture(d.TEXTURE_2D,this.getTexture()),n.drawArrays(d.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(o.default.POSTCOMPOSE,r,t)},e.prototype.dispatchComposeEvent_=function(t,e,r){var i=this.getLayer();if(i.hasListener(t)){var o=r.viewState,s=o.resolution,l=r.pixelRatio,u=r.extent,c=o.center,h=o.rotation,d=r.size,p=new a.default(e,c,s,h,d,u,l),f=new n.default(t,p,r,null,e);i.dispatchEvent(f)}},e.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},e.prototype.getTexture=function(){return this.texture},e.prototype.getProjectionMatrix=function(){return this.projectionMatrix},e.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},e.prototype.prepareFrame=function(t,e,r){return Object(i.abstract)()},e.prototype.forEachLayerAtPixel=function(t,e,r,n){return Object(i.abstract)()},e}(s.default);e.default=g},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(16),o=r(128),a=r(126),s=r(304),l=function(t){function e(e,r,i,n,o,a,s){t.call(this),this.context_=e,this.center_=r,this.extent_=a,this.pixelRatio_=s,this.size_=o,this.rotation_=n,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText_=function(t,e){var r=this.context_,i=t.getReplay(0,o.default.TEXT);i.setTextStyle(this.textStyle_),i.drawText(e,null),i.finish(r);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(r)()},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case n.default.POINT:this.drawPoint(t,null);break;case n.default.LINE_STRING:this.drawLineString(t,null);break;case n.default.POLYGON:this.drawPolygon(t,null);break;case n.default.MULTI_POINT:this.drawMultiPoint(t,null);break;case n.default.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case n.default.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case n.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case n.default.CIRCLE:this.drawCircle(t,null)}},e.prototype.drawFeature=function(t,e){var r=e.getGeometryFunction()(t);r&&Object(i.intersects)(this.extent_,r.getExtent())&&(this.setStyle(e),this.drawGeometry(r))},e.prototype.drawGeometryCollection=function(t,e){var r,i,n=t.getGeometriesArray();for(r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])},e.prototype.drawPoint=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.IMAGE);n.setImageStyle(this.imageStyle_),n.drawPoint(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPoint=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.IMAGE);n.setImageStyle(this.imageStyle_),n.drawMultiPoint(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawLineString=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawLineString(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiLineString=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawMultiLineString(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawPolygon=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawPolygon(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPolygon=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawMultiPolygon(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawCircle=function(t,e){var r=this.context_,i=new s.default(1,this.extent_),n=i.getReplay(0,o.default.CIRCLE);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawCircle(t,e),n.finish(r);n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),n.getDeleteResourcesFunction(r)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.setImageStyle=function(t){this.imageStyle_=t},e.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},e.prototype.setTextStyle=function(t){this.textStyle_=t},e}(a.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(32),o=r(123),a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return o.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(i.abstract)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(i.abstract)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(i.abstract)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(s(t))},e.prototype.readProjectionFromObject=function(t){return Object(i.abstract)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(i.abstract)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(i.abstract)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(i.abstract)()},e}(n.default);function s(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(32),a=r(178),s=r(82),l=r(28),u=r(31),c=r(41),h=r(62),d=r(27),p=r(9),f=r(12),g=r(35),y=a.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",v={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},m=function(t){function e(e){var r=e||{};t.call(this,r),this.surface_=void 0!==r.surface&&r.surface,this.curve_=void 0!==r.curve&&r.curve,this.multiCurve_=void 0===r.multiCurve||r.multiCurve,this.multiSurface_=void 0===r.multiSurface||r.multiSurface,this.schemaLocation=r.schemaLocation?r.schemaLocation:y,this.hasZ=void 0!==r.hasZ&&r.hasZ}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readMultiCurve_=function(t,e){var r=Object(g.pushParseAndPop)([],this.MULTICURVE_PARSERS_,t,e,this);return r?new c.default(r):void 0},e.prototype.readMultiSurface_=function(t,e){var r=Object(g.pushParseAndPop)([],this.MULTISURFACE_PARSERS_,t,e,this);if(r)return new h.default(r)},e.prototype.curveMemberParser_=function(t,e){Object(g.parseNode)(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){Object(g.parseNode)(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return Object(g.pushParseAndPop)([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return Object(g.pushParseAndPop)([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return Object(g.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return Object(g.pushParseAndPop)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var r=Object(g.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.exteriorParser_=function(t,e){var r=Object(g.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.readSurface_=function(t,e){var r=Object(g.pushParseAndPop)([null],this.SURFACE_PARSERS_,t,e,this);if(r&&r[0]){var n,o,a=r[0],s=[a.length];for(n=1,o=r.length;n<o;++n)Object(i.extend)(a,r[n]),s.push(a.length);return new d.default(a,l.default.XYZ,s)}},e.prototype.readCurve_=function(t,e){var r=Object(g.pushParseAndPop)([null],this.CURVE_PARSERS_,t,e,this);return r?new u.default(r,l.default.XYZ):void 0},e.prototype.readEnvelope_=function(t,e){var r=Object(g.pushParseAndPop)([null],this.ENVELOPE_PARSERS_,t,e,this);return Object(n.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos_=function(t,e){for(var r,i=Object(g.getAllTextContent)(t,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];r=n.exec(i);)o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""===i){var a,s,l=e[0].srsName,u="enu";if(l)u=Object(f.get)(l).getAxisOrientation();if("neu"===u)for(a=0,s=o.length;a<s;a+=3){var c=o[a],h=o[a+1];o[a]=h,o[a+1]=c}var d=o.length;if(2==d&&o.push(0),0!==d)return o}},e.prototype.readFlatPosList_=function(t,e){var r=Object(g.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],n=i.srsName,o=i.srsDimension,a="enu";n&&(a=Object(f.get)(n).getAxisOrientation());var l,u,c,h=r.split(/\s+/),d=2;t.getAttribute("srsDimension")?d=Object(s.readNonNegativeIntegerString)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?d=Object(s.readNonNegativeIntegerString)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?d=Object(s.readNonNegativeIntegerString)(t.parentNode.getAttribute("srsDimension")):o&&(d=Object(s.readNonNegativeIntegerString)(o));for(var p=[],y=0,v=h.length;y<v;y+=d)l=parseFloat(h[y]),u=parseFloat(h[y+1]),c=3===d?parseFloat(h[y+2]):0,"en"===a.substr(0,2)?p.push(l,u,c):p.push(u,l,c);return p},e.prototype.writePos_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=n?"3":"2";t.setAttribute("srsDimension",o);var a=i.srsName,l="enu";a&&(l=Object(f.get)(a).getAxisOrientation());var u,c=e.getCoordinates();(u="en"===l.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],n)&&(u+=" "+(c[2]||0));Object(s.writeStringTextNode)(t,u)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=Object(f.get)(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];r&&(n+=" "+(t[2]||0));return n},e.prototype.writePosList_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=n?"3":"2";t.setAttribute("srsDimension",o);for(var a,l=i.srsName,u=e.getCoordinates(),c=u.length,h=new Array(c),d=0;d<c;++d)a=u[d],h[d]=this.getCoords_(a,l,n);Object(s.writeStringTextNode)(t,h.join(" "))},e.prototype.writePoint_=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=Object(g.createElementNS)(t.namespaceURI,"pos");t.appendChild(n),this.writePos_(n,e,r)},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(g.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS_,g.OBJECT_PROPERTY_NODE_FACTORY,n,r,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing_=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=Object(g.createElementNS)(t.namespaceURI,"posList");t.appendChild(n),this.writePosList_(n,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Object(g.createElementNS)(n.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Object(g.pushSerializeAndPop)({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=Object(g.createElementNS)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString_=function(t,e,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var n=Object(g.createElementNS)(t.namespaceURI,"posList");t.appendChild(n),this.writePosList_(n,e,r)}else if("Curve"===t.nodeName){var o=Object(g.createElementNS)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,a=i.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();Object(g.pushSerializeAndPop)({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,r){var i=r[r.length-1],n=i.srsName,o=i.hasZ;n&&t.setAttribute("srsName",n);var a=e.getPoints();Object(g.pushSerializeAndPop)({node:t,hasZ:o,srsName:n},this.POINTMEMBER_SERIALIZERS_,Object(g.makeSimpleNodeFactory)("pointMember"),a,r,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,a=i.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Object(g.pushSerializeAndPop)({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing_=function(t,e,r){var i=Object(g.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing_(i,e,r)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,r))},e.prototype.writePointMember_=function(t,e,r){var i=Object(g.createElementNS)(t.namespaceURI,"Point");t.appendChild(i),this.writePoint_(i,e,r)},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString_(i,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var i=Object(g.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var i=Object(g.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString_(i,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var i,n=r[r.length-1],a=Object(p.assign)({},n);a.node=t,i=Array.isArray(e)?n.dataProjection?Object(f.transformExtent)(e,n.featureProjection,n.dataProjection):e:Object(o.transformWithOptions)(e,!0,n),Object(g.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n.featureNS,a=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var l=e.getProperties(),u=[],c=[];for(var h in l){var d=l[h];null!==d&&(u.push(h),c.push(d),h==a||"function"==typeof d.getSimplifiedGeometry?h in n.serializers[o]||(n.serializers[o][h]=Object(g.makeChildAppender)(this.writeGeometryElement,this)):h in n.serializers[o]||(n.serializers[o][h]=Object(g.makeChildAppender)(s.writeStringTextNode)))}var f=Object(p.assign)({},n);f.node=t,Object(g.pushSerializeAndPop)(f,n.serializers,Object(g.makeSimpleNodeFactory)(void 0,o),c,r,u)},e.prototype.writeFeatureMembers_=function(t,e,r){var i=r[r.length-1],n=i.featureType,o=i.featureNS,a={};a[o]={},a[o][n]=Object(g.makeChildAppender)(this.writeFeatureElement,this);var s=Object(p.assign)({},i);s.node=t,Object(g.pushSerializeAndPop)(s,a,Object(g.makeSimpleNodeFactory)(n,o),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return Object(g.createElementNS)(this.namespace,v[i.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n.multiSurface,a=n.surface,s=n.curve,l=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"LineString"===i&&!0===s?i="Curve":"MultiLineString"===i&&!0===l&&(i="MultiCurve"),Object(g.createElementNS)(this.namespace,i)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=Object(g.createElementNS)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(p.assign)(i,e),this.writeGeometryElement(r,t,[i]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(g.createElementNS)(this.namespace,"featureMembers");r.setAttributeNS(g.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(p.assign)(i,e),this.writeFeatureMembers_(r,t,[i]),r},e}(a.default);m.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Object(g.makeReplacer)(m.prototype.readFlatPos_),posList:Object(g.makeReplacer)(m.prototype.readFlatPosList_)}},m.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:m.prototype.interiorParser_,exterior:m.prototype.exteriorParser_}},m.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(g.makeReplacer)(a.default.prototype.readPoint),MultiPoint:Object(g.makeReplacer)(a.default.prototype.readMultiPoint),LineString:Object(g.makeReplacer)(a.default.prototype.readLineString),MultiLineString:Object(g.makeReplacer)(a.default.prototype.readMultiLineString),LinearRing:Object(g.makeReplacer)(a.default.prototype.readLinearRing),Polygon:Object(g.makeReplacer)(a.default.prototype.readPolygon),MultiPolygon:Object(g.makeReplacer)(a.default.prototype.readMultiPolygon),Surface:Object(g.makeReplacer)(m.prototype.readSurface_),MultiSurface:Object(g.makeReplacer)(m.prototype.readMultiSurface_),Curve:Object(g.makeReplacer)(m.prototype.readCurve_),MultiCurve:Object(g.makeReplacer)(m.prototype.readMultiCurve_),Envelope:Object(g.makeReplacer)(m.prototype.readEnvelope_)}},m.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Object(g.makeArrayPusher)(m.prototype.curveMemberParser_),curveMembers:Object(g.makeArrayPusher)(m.prototype.curveMemberParser_)}},m.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Object(g.makeArrayPusher)(m.prototype.surfaceMemberParser_),surfaceMembers:Object(g.makeArrayPusher)(m.prototype.surfaceMemberParser_)}},m.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Object(g.makeArrayPusher)(a.default.prototype.readLineString),Curve:Object(g.makeArrayPusher)(m.prototype.readCurve_)}},m.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Object(g.makeArrayPusher)(a.default.prototype.readPolygon),Surface:Object(g.makeArrayPusher)(m.prototype.readSurface_)}},m.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Object(g.makeReplacer)(m.prototype.readPatch_)}},m.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Object(g.makeReplacer)(m.prototype.readSegment_)}},m.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Object(g.makeArrayPusher)(m.prototype.readFlatPosList_),upperCorner:Object(g.makeArrayPusher)(m.prototype.readFlatPosList_)}},m.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Object(g.makeReplacer)(m.prototype.readPolygonPatch_)}},m.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Object(g.makeReplacer)(m.prototype.readLineStringSegment_)}},m.prototype.writeFeatures,m.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Object(g.makeChildAppender)(m.prototype.writeRing_),interior:Object(g.makeChildAppender)(m.prototype.writeRing_)}},m.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(g.makeChildAppender)(s.writeStringTextNode),upperCorner:Object(g.makeChildAppender)(s.writeStringTextNode)}},m.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(g.makeChildAppender)(m.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(g.makeChildAppender)(m.prototype.writeSurfaceOrPolygonMember_)}},m.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(g.makeChildAppender)(m.prototype.writePointMember_)}},m.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(g.makeChildAppender)(m.prototype.writeLineStringOrCurveMember_),curveMember:Object(g.makeChildAppender)(m.prototype.writeLineStringOrCurveMember_)}},m.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(g.makeChildAppender)(m.prototype.writeCurveOrLineString_),MultiCurve:Object(g.makeChildAppender)(m.prototype.writeMultiCurveOrLineString_),Point:Object(g.makeChildAppender)(m.prototype.writePoint_),MultiPoint:Object(g.makeChildAppender)(m.prototype.writeMultiPoint_),LineString:Object(g.makeChildAppender)(m.prototype.writeCurveOrLineString_),MultiLineString:Object(g.makeChildAppender)(m.prototype.writeMultiCurveOrLineString_),LinearRing:Object(g.makeChildAppender)(m.prototype.writeLinearRing_),Polygon:Object(g.makeChildAppender)(m.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(g.makeChildAppender)(m.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(g.makeChildAppender)(m.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(g.makeChildAppender)(m.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(g.makeChildAppender)(m.prototype.writeEnvelope)}},e.default=m},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(32),o=r(178),a=r(82),s=r(9),l=r(12),u=r(35),c=o.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",h={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},d=function(t){function e(e){var r=e||{};t.call(this,r),this.FEATURE_COLLECTION_PARSERS[o.GMLNS].featureMember=Object(u.makeArrayPusher)(this.readFeaturesInternal),this.schemaLocation=r.schemaLocation?r.schemaLocation:c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFlatCoordinates_=function(t,e){var r=Object(u.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),i=e[0].srsName,n="enu";if(i){var o=Object(l.get)(i);o&&(n=o.getAxisOrientation())}for(var a=r.trim().split(/\s+/),s=[],c=0,h=a.length;c<h;c++){var d=a[c].split(/,+/),p=parseFloat(d[0]),f=parseFloat(d[1]),g=3===d.length?parseFloat(d[2]):0;"en"===n.substr(0,2)?s.push(p,f,g):s.push(f,p,g)}return s},e.prototype.readBox_=function(t,e){var r=Object(u.pushParseAndPop)([null],this.BOX_PARSERS_,t,e,this);return Object(i.createOrUpdate)(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var r=Object(u.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);r&&e[e.length-1].push(r)},e.prototype.outerBoundaryIsParser_=function(t,e){var r=Object(u.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);r&&(e[e.length-1][0]=r)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n.multiSurface,a=n.surface,s=n.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.getType())&&!0===o?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),Object(u.createElementNS)("http://www.opengis.net/gml",i)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n.featureNS,l=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var c=e.getProperties(),h=[],d=[];for(var p in c){var f=c[p];null!==f&&(h.push(p),d.push(f),p==l||"function"==typeof f.getSimplifiedGeometry?p in n.serializers[o]||(n.serializers[o][p]=Object(u.makeChildAppender)(this.writeGeometryElement,this)):p in n.serializers[o]||(n.serializers[o][p]=Object(u.makeChildAppender)(a.writeStringTextNode)))}var g=Object(s.assign)({},n);g.node=t,Object(u.pushSerializeAndPop)(g,n.serializers,Object(u.makeSimpleNodeFactory)(void 0,o),d,r,h)},e.prototype.writeCurveOrLineString_=function(t,e,r){var i=r[r.length-1].srsName;if("LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var n=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(n),this.writeCoordinates_(n,e,r)}else if("Curve"===t.nodeName){var o=Object(u.createElementNS)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,r)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString_(i,e,r))},e.prototype.writeMultiCurveOrLineString_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,a=i.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Object(u.pushSerializeAndPop)({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var i,o=r[r.length-1],a=Object(s.assign)({},o);a.node=t,i=Array.isArray(e)?o.dataProjection?Object(l.transformExtent)(e,o.featureProjection,o.dataProjection):e:Object(n.transformWithOptions)(e,!0,o),Object(u.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=Object(u.createElementNS)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var i=r[r.length-1],n=i.hasZ,o=i.srsName,s=e.getCoordinates(),l=s.length,u=new Array(l),c=0;c<l;++c){var h=s[c];u[c]=this.getCoords_(h,o,n)}Object(a.writeStringTextNode)(t,u.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var i=Object(u.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString_(i,e,r)},e.prototype.writeSurfaceOrPolygon_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Object(u.pushSerializeAndPop)({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=Object(u.createElementNS)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Object(u.createElementNS)(n.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var i=Object(u.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,r)},e.prototype.writeRing_=function(t,e,r){var i=Object(u.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing_(i,e,r)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=Object(l.get)(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];r&&(n+=","+(t[2]||0));return n},e.prototype.writePoint_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s);var l=e.getCoordinates(),u=this.getCoords_(l,o,n);Object(a.writeStringTextNode)(s,u)},e.prototype.writeMultiPoint_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var a=e.getPoints();Object(u.pushSerializeAndPop)({node:t,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS_,Object(u.makeSimpleNodeFactory)("pointMember"),a,r,void 0,this)},e.prototype.writePointMember_=function(t,e,r){var i=Object(u.createElementNS)(t.namespaceURI,"Point");t.appendChild(i),this.writePoint_(i,e,r)},e.prototype.writeLinearRing_=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(n),this.writeCoordinates_(n,e,r)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,r){var i=r[r.length-1],n=i.hasZ,o=i.srsName,a=i.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();Object(u.pushSerializeAndPop)({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,r))},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1].srsName;i&&t.setAttribute("srsName",i);var n=[e[0]+" "+e[1],e[2]+" "+e[3]];Object(u.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS_,u.OBJECT_PROPERTY_NODE_FACTORY,n,r,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return Object(u.createElementNS)("http://www.opengis.net/gml",h[i.nodeName])},e}(o.default);d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Object(u.makeReplacer)(d.prototype.readFlatCoordinates_)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser_,outerBoundaryIs:d.prototype.outerBoundaryIsParser_}},d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Object(u.makeArrayPusher)(d.prototype.readFlatCoordinates_)}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Object(u.makeReplacer)(o.default.prototype.readPoint),MultiPoint:Object(u.makeReplacer)(o.default.prototype.readMultiPoint),LineString:Object(u.makeReplacer)(o.default.prototype.readLineString),MultiLineString:Object(u.makeReplacer)(o.default.prototype.readMultiLineString),LinearRing:Object(u.makeReplacer)(o.default.prototype.readLinearRing),Polygon:Object(u.makeReplacer)(o.default.prototype.readPolygon),MultiPolygon:Object(u.makeReplacer)(o.default.prototype.readMultiPolygon),Box:Object(u.makeReplacer)(d.prototype.readBox_)}},d.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Object(u.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiCurve:Object(u.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),Point:Object(u.makeChildAppender)(d.prototype.writePoint_),MultiPoint:Object(u.makeChildAppender)(d.prototype.writeMultiPoint_),LineString:Object(u.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiLineString:Object(u.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),LinearRing:Object(u.makeChildAppender)(d.prototype.writeLinearRing_),Polygon:Object(u.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiPolygon:Object(u.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Surface:Object(u.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiSurface:Object(u.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Envelope:Object(u.makeChildAppender)(d.prototype.writeEnvelope)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Object(u.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_),curveMember:Object(u.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_)}},d.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Object(u.makeChildAppender)(d.prototype.writeRing_),innerBoundaryIs:Object(u.makeChildAppender)(d.prototype.writeRing_)}},d.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Object(u.makeChildAppender)(d.prototype.writePointMember_)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Object(u.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_),polygonMember:Object(u.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_)}},d.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Object(u.makeChildAppender)(a.writeStringTextNode),upperCorner:Object(u.makeChildAppender)(a.writeStringTextNode)}},e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(32),o=r(123),a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return o.default.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(s(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(i.abstract)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(s(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(i.abstract)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(s(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(i.abstract)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(s(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(i.abstract)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(i.abstract)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(i.abstract)()},e}(n.default);function s(t){return"string"==typeof t?t:""}e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(59),o=r(15),a=r(54),s=r(8),l=r(10),u=r(314),c=r(465),h=r(315),d=function(t){function e(e){var r=e||{},s=void 0!==r.opacity?r.opacity:1,l=void 0!==r.rotation?r.rotation:0,d=void 0!==r.scale?r.scale:1,p=void 0!==r.rotateWithView&&r.rotateWithView;t.call(this,{opacity:s,rotation:l,scale:d,rotateWithView:p}),this.anchor_=void 0!==r.anchor?r.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:h.default.TOP_LEFT,this.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:u.default.FRACTION,this.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:u.default.FRACTION,this.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var f=void 0!==r.img?r.img:null,g=void 0!==r.imgSize?r.imgSize:null,y=r.src;Object(o.assert)(!(void 0!==y&&f),4),Object(o.assert)(!f||f&&g,5),void 0!==y&&0!==y.length||!f||(y=f.src||Object(i.getUid)(f)),Object(o.assert)(void 0!==y&&y.length>0,6);var v=void 0!==r.src?n.default.IDLE:n.default.LOADED;this.color_=void 0!==r.color?Object(a.asArray)(r.color):null,this.iconImage_=Object(c.get)(f,y,g,this.crossOrigin_,v,this.color_),this.offset_=void 0!==r.offset?r.offset:[0,0],this.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:h.default.TOP_LEFT,this.origin_=null,this.size_=void 0!==r.size?r.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==u.default.FRACTION||this.anchorYUnits_==u.default.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==u.default.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==u.default.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=h.default.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h.default.TOP_RIGHT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=h.default.BOTTOM_LEFT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=h.default.TOP_LEFT){var e=this.getSize(),r=this.iconImage_.getSize();if(!e||!r)return null;t=t.slice(),this.offsetOrigin_!=h.default.TOP_RIGHT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=r[0]-e[0]-t[0]),this.offsetOrigin_!=h.default.BOTTOM_LEFT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=r[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Object(s.listen)(this.iconImage_,l.default.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Object(s.unlisten)(this.iconImage_,l.default.CHANGE,t,e)},e}(r(210).default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n){t.call(this,e),this.geometryName=r||"the_geom",this.geometry=i,this.srsName=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(133).default);e.default=i},function(t,e,r){"use strict";r.r(e),r.d(e,"readHref",function(){return n});var i="http://www.w3.org/1999/xlink";function n(t){return t.getAttributeNS(i,"href")}},function(t,e,r){"use strict";r.r(e);var i=r(35),n=function(){};n.prototype.read=function(t){if(t){if("string"==typeof t){var e=Object(i.parse)(t);return this.readFromDocument(e)}return Object(i.isDocument)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},n.prototype.readFromDocument=function(t){},n.prototype.readFromNode=function(t){},e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"jsonp",function(){return n});var i=r(7);function n(t,e,r,n){var o=document.createElement("script"),a="olc_"+Object(i.getUid)(e);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(n||"callback")+"="+a;var l=setTimeout(function(){s(),r&&r()},1e4);window[a]=function(t){clearTimeout(l),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(30),o=r(112),a=r(109),s=r(484),l=r(42),u=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):o.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,r=t.target,o=Object(i.getUid)(r),l=r.getState();l==n.default.LOADING?(this.tileLoadingKeys_[o]=!0,e=s.default.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=l==n.default.ERROR?s.default.TILELOADERROR:l==n.default.LOADED||l==n.default.ABORT?s.default.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new a.TileSourceEvent(e,r))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=Object(o.expandUrl)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(o.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,r){var i=Object(l.getKeyZXY)(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(a.default);e.default=u},function(t,e,r){"use strict";r.r(e),r.d(e,"defaultLoadFunction",function(){return p});var i=r(7),n=r(60),o=r(30),a=r(18),s=r(8),l=r(1),u=r(10),c=r(211),h=r(22),d=function(t){function e(r,i,n,a,c,d,p,f,g,y,v,m,_,O,b){if(t.call(this,r,i,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=y,this.tileKeys=[],this.extent=null,this.sourceRevision_=n,this.wrappedTileCoord=d,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],d){var S=this.extent=g.getTileCoordExtent(d),T=g.getResolution(b),E=f.getZForResolution(T),C=b!=r[0],x=0;if(f.forEachTileCoord(S,E,function(t){var e=Object(l.getIntersection)(S,f.getTileCoordExtent(t)),r=f.getExtent();if(r&&(e=Object(l.getIntersection)(e,r,e)),Object(l.getWidth)(e)/T>=.5&&Object(l.getHeight)(e)/T>=.5){++x;var i=t.toString(),n=y[i];if(!n&&!C){var h=p(t,v,m);n=y[i]=new _(t,void 0==h?o.default.EMPTY:o.default.IDLE,void 0==h?"":h,a,c),this.sourceTileListenerKeys_.push(Object(s.listen)(n,u.default.CHANGE,O))}!n||C&&n.getState()!=o.default.LOADED||(n.consumers++,this.tileKeys.push(i))}}.bind(this)),C&&x==this.tileKeys.length&&this.finishLoading_(),b<=r[0]&&this.state!=o.default.LOADED)for(;b>g.getMinZoom();){var j=new e(r,i,n,a,c,d,p,f,g,y,v,m,_,h.VOID,--b);if(j.state==o.default.LOADED){this.interimTile=j;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=o.default.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,r=this.tileKeys.length;e<r;++e){var i=this.tileKeys[e],n=this.getTile(i);n.consumers--,0==n.consumers&&(delete this.sourceTiles_[i],n.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(s.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(s.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=Object(i.getUid)(t);return e in this.context_||(this.context_[e]=Object(a.createCanvasContext2D)()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=Object(i.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==o.default.IDLE&&this.setState(o.default.LOADING),this.state==o.default.LOADING&&this.tileKeys.forEach(function(r){var n=this.getTile(r);if(n.state==o.default.IDLE&&(n.setLoader(this.loader_),n.load()),n.state==o.default.LOADING){var a=Object(s.listen)(n,u.default.CHANGE,function(r){var a=n.getState();if(a==o.default.LOADED||a==o.default.ERROR){var s=Object(i.getUid)(n);a==o.default.ERROR?e[s]=!0:(--t,delete e[s]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,r=t-1;r>=0;--r){var i=this.getTile(this.tileKeys[r]).getState();i!=o.default.LOADED&&--t,i==o.default.EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(s.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(o.default.LOADED)):this.setState(e==this.tileKeys.length?o.default.EMPTY:o.default.ERROR)},e}(n.default);function p(t,e){var r=Object(c.loadFeaturesXhr)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(r)}e.default=d},function(t,e,r){t.exports={default:r(513),__esModule:!0}},function(t,e,r){var i=r(74),n=r(37).document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e,r){var i=r(74);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var i=r(247),n=r(183),o=r(94),a=r(244),s=r(93),l=r(341),u=Object.getOwnPropertyDescriptor;e.f=r(84)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return n(!i.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var i=r(25),n=r(37),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r(138)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){e.f=r(44)},function(t,e,r){var i=r(37),n=r(25),o=r(138),a=r(249),s=r(83).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,r){var i=r(346),n=r(254);t.exports=Object.keys||function(t){return i(t,n)}},function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e,r){var i=r(248)("keys"),n=r(185);t.exports=function(t){return i[t]||(i[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var i=r(73),n=r(524),o=r(254),a=r(253)("IE_PROTO"),s=function(){},l=function(){var t,e=r(243)("iframe"),i=o.length;for(e.style.display="none",r(349).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=i(t),r=new s,s.prototype=null,r[a]=t):r=l(),void 0===e?r:n(r,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnyLine=void 0;var i=r(0),n=r(6),o=function(t,e){var r=void 0!==e?e:{};(0,n.extend)(this,r),this.Arcs=void 0!==t&&null!==t?t:null};e.AnyLine=o,i.Zondy.Object.AnyLine=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPointInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Angle=void 0!==e.Angle&&null!==e.Angle?e.Angle:1,this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.SymHeight=void 0!==e.SymHeight&&null!==e.SymHeight?e.SymHeight:1,this.SymID=void 0!==e.SymID&&null!==e.SymID?e.SymID:1,this.SymWidth=void 0!==e.SymWidth&&null!==e.SymWidth?e.SymWidth:1};e.CPointInfo=o,i.Zondy.Object.CPointInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegionInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.EndColor=void 0!==e.EndColor&&null!==e.EndColor?e.EndColor:1,this.FillColor=void 0!==e.FillColor&&null!==e.FillColor?e.FillColor:1,this.FillMode=void 0!==e.FillMode&&null!==e.FillMode?e.FillMode:0,this.OutPenWidth=void 0!==e.OutPenWidth&&null!==e.OutPenWidth?e.OutPenWidth:1,this.PatAngle=void 0!==e.PatAngle&&null!==e.PatAngle?e.PatAngle:1,this.PatColor=void 0!==e.PatColor&&null!==e.PatColor?e.PatColor:1,this.PatHeight=void 0!==e.PatHeight&&null!==e.PatHeight?e.PatHeight:1,this.PatID=void 0!==e.PatID&&null!==e.PatID?e.PatID:1,this.PatWidth=void 0!==e.PatWidth&&null!==e.PatWidth?e.PatWidth:1};e.CRegionInfo=o,i.Zondy.Object.CRegionInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GPoint=void 0;var i=h(r(3)),n=h(r(2)),o=h(r(11)),a=h(r(4)),s=h(r(5)),l=r(0),u=r(189),c=r(56);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,r,o){(0,n.default)(this,e);var s=o||{},l=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,s));return void 0!==t&&null!==t&&void 0!==r&&null!==r&&(l.Dot=new c.Point2D(t,r)),l}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setDot",value:function(t){this.Dot=void 0!==t&&null!==t?t:null}}]),e}(u.FeatureGraphicBase);e.GPoint=d,l.Zondy.Object.GPoint=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLine=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(0),u=r(189);r(256);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.Line=void 0!==t&&null!==t?t:null,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setLine",value:function(t){this.Line=void 0!==t&&null!==t?t:null}}]),e}(u.FeatureGraphicBase);e.GLine=h,l.Zondy.Object.GLine=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GRegion=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(0),u=r(189);r(256);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.Rings=void 0!==t&&null!==t&&Array.isArray(t)?t:null,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setRings",value:function(t){this.Rings=void 0!==t&&null!==t?t:null}}]),e}(u.FeatureGraphicBase);e.GRegion=h,l.Zondy.Object.GRegion=h},function(t,e,r){var i,n,o,a=r(135),s=r(581),l=r(349),u=r(243),c=r(37),h=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,y=0,v={},m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){m.call(t.data)};d&&p||(d=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},i(y),y},p=function(t){delete v[t]},"process"==r(137)(h)?i=function(t){h.nextTick(a(m,t,1))}:g&&g.now?i=function(t){g.now(a(m,t,1))}:f?(o=(n=new f).port2,n.port1.onmessage=_,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:d,clear:p}},function(t,e,r){"use strict";var i=r(182);t.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i}),this.resolve=i(e),this.reject=i(r)}(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditServiceBase=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(75),u=r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.guid=void 0!==r.guid?r.guid:(0,u.newGuid)(),a.baseUrl="igs/rest/mrfs",a.f=void 0!==r.f?r.f:"json",a}return(0,a.default)(e,t),e}(l.ServiceBase);e.EditServiceBase=h,s.Zondy.Service.EditServiceBase=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameter=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(0),u=r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{};return(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getParameterURL",value:function(){var t="page="+this.pageIndex.toString();return t+="&pageCount="+this.recordNumber.toString(),t+="&f="+this.resultFormat,null!==this.geometry&&(t+="&geometry="+this.geometry.toString(),t+="&geometryType="+this.geometry.getGeometryType()),null!==this.struct&&(t+="&structs="+(0,u.toJSON)(this.struct)),null!==this.where&&(t+="&where="+this.where),null!==this.rule&&(t+="&rule="+(0,u.toJSON)(this.rule)),null!==this.objectIds&&(t+="&objectIds="+this.objectIds),null!==this.orderField&&(t+="&orderField="+this.orderField),null!==this.isAsc&&(t+="&isAsc="+this.isAsc),t+="&cursorType="+this.cursorType}},{key:"getParameterObject",value:function(){var t={};return t.f=this.resultFormat,null!==this.struct&&(t.structs=this.struct.toJSON()),null!==this.objectIds?(t.objectIds=this.objectIds,t):(t.page=this.pageIndex.toString(),t.pageCount=this.recordNumber.toString(),null!==this.geometry&&(t.geometry=this.geometry.toString(),t.geometryType=this.geometry.getGeometryType()),null!==this.where&&(t.where=this.where),null!==this.rule&&(t.rule=this.rule.toJSON()),null!==this.orderField&&(t.orderField=this.orderField),null!==this.isAsc&&(t.isAsc=this.isAsc),t.cursorType=this.cursorType,t)}}]),e}(r(391).QueryParameterBase);e.QueryParameter=h,l.Zondy.Service.QueryParameter=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureStruct=void 0;var i=r(0),n=r(6),o=function(t){var e=t||{};(0,n.extend)(this,e),this.IncludeAttribute=void 0===e.IncludeAttribute||"boolean"!=typeof e.IncludeAttribute||e.IncludeAttribute,this.IncludeGeometry=void 0!==e.IncludeGeometry&&"boolean"==typeof e.IncludeGeometry&&e.IncludeGeometry,this.IncludeWebGraphic=void 0!==e.IncludeWebGraphic&&"boolean"==typeof e.IncludeWebGraphic&&e.IncludeWebGraphic};o.prototype.toJSON=function(){return(0,n.toJSON)(this)},e.QueryFeatureStruct=o,i.Zondy.Service.QueryFeatureStruct=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,a.desInfo=void 0!==r.desInfo?r.desInfo:null,a.idstr=void 0!==r.idstr?r.idstr:"",a.angleType=void 0!==r.angleType?r.angleType:0,a.isDissolve=void 0===r.isDissolve||r.isDissolve,a.isDynPrj=void 0!==r.isDynPrj&&r.isDynPrj,a}return(0,a.default)(e,t),e}(r(76).AnalysisBase);e.ClassBufferBase=u,s.Zondy.Service.ClassBufferBase=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.sfGeometryXML=void 0!==r.sfGeometryXML?r.sfGeometryXML:null,a.attStrctXML=void 0!==r.attStrctXML?r.attStrctXML:null,a.attRowsXML=void 0!==r.attRowsXML?r.attRowsXML:null,a.traceRadius=void 0!==r.traceRadius?r.traceRadius:1e-4,a.resultName=void 0!==r.resultName?r.resultName:null,a.inFormat=void 0!==r.inFormat?r.inFormat:"json",a}return(0,a.default)(e,t),e}(r(76).AnalysisBase);e.FeatureBuffBase=u,s.Zondy.Service.FeatureBuffBase=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo1=void 0!==r.srcInfo1?r.srcInfo1:null,a.desInfo=void 0!==r.desInfo?r.desInfo:null,a.attOptType=void 0!==r.attOptType?r.attOptType:1,a.infoOptType=void 0!==r.infoOptType?r.infoOptType:1,a.overType=void 0!==r.overType?r.overType:3,a.isCleanNode=void 0!==r.isCleanNode&&r.isCleanNode,a.isLabelPnt=void 0!==r.isLabelPnt&&r.isLabelPnt,a.isValidReg=void 0!==r.isValidReg&&r.isValidReg,a.isReCalculate=void 0===r.isReCalculate||r.isReCalculate,a.radius=void 0!==r.radius?r.radius:.001,a}return(0,a.default)(e,t),e}(r(76).AnalysisBase);e.OverlayBase=u,s.Zondy.Service.OverlayBase=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBase=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.clsName=void 0!==r.clsName?r.clsName:null,a.desClsName=void 0!==r.desClsName?r.desClsName:null,a.resultName=void 0!==r.resultName?r.resultName:null,a}return(0,a.default)(e,t),e}(r(76).AnalysisBase);e.ProjectBase=u,s.Zondy.Service.ProjectBase=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalServiceBase=void 0;var i=f(r(24)),n=f(r(3)),o=f(r(2)),a=f(r(11)),s=f(r(4)),l=f(r(5)),u=r(0),c=r(96),h=(r(56),r(20)),d=r(272),p=r(273);function f(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.dots=void 0!==r.dots?r.dots:null,i.projectInfo=void 0!==r.projectInfo?r.projectInfo:null,i.projectInfoBySRSID=void 0!==r.projectInfoBySRSID?r.projectInfoBySRSID:null,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"execute",value:function(t,e,r){t instanceof d.CProjectParam&&(this.projectInfo=t),t instanceof p.CProjectBySRSID&&(this.projectInfoBySrsID=t);var n={};n.Dots=this.dots,n.ProjectInfo=this.projectInfo,n.ProjectInfoBySrsID=this.projectInfoBySrsID;var o=this.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.GeometryAnalysisBase);e.CalServiceBase=g,u.Zondy.Service.CalServiceBase=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectParam=void 0;var i=r(0),n=r(6),o=function(t){var e=t||{};(0,n.extend)(this,e),this.ProjAngleUnit=void 0!==e.ProjAngleUnit?e.ProjAngleUnit:0,this.ProjLat=void 0!==e.ProjLat?e.ProjLat:0,this.ProjLat1=void 0!==e.ProjLat1?e.ProjLat1:0,this.ProjLat2=void 0!==e.ProjLat2?e.ProjLat2:0,this.ProjLon=void 0!==e.ProjLon?e.ProjLon:0,this.ProjRate=void 0!==e.ProjRate?e.ProjRate:0,this.ProjType=void 0!==e.ProjType?e.ProjType:0,this.ProjTypeID=void 0!==e.ProjTypeID?e.ProjTypeID:0,this.ProjUnit=void 0!==e.ProjUnit?e.ProjUnit:0,this.ProjZoneNO=void 0!==e.ProjZoneNO?e.ProjZoneNO:0,this.ProjZoneType=void 0!==e.ProjZoneType?e.ProjZoneType:0,this.SphereID=void 0!==e.SphereID?e.SphereID:0};e.CProjectParam=o,i.Zondy.Service.CProjectParam=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectBySRSID=void 0;var i=r(0),n=(r(367),function(t,e){this.DesSrsID=t,this.GdbInfo=e});e.CProjectBySRSID=n,i.Zondy.Service.CProjectBySRSID=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfoAttribute=void 0;var i=r(0),n=function(t,e){this.name=void 0!==t?t:null,this.Value=void 0!==e?e:null};e.FolderInfoAttribute=n,i.Zondy.Object.Theme.FolderInfoAttribute=n},function(t,e,r){"use strict";r.r(e),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.r(e),e.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,r){"use strict";r.r(e),r.d(e,"clear",function(){return o}),r.d(e,"add",function(){return a}),r.d(e,"remove",function(){return s}),r.d(e,"get",function(){return l});var i=r(9),n={};function o(){n={}}function a(t,e,r){var i=t.getCode(),o=e.getCode();i in n||(n[i]={}),n[i][o]=r}function s(t,e){var r=t.getCode(),o=e.getCode(),a=n[r][o];return delete n[r][o],Object(i.isEmpty)(n[r])&&delete n[r],a}function l(t,e){var r;return t in n&&e in n[t]&&(r=n[t][e]),r}},function(t,e,r){"use strict";function i(t,e,r,i,n,o){for(var a,s=[t[e],t[e+1]],l=[];e+i<r;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],a=n.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}r.r(e),r.d(e,"forEach",function(){return i})},function(t,e,r){"use strict";function i(t,e,r,i){for(var n=t[e],o=t[e+1],a=0,s=e+i;s<r;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-n)*(l-n)+(u-o)*(u-o)),n=l,o=u}return a}function n(t,e,r,n){var o=i(t,e,r,n),a=t[r-n]-t[e],s=t[r-n+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}r.r(e),r.d(e,"lineStringLength",function(){return i}),r.d(e,"linearRingLength",function(){return n})},function(t,e,r){"use strict";r.r(e),e.default={POINT:"point",LINE:"line"}},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(87),o=r(38),a=r(200),s=r(201),l=r(425),u=r(426),c=r(427),h=r(428),d=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],p=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(o.POINTER)this.registerSource("native",new u.default(this));else if(o.MSPOINTER)this.registerSource("ms",new l.default(this));else{var t=new s.default(this);this.registerSource("mouse",t),o.TOUCH&&this.registerSource("touch",new h.default(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var r=e,i=r.getEvents();i&&(i.forEach(function(t){var e=r.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(r))}.bind(this)),this.eventSourceList_.push(r))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var r=this.eventSourceList_[e];this.addEvents_(r.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var r=this.eventSourceList_[e];this.removeEvents_(r.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,r=this.eventMap_[e];r&&r(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(i.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(i.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var r={},i=0,n=d.length;i<n;i++){var o=d[i][0];r[o]=t[o]||e[o]||d[i][1]}return r},e.prototype.down=function(t,e){this.fireEvent(a.default.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(a.default.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(a.default.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(a.default.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(a.default.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(a.default.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(a.default.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(a.default.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,r){return new c.default(t,r,e)},e.prototype.fireEvent=function(t,e,r){var i=this.makeEvent(t,e,r);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Object(s.prepareEvent)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(n.default);e.default=p},function(t,e,r){"use strict";r.r(e),e.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,r){"use strict";r.r(e),e.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(46),o=r(77),a=r(19),s=r(114),l=r(15),u=r(8),c=r(10),h=r(1),d=r(203),p=r(9),f=r(48),g={LAYERS:"layers"},y=function(t){function e(e){var r=e||{},i=Object(p.assign)({},r);delete i.layers;var o=r.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(u.listen)(this,Object(a.getChangeEventType)(g.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new n.default(o.slice(),{unique:!0}):Object(l.assert)("function"==typeof o.getArray,43):o=new n.default(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(u.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(u.listen)(t,o.default.ADD,this.handleLayersAdd_,this),Object(u.listen)(t,o.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(u.unlistenByKey);Object(p.clear)(this.listenerKeys_);for(var r=t.getArray(),n=0,a=r.length;n<a;n++){var l=r[n];this.listenerKeys_[Object(i.getUid)(l)]=[Object(u.listen)(l,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.listen)(l,c.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.getUid)(e)]=[Object(u.listen)(e,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),Object(u.listen)(e,c.default.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,r=Object(i.getUid)(e);this.listenerKeys_[r].forEach(u.unlistenByKey),delete this.listenerKeys_[r],this.changed()},e.prototype.getLayers=function(){return this.get(g.LAYERS)},e.prototype.setLayers=function(t){this.set(g.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],r=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),n=r,o=e.length;n<o;n++){var a=e[n];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==a.extent?a.extent=Object(h.getIntersection)(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return f.default.READY},e}(d.default);e.default=y},function(t,e,r){"use strict";r.r(e),e.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(16),o=r(53),a=r(58),s=function(t){function e(e,r,i){if(t.call(this),void 0!==i&&void 0===r)this.setFlatCoordinates(i,e);else{var n=r||0;this.setCenterAndRadius(e,n,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,r,i){var n=this.flatCoordinates,o=t-n[0],a=e-n[1],s=o*o+a*a;if(s<i){if(0===s)for(var l=0;l<this.stride;++l)r[l]=n[l];else{var u=this.getRadius()/Math.sqrt(s);r[0]=n[0]+u*o,r[1]=n[1]+u*a;for(var c=2;c<this.stride;++c)r[c]=n[c]}return r.length=this.stride,s}return i},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,i=t-r[0],n=e-r[1];return i*i+n*n<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return Object(i.createOrUpdate)(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return n.default.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(i.intersects)(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||Object(i.forEachCorner)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+r;for(var n=1;n<e;++n)i[e+n]=t[n];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,n=Object(a.deflateCoordinate)(i,0,t,this.stride);i[n++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[n++]=i[o];i.length=n,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.default);s.prototype.transform,e.default=s},function(t,e,r){"use strict";r.r(e),r.d(e,"linearRingss",function(){return n});var i=r(1);function n(t,e,r,n){for(var o=[],a=Object(i.createEmpty)(),s=0,l=r.length;s<l;++s){var u=r[s];a=Object(i.createOrUpdateFromFlatCoordinates)(t,e,u[0],n),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=u[u.length-1]}return o}},function(t,e,r){"use strict";r.r(e),e.default={IMAGE:"image",VECTOR:"vector"}},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e){var r=e||{};t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,atlasManager:r.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(r(290).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(54),n=r(104),o=r(18),a=r(38),s=r(59),l=r(63),u=function(t){function e(e){var r=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s.default.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,r,i="",s="",u=0,c=null,h=0,d=0;this.stroke_&&(null===(r=this.stroke_.getColor())&&(r=l.defaultStrokeStyle),r=Object(n.asColorLike)(r),void 0===(d=this.stroke_.getWidth())&&(d=l.defaultLineWidth),c=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),a.CANVAS_LINE_DASH||(c=null,h=0),void 0===(s=this.stroke_.getLineJoin())&&(s=l.defaultLineJoin),void 0===(i=this.stroke_.getLineCap())&&(i=l.defaultLineCap),void 0===(u=this.stroke_.getMiterLimit())&&(u=l.defaultMiterLimit));var p=2*(this.radius_+d)+1,f={strokeStyle:r,strokeWidth:d,size:p,lineCap:i,lineDash:c,lineDashOffset:h,lineJoin:s,miterLimit:u};if(void 0===t){var g=Object(o.createCanvasContext2D)(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(f,g,0,0),this.createHitDetectionCanvas_(f)}else{p=Math.round(p);var y,v=!this.fill_;v&&(y=this.drawHitDetectionCanvas_.bind(this,f));var m=this.getChecksum(),_=t.add(m,p,p,this.draw_.bind(this,f),y);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,v?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,r,i){var o,a,s;e.setTransform(1,0,0,1,0,0),e.translate(r,i),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),o=0;o<=u;o++)a=2*o*Math.PI/u-Math.PI/2+this.angle_,s=o%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=l.defaultFillStyle),e.fillStyle=Object(n.asColorLike)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,r,n){e.setTransform(1,0,0,1,0,0),e.translate(r,n),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a,s,u,c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(o*=2),a=0;a<=o;a++)u=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(u),t.size/2+s*Math.sin(u))}e.fillStyle=Object(i.asString)(l.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var r="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[r,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(r(210).default);e.default=u},function(t,e,r){"use strict";function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}function n(t,e){return[t]}function o(t){return function(e,r){var i=t.getZForResolution(r),n=t.getTileRangeForExtentAndZ(e,i),o=[],a=[i,0,0];for(a[1]=n.minX;a[1]<=n.maxX;++a[1])for(a[2]=n.minY;a[2]<=n.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}r.r(e),r.d(e,"all",function(){return i}),r.d(e,"bbox",function(){return n}),r.d(e,"tile",function(){return o})},function(t,e,r){"use strict";r.r(e),r.d(e,"sortByZIndex",function(){return f});var i=r(7),n=r(98),o=r(8),a=r(10),s=r(1),l=r(22),u=r(79),c=r(221),h=r(23),d=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(i.abstract)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(h.compose)(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(h.invert)(Object(h.setFromArray)(i,r))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o,a,l){var c,h=e.viewState,d=h.resolution;function p(t,r){var a=e.layerStates[Object(i.getUid)(r)].managed;if(!(Object(i.getUid)(t)in e.skippedFeatureUids)||a)return n.call(o,t,a?r:null)}var f=h.projection,g=t;if(f.canWrapX()){var y=f.getExtent(),v=Object(s.getWidth)(y),m=t[0];if(m<y[0]||m>y[2])g=[m+v*Math.ceil((y[0]-m)/v),t[1]]}var _,O=e.layerStatesArray;for(_=O.length-1;_>=0;--_){var b=O[_],S=b.layer;if(Object(u.visibleAtResolution)(b,d)&&a.call(l,S)){var T=this.getLayerRenderer(S),E=S.getSource();if(E&&(c=T.forEachFeatureAtCoordinate(E.getWrapX()?g:t,e,r,p)),c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,r,n,o,a,s){return Object(i.abstract)()},e.prototype.hasFeatureAtCoordinate=function(t,e,r,i,n){return void 0!==this.forEachFeatureAtCoordinate(t,e,r,l.TRUE,this,i,n)},e.prototype.getLayerRenderer=function(t){var e=Object(i.getUid)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var r,n=0,s=this.layerRendererConstructors_.length;n<s;++n){var l=this.layerRendererConstructors_[n];if(l.handles(t)){r=l.create(this,t);break}}if(!r)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=r,this.layerRendererListeners_[e]=Object(o.listen)(r,a.default.CHANGE,this.handleLayerRendererChange_,this),r},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(o.unlistenByKey)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var r in this.layerRenderers_)e&&r in e.layerStates||this.removeLayerRendererByKey_(r).dispose()},e.prototype.renderFrame=function(t){Object(i.abstract)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(p)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(n.default);function p(t,e){c.shared.expire()}function f(t,e){return t.zIndex-e.zIndex}e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(39),o=r(18),a=r(1),s=r(294),l=r(23),u=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(l.create)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,r){this.preCompose(r,t);var i=this.getImage();if(i){var n=e.extent,o=void 0!==n&&!Object(a.containsExtent)(n,t.extent)&&Object(a.intersects)(n,t.extent);o&&this.clip(r,t,n);var s=this.getImageTransform(),l=r.globalAlpha;r.globalAlpha=e.opacity;var u=s[4],c=s[5],h=i.width*s[0],d=i.height*s[3];h>=.5&&d>=.5&&r.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(c),Math.round(h),Math.round(d)),r.globalAlpha=l,o&&r.restore()}this.postCompose(r,t,e)},e.prototype.getImage=function(){return Object(i.abstract)()},e.prototype.getImageTransform=function(){return Object(i.abstract)()},e.prototype.forEachLayerAtCoordinate=function(t,e,r,i,a){if(this.getImage()){var s=Object(l.apply)(this.coordinateToCanvasPixelTransform,t.slice());Object(n.scale)(s,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(o.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),s[0],s[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?i.call(a,this.getLayer(),u):void 0}},e}(s.default);e.default=u},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(1),o=r(22),a=r(169),s=r(68),l=r(63),u=r(170),c=r(295),h=r(23),d=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(h.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,r){var i=e.pixelRatio,o=e.size[0]*i,a=e.size[1]*i,s=e.viewState.rotation,u=Object(n.getTopLeft)(r),c=Object(n.getTopRight)(r),d=Object(n.getBottomRight)(r),p=Object(n.getBottomLeft)(r);Object(h.apply)(e.coordinateToPixelTransform,u),Object(h.apply)(e.coordinateToPixelTransform,c),Object(h.apply)(e.coordinateToPixelTransform,d),Object(h.apply)(e.coordinateToPixelTransform,p),t.save(),Object(l.rotateAtOffset)(t,-s,o/2,a/2),t.beginPath(),t.moveTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(d[0]*i,d[1]*i),t.lineTo(p[0]*i,p[1]*i),t.clip(),Object(l.rotateAtOffset)(t,s,o/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,r,i){var n=this.getLayer();if(n.hasListener(t)){var o=r.size[0]*r.pixelRatio,s=r.size[1]*r.pixelRatio,c=r.viewState.rotation;Object(l.rotateAtOffset)(e,-c,o/2,s/2);var h=void 0!==i?i:this.getTransform(r,0),d=new u.default(e,r.pixelRatio,r.extent,h,r.viewState.rotation),p=new a.default(t,d,r,e,null);n.dispatchEvent(p),Object(l.rotateAtOffset)(e,c,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,r,i,n){return this.forEachFeatureAtCoordinate(t,e,r,o.TRUE)?i.call(n,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,r,i){this.dispatchComposeEvent_(s.default.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,r){this.dispatchComposeEvent_(s.default.PRECOMPOSE,t,e,r)},e.prototype.dispatchRenderEvent=function(t,e,r){this.dispatchComposeEvent_(s.default.RENDER,t,e,r)},e.prototype.getTransform=function(t,e){var r=t.viewState,i=t.pixelRatio,n=i*t.size[0]/2,o=i*t.size[1]/2,a=i/r.resolution,s=-a,l=-r.rotation,u=-r.center[0]+e,c=-r.center[1];return Object(h.compose)(this.transform_,n,o,a,s,l,u,c)},e.prototype.composeFrame=function(t,e,r){Object(i.abstract)()},e.prototype.prepareFrame=function(t,e){return Object(i.abstract)()},e}(c.default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(59),o=r(97),a=r(30),s=r(8),l=r(10),u=r(48),c=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,r){return function(i,n){return t.forEachLoadedTile(e,i,n,function(t){r[i]||(r[i]={}),r[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===n.default.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=n.default.LOADED&&e!=n.default.ERROR&&Object(s.listen)(t,l.default.CHANGE,this.handleImageChange_,this),e==n.default.IDLE&&(t.load(),e=t.getState()),e==n.default.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==u.default.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var r=function(t,e,r){var n=Object(i.getUid)(t);n in r.usedTiles&&t.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(r)}},e.prototype.updateUsedTiles=function(t,e,r,n){var o=Object(i.getUid)(e),a=r.toString();o in t?a in t[o]?t[o][a].extend(n):t[o][a]=n:(t[o]={},t[o][a]=n)},e.prototype.manageTilePyramid=function(t,e,r,n,o,s,l,u,c,h){var d=Object(i.getUid)(e);d in t.wantedTiles||(t.wantedTiles[d]={});var p,f,g,y,v,m,_=t.wantedTiles[d],O=t.tileQueue;for(m=r.getMinZoom();m<=l;++m)for(f=r.getTileRangeForExtentAndZ(s,m,f),g=r.getResolution(m),y=f.minX;y<=f.maxX;++y)for(v=f.minY;v<=f.maxY;++v)l-m<=u?((p=e.getTile(m,y,v,n,o)).getState()==a.default.IDLE&&(_[p.getKey()]=!0,O.isKeyQueued(p.getKey())||O.enqueue([p,d,r.getTileCoordCenter(p.tileCoord),g])),void 0!==c&&c.call(h,p)):e.useTile(m,y,v,o)},e}(o.default);e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(52),o=r(33),a=r(18),s=r(8),l=r(10),u=r(213),c=r.n(u),h=r(1),d=r(68),p=r(63),f=r(297),g=r(294),y=r(222),v=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?c()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(h.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(a.createCanvasContext2D)(),Object(s.listen)(p.labelCache,l.default.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.unlisten)(p.labelCache,l.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,r){var i=e.extent,n=e.pixelRatio,a=r.managed?e.skippedFeatureUids:{},s=e.viewState,l=s.projection,u=s.rotation,c=l.getExtent(),f=this.getLayer().getSource(),g=this.getTransform(e,0),y=r.extent,v=void 0!==y;v&&this.clip(t,e,y);var m=this.replayGroup_;if(m&&!m.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var _,O=this.getLayer(),b=0,S=0,T=1!==r.opacity,E=O.hasListener(d.default.RENDER);if(T||E){var C=t.canvas.width,x=t.canvas.height;if(u){var j=Math.round(Math.sqrt(C*C+x*x));b=(j-C)/2,S=(j-x)/2,C=x=j}this.context.canvas.width=C,this.context.canvas.height=x,_=this.context}else _=t;var P=_.globalAlpha;T||(_.globalAlpha=r.opacity),_!=t&&_.translate(b,S);var I=e.viewHints,R=!(I[o.default.ANIMATING]||I[o.default.INTERACTING]),L=e.size[0]*n,w=e.size[1]*n;if(Object(p.rotateAtOffset)(_,-u,L/2,w/2),m.replay(_,g,u,a,R),f.getWrapX()&&l.canWrapX()&&!Object(h.containsExtent)(c,i)){for(var A,M=i[0],F=Object(h.getWidth)(c),N=0;M<c[0];)A=F*--N,g=this.getTransform(e,A),m.replay(_,g,u,a,R),M+=F;for(N=0,M=i[2];M>c[2];)A=F*++N,g=this.getTransform(e,A),m.replay(_,g,u,a,R),M-=F}if(Object(p.rotateAtOffset)(_,u,L/2,w/2),E&&this.dispatchRenderEvent(_,e,g),_!=t){if(T){var D=t.globalAlpha;t.globalAlpha=r.opacity,t.drawImage(_.canvas,-b,-S),t.globalAlpha=D}else t.drawImage(_.canvas,-b,-S);_.translate(-b,-S)}T||(_.globalAlpha=P)}v&&t.restore()},e.prototype.composeFrame=function(t,e,r){var i=this.getTransform(t,0);this.preCompose(r,t,i),this.compose(r,t,e),this.postCompose(r,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,r,{},function(t){var e=Object(i.getUid)(t);if(!(e in u))return u[e]=!0,n.call(o,t,l)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var r=this.getLayer(),i=r.getSource(),n=t.viewHints[o.default.ANIMATING],a=t.viewHints[o.default.INTERACTING],s=r.getUpdateWhileAnimating(),l=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&n||!l&&a)return!0;var u=t.extent,c=t.viewState,d=c.projection,p=c.resolution,g=t.pixelRatio,v=r.getRevision(),m=r.getRenderBuffer(),_=r.getRenderOrder();void 0===_&&(_=y.defaultOrder);var O=Object(h.buffer)(u,m*p),b=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!Object(h.containsExtent)(b,t.extent)){var S=Object(h.getWidth)(b),T=Math.max(Object(h.getWidth)(O)/2,S);O[0]=b[0]-T,O[2]=b[2]+T}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==v&&this.renderedRenderOrder_==_&&Object(h.containsExtent)(this.renderedExtent_,O))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E=new f.default(Object(y.getTolerance)(p,g),O,p,g,i.getOverlaps(),this.declutterTree_,r.getRenderBuffer());i.loadFeatures(O,p,d);var C=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,p)),e){var n=this.renderFeature(t,p,g,e,E);this.dirty_=this.dirty_||n}}.bind(this);if(_){var x=[];i.forEachFeatureInExtent(O,function(t){x.push(t)}),x.sort(_);for(var j=0,P=x.length;j<P;++j)C(x[j])}else i.forEachFeatureInExtent(O,C);return E.finish(),this.renderedResolution_=p,this.renderedRevision_=v,this.renderedRenderOrder_=_,this.renderedExtent_=O,this.replayGroup_=E,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=0,s=i.length;a<s;++a)o=Object(y.renderFeature)(n,t,i[a],Object(y.getSquaredTolerance)(e,r),this.handleStyleImageChange_,this)||o;else o=Object(y.renderFeature)(n,t,i,Object(y.getSquaredTolerance)(e,r),this.handleStyleImageChange_,this);return o},e}(g.default);v.handles=function(t){return t.getType()===n.default.VECTOR},v.create=function(t,e){return new v(e)},e.default=v},function(t,e,r){"use strict";r.r(e),r.d(e,"getCircleArray",function(){return b}),r.d(e,"replayDeclutter",function(){return S});var i=r(13),n=r(18),o=r(1),a=r(67),s=r(9),l=r(298),u=r(128),c=r(129),h=r(435),d=r(436),p=r(437),f=r(438),g=r(106),y=r(23),v={Circle:p.default,Default:c.default,Image:h.default,LineString:d.default,Polygon:p.default,Text:f.default},m=function(t){function e(e,r,i,o,a,s,l){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=r,this.overlaps_=a,this.pixelRatio_=o,this.resolution_=i,this.renderBuffer_=l,this.replaysByZIndex_={},this.hitDetectionContext_=Object(n.createCanvasContext2D)(1,1),this.hitDetectionTransform_=Object(y.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(o.createEmpty)()).push(1)),e},e.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var r=this.replaysByZIndex_[e],i=0,n=t.length;i<n;++i)if(t[i]in r)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var r in e)e[r].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,a,s,l){var c,h=2*(n=Math.round(n))+1,d=Object(y.compose)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-r,-t[0],-t[1]),p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):p.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(c=Object(o.createEmpty)(),Object(o.extendCoordinate)(c,t),Object(o.buffer)(c,e*(this.renderBuffer_+n),c));var f,v,m=b(n);function _(t){for(var e=p.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var i=0;i<h;i++)if(m[r][i]&&e[4*(i*h+r)+3]>0){var n=void 0;return(!f||v!=u.default.IMAGE&&v!=u.default.TEXT||-1!==f.indexOf(t))&&(n=s(t)),n||void p.clearRect(0,0,h,h)}}this.declutterTree_&&(f=this.declutterTree_.all().map(function(t){return t.value}));var O,S,T,E,C,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(i.numberSafeCompareFunction),O=x.length-1;O>=0;--O){var j=x[O].toString();for(T=this.replaysByZIndex_[j],S=g.ORDER.length-1;S>=0;--S)if(void 0!==(E=T[v=g.ORDER[S]]))if(!l||v!=u.default.IMAGE&&v!=u.default.TEXT){if(C=E.replayHitDetection(p,d,r,a,_,c))return C}else{var P=l[j];P?P.push(E,d.slice(0)):l[j]=[E,d.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,r=e[0],i=e[1],n=e[2],o=e[3],s=[r,i,r,o,n,o,n,i];return Object(a.transform2D)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var r=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var n=i[e];void 0===n&&(n=new(0,v[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=n);return n},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(s.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,r,n,o,a,s){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(i.numberSafeCompareFunction),t.save(),this.clip(t,e);var c,h,d,p,f,y,v=a||g.ORDER;for(c=0,h=l.length;c<h;++c){var m=l[c].toString();for(f=this.replaysByZIndex_[m],d=0,p=v.length;d<p;++d){var _=v[d];if(y=f[_],void 0!==y)if(!s||_!=u.default.IMAGE&&_!=u.default.TEXT)y.replay(t,e,r,n,o);else{var O=s[m];O?O.push(y,e.slice(0)):s[m]=[y,e.slice(0)]}}}t.restore()},e}(l.default),_={0:[[!0]]};function O(t,e,r){var i,n=Math.floor(t.length/2);if(e>=n)for(i=n;i<e;i++)t[i][r]=!0;else if(e<n)for(i=e+1;i<n;i++)t[i][r]=!0}function b(t){if(void 0!==_[t])return _[t];for(var e=2*t+1,r=new Array(e),i=0;i<e;i++)r[i]=new Array(e);for(var n=t,o=0,a=0;n>=o;)O(r,t+n,t+o),O(r,t+o,t+n),O(r,t-o,t+n),O(r,t-n,t+o),O(r,t-n,t-o),O(r,t-o,t-n),O(r,t+o,t-n),O(r,t+n,t-o),2*((a+=1+2*++o)-n)+1>0&&(a+=1-2*(n-=1));return _[t]=r,r}function S(t,e,r,n){for(var o=Object.keys(t).map(Number).sort(i.numberSafeCompareFunction),a={},s=0,l=o.length;s<l;++s)for(var u=t[o[s].toString()],c=0,h=u.length;c<h;){var d=u[c++],p=u[c++];d.replay(e,p,r,a,n)}}e.default=m},function(t,e,r){"use strict";r.r(e);var i=r(7),n=function(){};n.prototype.getReplay=function(t,e){return Object(i.abstract)()},n.prototype.isEmpty=function(){return Object(i.abstract)()},n.prototype.addDeclutter=function(t){return Object(i.abstract)()},e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(52),o=r(30),a=r(33),s=r(18),l=r(8),u=r(10),c=r(213),h=r.n(c),d=r(1),p=r(300),f=r(12),g=r(47),y=r(128),v=r(63),m=r(297),_=r(106),O=r(171),b=r(222),S=r(23),T={image:[y.default.POLYGON,y.default.CIRCLE,y.default.LINE_STRING,y.default.IMAGE,y.default.TEXT],hybrid:[y.default.POLYGON,y.default.LINE_STRING]},E={image:[y.default.DEFAULT],hybrid:[y.default.IMAGE,y.default.TEXT,y.default.DEFAULT],vector:_.ORDER},C=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?h()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(S.create)();var r=e.getRenderMode();this.zDirection=r===p.default.VECTOR?1:0,r!==p.default.VECTOR&&(this.context=Object(s.createCanvasContext2D)()),Object(l.listen)(v.labelCache,u.default.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(l.unlisten)(v.labelCache,u.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,r,i,n,a){var s=t.prototype.getTile.call(this,e,r,i,n,a);return s.getState()===o.default.LOADED&&(this.createReplayGroup_(s,n,a),this.context&&this.renderTileImage_(s,n,a)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,r){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,r)},e.prototype.createReplayGroup_=function(t,e,r){var i=this,n=this.getLayer(),a=n.getRevision(),s=n.getRenderOrder()||null,l=t.getReplayState(n);if(l.dirty||l.renderedRevision!=a||l.renderedRenderOrder!=s){for(var u=n.getSource(),c=u.getTileGrid(),h=u.getTileGridForProjection(r).getResolution(t.tileCoord[0]),p=t.extent,y=function(a,y){var v=t.getTile(t.tileKeys[a]);if(v.getState()==o.default.LOADED){var _=v.tileCoord,O=c.getTileCoordExtent(_),S=Object(d.getIntersection)(p,O),T=Object(d.equals)(O,S)?null:Object(d.buffer)(S,n.getRenderBuffer()*h,i.tmpExtent),E=v.getProjection(),C=!1;Object(f.equivalent)(r,E)||(C=!0,v.setProjection(r)),l.dirty=!1;var x=new m.default(0,S,h,e,u.getOverlaps(),i.declutterTree_,n.getRenderBuffer()),j=Object(b.getSquaredTolerance)(h,e),P=function(t){var e,r=t.getStyleFunction()||n.getStyleFunction();if(r&&(e=r(t,h)),e){var i=this.renderFeature(t,j,e,x);this.dirty_=this.dirty_||i,l.dirty=l.dirty||i}},I=v.getFeatures();s&&s!==l.renderedRenderOrder&&I.sort(s);for(var R=0,L=I.length;R<L;++R){var w=I[R];C&&(E.getUnits()==g.default.TILE_PIXELS&&(E.setWorldExtent(O),E.setExtent(v.getExtent())),w.getGeometry().transform(E,r)),T&&!Object(d.intersects)(T,w.getGeometry().getExtent())||P.call(i,w)}x.finish(),v.setReplayGroup(n,t.tileCoord.toString(),x)}},v=0,_=t.tileKeys.length;v<_;++v)y(v);l.renderedRevision=a,l.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,a){var s=e.viewState.resolution,l=e.viewState.rotation;r=void 0==r?0:r;var u,c,h,p,f=this.getLayer(),g={},y=this.renderedTiles;for(h=0,p=y.length;h<p;++h){var v=y[h];if(u=Object(d.buffer)(v.extent,r*s,u),Object(d.containsCoordinate)(u,t))for(var m=0,_=v.tileKeys.length;m<_;++m){var O=v.getTile(v.tileKeys[m]);if(O.getState()==o.default.LOADED){var b=O.getReplayGroup(f,v.tileCoord.toString());c=c||b.forEachFeatureAtCoordinate(t,s,l,r,{},function(t){var e=Object(i.getUid)(t);if(!(e in g))return g[e]=!0,n.call(a,t,f)},null)}}}return c},e.prototype.getReplayTransform_=function(t,e){var r=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,n=r.getResolution(i[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=r.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=Object(d.getTopLeft)(l),h=e.size,p=Math.round(a*h[0]/2),f=Math.round(a*h[1]/2);return Object(S.compose)(this.tmpTransform_,p,f,n/s,n/s,o.rotation,(c[0]-u[0])/n,(u[1]-c[1])/n)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,r,i){var n=this.getLayer(),s=n.getRenderMode();if(s!=p.default.IMAGE){var l,u,c=n.getDeclutter()?{}:null,h=n.getSource(),d=E[s],f=r.pixelRatio,g=r.viewState.rotation,y=r.size;g&&(l=Math.round(f*y[0]/2),u=Math.round(f*y[1]/2),Object(v.rotateAtOffset)(e,-g,l,u)),c&&this.declutterTree_.clear();for(var _=r.viewHints,O=!(_[a.default.ANIMATING]||_[a.default.INTERACTING]),b=this.renderedTiles,S=h.getTileGridForProjection(r.viewState.projection),T=[],C=[],x=b.length-1;x>=0;--x){var j=b[x];if(j.getState()!=o.default.ABORT)for(var P=j.tileCoord,I=S.getTileCoordExtent(P,this.tmpExtent)[0]-j.extent[0],R=void 0,L=0,w=j.tileKeys.length;L<w;++L){var A=j.getTile(j.tileKeys[L]);if(A.getState()==o.default.LOADED){var M=A.getReplayGroup(n,P.toString());if(M&&M.hasReplays(d)){R||(R=this.getTransform(r,I));var F=A.tileCoord[0],N=M.getClipCoords(R);e.save(),e.globalAlpha=i.opacity;for(var D=0,k=T.length;D<k;++D){var G=T[D];F<C[D]&&(e.beginPath(),e.moveTo(N[0],N[1]),e.lineTo(N[2],N[3]),e.lineTo(N[4],N[5]),e.lineTo(N[6],N[7]),e.moveTo(G[6],G[7]),e.lineTo(G[4],G[5]),e.lineTo(G[2],G[3]),e.lineTo(G[0],G[1]),e.clip())}M.replay(e,R,g,{},O,d,c),e.restore(),T.push(N),C.push(F)}}}}c&&Object(m.replayDeclutter)(c,e,g,O),g&&Object(v.rotateAtOffset)(e,g,l,u)}t.prototype.postCompose.call(this,e,r,i)},e.prototype.renderFeature=function(t,e,r,i){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)n=Object(b.renderFeature)(i,t,r[o],e,this.handleStyleImageChange_,this)||n;else n=Object(b.renderFeature)(i,t,r,e,this.handleStyleImageChange_,this);return n},e.prototype.renderTileImage_=function(t,e,r){var i=this.getLayer(),n=t.getReplayState(i),a=i.getRevision(),s=T[i.getRenderMode()];if(s&&n.renderedTileRevision!==a){n.renderedTileRevision=a;var l=t.wrappedTileCoord,u=l[0],c=i.getSource(),h=c.getTileGridForProjection(r),d=h.getResolution(u),p=t.getContext(i),f=c.getTilePixelSize(u,e,r);p.canvas.width=f[0],p.canvas.height=f[1];for(var g=h.getTileCoordExtent(l,this.tmpExtent),y=0,v=t.tileKeys.length;y<v;++y){var m=t.getTile(t.tileKeys[y]);if(m.getState()==o.default.LOADED){var _=e/d,O=Object(S.reset)(this.tmpTransform_);Object(S.scale)(O,_,-_),Object(S.translate)(O,-g[0],-g[3]),m.getReplayGroup(i,t.tileCoord.toString()).replay(p,O,0,{},!0,s)}}}},e}(O.default);C.handles=function(t){return t.getType()===n.default.VECTOR_TILE},C.create=function(t,e){return new C(e)},e.default=C},function(t,e,r){"use strict";r.r(e),e.default={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e,r){"use strict";r.r(e),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.r(e);var i=r(155);r.d(e,"Attribution",function(){return i.default});var n=r(50);r.d(e,"Control",function(){return n.default});var o=r(224);r.d(e,"FullScreen",function(){return o.default});var a=r(225);r.d(e,"MousePosition",function(){return a.default});var s=r(174);r.d(e,"OverviewMap",function(){return s.default});var l=r(156);r.d(e,"Rotate",function(){return l.default});var u=r(226);r.d(e,"ScaleLine",function(){return u.default});var c=r(157);r.d(e,"Zoom",function(){return c.default});var h=r(227);r.d(e,"ZoomSlider",function(){return h.default});var d=r(228);r.d(e,"ZoomToExtent",function(){return d.default});var p=r(204);r.d(e,"defaults",function(){return p.defaults})},function(t,e,r){"use strict";r.r(e);var i=r(105),n=r(52),o=r(33),a=r(18),s=r(1),l=r(229),u=r(23),c=r(17),h=r(131),d=function(t){function e(e,r){t.call(this,e,r),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTexture_=function(t){var e=t.getImage(),r=this.mapRenderer.getGL();return Object(h.createTexture)(r,e,c.CLAMP_TO_EDGE,c.CLAMP_TO_EDGE)},e.prototype.prepareFrame=function(t,e,r){var n=this.mapRenderer.getGL(),a=t.pixelRatio,l=t.viewState,c=l.center,h=l.resolution,d=l.rotation,p=this.image_,f=this.texture,g=this.getLayer().getSource(),y=t.viewHints,v=t.extent;if(void 0!==e.extent&&(v=Object(s.getIntersection)(v,e.extent)),!y[o.default.ANIMATING]&&!y[o.default.INTERACTING]&&!Object(s.isEmpty)(v)){var m=l.projection;if(!i.ENABLE_RASTER_REPROJECTION){var _=g.getProjection();_&&(m=_)}var O=g.getImage(v,h,a,m);if(O)if(this.loadImage(O)&&(p=O,f=this.createTexture_(O),this.texture)){var b=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.texture);t.postRenderFunctions.push(b)}}if(p){var S=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(S.width,S.height,a,c,h,d,p.getExtent()),this.hitTransformationMatrix_=null;var T=this.texCoordMatrix;Object(u.reset)(T),Object(u.scale)(T,1,-1),Object(u.translate)(T,0,-1),this.image_=p,this.texture=f}return!!p},e.prototype.updateProjectionMatrix_=function(t,e,r,i,n,o,a){var s=t*n,l=e*n,c=this.projectionMatrix;Object(u.reset)(c),Object(u.scale)(c,2*r/s,2*r/l),Object(u.rotate)(c,-o),Object(u.translate)(c,a[0]-i[0],a[1]-i[1]),Object(u.scale)(c,(a[2]-a[0])/2,(a[3]-a[1])/2),Object(u.translate)(c,1,1)},e.prototype.forEachLayerAtPixel=function(t,e,r,i){if(this.image_&&this.image_.getImage()){var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,n));var o=Object(u.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=Object(a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?r.call(i,this.getLayer(),s):void 0}}},e.prototype.getHitTransformationMatrix_=function(t,e){var r=Object(u.create)();Object(u.translate)(r,-1,-1),Object(u.scale)(r,2/t[0],2/t[1]),Object(u.translate)(r,0,t[1]),Object(u.scale)(r,1,-1);var i=Object(u.invert)(this.projectionMatrix.slice()),n=Object(u.create)();return Object(u.translate)(n,0,e[1]),Object(u.scale)(n,1,-1),Object(u.scale)(n,e[0]/2,e[1]/2),Object(u.translate)(n,1,1),Object(u.multiply)(n,i),Object(u.multiply)(n,r),n},e}(l.default);d.handles=function(t){return t.getType()===n.default.IMAGE},d.create=function(t,e){return new d(t,e)},e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(9),a=r(106),s=r(298),l=r(440),u=r(443),c=r(309),h=r(449),d=r(453),p=[1,1],f={Circle:l.default,Image:u.default,LineString:c.default,Polygon:h.default,Text:d.default},g=function(t){function e(e,r,i){t.call(this),this.maxExtent_=r,this.tolerance_=e,this.renderBuffer_=i,this.replaysByZIndex_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){return[]},e.prototype.getDeleteResourcesFunction=function(t){var e,r=[];for(e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var n in i)r.push(i[n].getDeleteResourcesFunction(t))}return function(){for(var t,e=arguments,i=r.length,n=0;n<i;n++)t=r[n].apply(this,e);return t}},e.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var r=this.replaysByZIndex_[e];for(var i in r)r[i].finish(t)}},e.prototype.getReplay=function(t,e){var r=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var n=i[e];void 0===n&&(n=new(0,f[e])(this.tolerance_,this.maxExtent_),i[e]=n);return n},e.prototype.isEmpty=function(){return Object(o.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,r,n,o,s,l,u){var c,h,d,p,f,g,y=Object.keys(this.replaysByZIndex_).map(Number);for(y.sort(i.numberSafeCompareFunction),c=0,h=y.length;c<h;++c)for(f=this.replaysByZIndex_[y[c].toString()],d=0,p=a.ORDER.length;d<p;++d)g=f[a.ORDER[d]],void 0!==g&&g.replay(t,e,r,n,o,s,l,u,void 0,!1)},e.prototype.replayHitDetection_=function(t,e,r,i,n,o,s,l,u,c,h){var d,p,f,g,y,v,m=Object.keys(this.replaysByZIndex_).map(Number);for(m.sort(function(t,e){return e-t}),d=0,p=m.length;d<p;++d)for(g=this.replaysByZIndex_[m[d].toString()],f=a.ORDER.length-1;f>=0;--f)if(void 0!==(y=g[a.ORDER[f]])&&(v=y.replay(t,e,r,i,n,o,s,l,u,c,h)))return v},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,o,a,s,l,u,c){var h,d=e.getGL();return d.bindFramebuffer(d.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(h=Object(n.buffer)(Object(n.createOrUpdateFromCoordinate)(t),i*this.renderBuffer_)),this.replayHitDetection_(e,t,i,o,p,s,l,u,function(t){var e=new Uint8Array(4);if(d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,e),e[3]>0){var r=c(t);if(r)return r}},!0,h)},e.prototype.hasFeatureAtCoordinate=function(t,e,r,i,n,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,i,n,p,a,s,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},e}(s.default);e.default=g},function(t,e,r){"use strict";r.r(e);var i=r(7),n=function(t){this.source_=t};n.prototype.isAnimated=function(){return!1},n.prototype.getType=function(){return Object(i.abstract)()},n.prototype.getSource=function(){return this.source_},e.default=n},function(t,e,r){"use strict";function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function n(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}r.r(e),r.d(e,"create",function(){return i}),r.d(e,"fromTransform",function(){return n})},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(1),o=r(9),a=r(444),s=r(445),l=r(175),u=r(17),c=r(131),h=function(t){function e(e,r){t.call(this,e,r),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,r=this.indicesBuffer,i=this.getTextures(!0),n=t.getGL();return function(){var o,a;if(!n.isContextLost())for(o=0,a=i.length;o<a;++o)n.deleteTexture(i[o]);t.deleteBuffer(e),t.deleteBuffer(r)}},e.prototype.drawCoordinates=function(t,e,r,i){var n,o,a,s,l,u,c=this.anchorX,h=this.anchorY,d=this.height,p=this.imageHeight,f=this.imageWidth,g=this.opacity,y=this.originX,v=this.originY,m=this.rotateWithView?1:0,_=-this.rotation,O=this.scale,b=this.width,S=Math.cos(_),T=Math.sin(_),E=this.indices.length,C=this.vertices.length;for(n=e;n<r;n+=i)l=t[n]-this.origin[0],u=t[n+1]-this.origin[1],o=C/8,a=-O*c,s=-O*(d-h),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*S-s*T,this.vertices[C++]=a*T+s*S,this.vertices[C++]=y/f,this.vertices[C++]=(v+d)/p,this.vertices[C++]=g,this.vertices[C++]=m,a=O*(b-c),s=-O*(d-h),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*S-s*T,this.vertices[C++]=a*T+s*S,this.vertices[C++]=(y+b)/f,this.vertices[C++]=(v+d)/p,this.vertices[C++]=g,this.vertices[C++]=m,a=O*(b-c),s=O*h,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*S-s*T,this.vertices[C++]=a*T+s*S,this.vertices[C++]=(y+b)/f,this.vertices[C++]=v/p,this.vertices[C++]=g,this.vertices[C++]=m,a=-O*c,s=O*h,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*S-s*T,this.vertices[C++]=a*T+s*S,this.vertices[C++]=y/f,this.vertices[C++]=v/p,this.vertices[C++]=g,this.vertices[C++]=m,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return C},e.prototype.createTextures=function(t,e,r,n){var o,a,s,l,h=e.length;for(l=0;l<h;++l)a=e[l],(s=Object(i.getUid)(a))in r?o=r[s]:(o=Object(c.createTexture)(n,a,u.CLAMP_TO_EDGE,u.CLAMP_TO_EDGE),r[s]=o),t[l]=o},e.prototype.setUpProgram=function(t,e,r,i){var n,o=e.getProgram(a.fragment,a.vertex);return this.defaultLocations?n=this.defaultLocations:(n=new s.default(t,o),this.defaultLocations=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,u.FLOAT,!1,32,0),t.enableVertexAttribArray(n.a_offsets),t.vertexAttribPointer(n.a_offsets,2,u.FLOAT,!1,32,8),t.enableVertexAttribArray(n.a_texCoord),t.vertexAttribPointer(n.a_texCoord,2,u.FLOAT,!1,32,16),t.enableVertexAttribArray(n.a_opacity),t.vertexAttribPointer(n.a_opacity,1,u.FLOAT,!1,32,24),t.enableVertexAttribArray(n.a_rotateWithView),t.vertexAttribPointer(n.a_rotateWithView,1,u.FLOAT,!1,32,28),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},e.prototype.drawReplay=function(t,e,r,i){var n,a,s,l=i?this.getHitDetectionTextures():this.getTextures(),c=i?this.hitDetectionGroupIndices:this.groupIndices;if(Object(o.isEmpty)(r))for(n=0,a=l.length,s=0;n<a;++n){t.bindTexture(u.TEXTURE_2D,l[n]);var h=c[n];this.drawElements(t,e,s,h),s=h}else this.drawReplaySkipping(t,e,r,l,c)},e.prototype.drawReplaySkipping=function(t,e,r,n,o){var a,s,l=0;for(a=0,s=n.length;a<s;++a){t.bindTexture(u.TEXTURE_2D,n[a]);for(var c=a>0?o[a-1]:0,h=o[a],d=c,p=c;l<this.startIndices.length&&this.startIndices[l]<=h;){var f=this.startIndicesFeature[l];void 0!==r[Object(i.getUid)(f)]?(d!==p&&this.drawElements(t,e,d,p),p=d=l===this.startIndices.length-1?h:this.startIndices[l+1]):p=l===this.startIndices.length-1?h:this.startIndices[l+1],l++}d!==p&&this.drawElements(t,e,d,p)}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,r,o,a){var s,l,c,h,d,p=this.startIndices.length-1,f=this.getHitDetectionTextures();for(s=f.length-1;s>=0;--s)for(t.bindTexture(u.TEXTURE_2D,f[s]),l=s>0?this.hitDetectionGroupIndices[s-1]:0,h=this.hitDetectionGroupIndices[s];p>=0&&this.startIndices[p]>=l;){if(c=this.startIndices[p],d=this.startIndicesFeature[p],void 0===r[Object(i.getUid)(d)]&&d.getGeometry()&&(void 0===a||Object(n.intersects)(a,d.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,c,h);var g=o(d);if(g)return g}h=c,p--}},e.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},e.prototype.getTextures=function(t){return Object(i.abstract)()},e.prototype.getHitDetectionTextures=function(){return Object(i.abstract)()},e}(l.default);e.default=h},function(t,e,r){"use strict";r.r(e),e.default={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(13),o=r(54),a=r(1),s=r(100),l=r(67),u=r(446),c=r(9),h=r(176),d=r(175),p=r(447),f=r(448),g=r(17),y=r(90),v=3,m=5,_=7,O=11,b=13,S=17,T=19,E=23,C=function(t){function e(e,r){t.call(this,e,r),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,r,i){var o,a,l,c,d,p,f,g,y=this.vertices.length,C=this.indices.length,x="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,j="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,P=Object(u.lineStringIsClosed)(t,e,r,i),I=C,R=1;for(o=e,a=r;o<a;o+=i){if(d=y/7,p=f,f=g||[t[o],t[o+1]],o===e){if(g=[t[o+i],t[o+i+1]],r-e==2*i&&Object(n.equals)(f,g))break;if(!P){j&&(y=this.addVertices_([0,0],f,g,R*_*j,y),y=this.addVertices_([0,0],f,g,-R*_*j,y),this.indices[C++]=d+2,this.indices[C++]=d,this.indices[C++]=d+1,this.indices[C++]=d+1,this.indices[C++]=d+3,this.indices[C++]=d+2),y=this.addVertices_([0,0],f,g,R*v*(j||1),y),I=(y=this.addVertices_([0,0],f,g,-R*v*(j||1),y))/7-1;continue}p=[t[r-2*i],t[r-2*i+1]],l=g}else{if(o===r-i){if(P){g=l;break}p=p||[0,0],y=this.addVertices_(p,f,[0,0],R*m*(j||1),y),y=this.addVertices_(p,f,[0,0],-R*m*(j||1),y),this.indices[C++]=d,this.indices[C++]=I-1,this.indices[C++]=I,this.indices[C++]=I,this.indices[C++]=d+1,this.indices[C++]=d,j&&(y=this.addVertices_(p,f,[0,0],R*O*j,y),y=this.addVertices_(p,f,[0,0],-R*O*j,y),this.indices[C++]=d+2,this.indices[C++]=d,this.indices[C++]=d+1,this.indices[C++]=d+1,this.indices[C++]=d+3,this.indices[C++]=d+2);break}g=[t[o+i],t[o+i+1]]}c=Object(h.triangleIsCounterClockwise)(p[0],p[1],f[0],f[1],g[0],g[1])?-1:1,y=this.addVertices_(p,f,g,c*b*(x||1),y),y=this.addVertices_(p,f,g,c*S*(x||1),y),y=this.addVertices_(p,f,g,-c*T*(x||1),y),o>e&&(this.indices[C++]=d,this.indices[C++]=I-1,this.indices[C++]=I,this.indices[C++]=d+2,this.indices[C++]=d,this.indices[C++]=R*c>0?I:I-1),this.indices[C++]=d,this.indices[C++]=d+2,this.indices[C++]=d+1,I=d+2,R=c,x&&(y=this.addVertices_(p,f,g,c*E*x,y),this.indices[C++]=d+1,this.indices[C++]=d+3,this.indices[C++]=d)}P&&(d=d||y/7,c=Object(s.linearRingIsClockwise)([p[0],p[1],f[0],f[1],g[0],g[1]],0,6,2)?1:-1,y=this.addVertices_(p,f,g,c*b*(x||1),y),y=this.addVertices_(p,f,g,-c*T*(x||1),y),this.indices[C++]=d,this.indices[C++]=I-1,this.indices[C++]=I,this.indices[C++]=d+1,this.indices[C++]=d,this.indices[C++]=R*c>0?I:I-1)},e.prototype.addVertices_=function(t,e,r,i,n){return this.vertices[n++]=t[0],this.vertices[n++]=t[1],this.vertices[n++]=e[0],this.vertices[n++]=e[1],this.vertices[n++]=r[0],this.vertices[n++]=r[1],this.vertices[n++]=i,n},e.prototype.isValid_=function(t,e,r,i){var o=r-e;if(o<2*i)return!1;if(o===2*i){var a=[t[e],t[e+1]],s=[t[e+i],t[e+i+1]];return!Object(n.equals)(a,s)}return!0},e.prototype.drawLineString=function(t,e){var r=t.getFlatCoordinates(),i=t.getStride();this.isValid_(r,0,r.length,i)&&(r=Object(l.translate)(r,0,r.length,i,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(r,0,r.length,i))},e.prototype.drawMultiLineString=function(t,e){var r=this.indices.length,i=t.getEnds();i.unshift(0);var n,o,a=t.getFlatCoordinates(),s=t.getStride();if(i.length>1)for(n=1,o=i.length;n<o;++n)if(this.isValid_(a,i[n-1],i[n],s)){var u=Object(l.translate)(a,i[n-1],i[n],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(u,0,u.length,s)}this.indices.length>r&&(this.startIndices.push(r),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(r),this.state_.changed=!1))},e.prototype.drawPolygonCoordinates=function(t,e,r){var i,n;if(Object(u.lineStringIsClosed)(t,0,t.length,r)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,r),e.length)for(i=0,n=e.length;i<n;++i)Object(u.lineStringIsClosed)(e[i],0,e[i].length,r)||(e[i].push(e[i][0]),e[i].push(e[i][1])),this.drawCoordinates_(e[i],0,e[i].length,r)},e.prototype.setPolygonStyle=function(t,e){var r=void 0===e?this.indices.length:e;this.startIndices.push(r),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(r),this.state_.changed=!1)},e.prototype.getCurrentIndex=function(){return this.indices.length},e.prototype.finish=function(t){this.verticesBuffer=new y.default(this.vertices),this.indicesBuffer=new y.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,r=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(r)}},e.prototype.setUpProgram=function(t,e,r,i){var n,o=e.getProgram(p.fragment,p.vertex);return this.defaultLocations_?n=this.defaultLocations_:(n=new f.default(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_lastPos),t.vertexAttribPointer(n.a_lastPos,2,g.FLOAT,!1,28,0),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,g.FLOAT,!1,28,8),t.enableVertexAttribArray(n.a_nextPos),t.vertexAttribPointer(n.a_nextPos,2,g.FLOAT,!1,28,16),t.enableVertexAttribArray(n.a_direction),t.vertexAttribPointer(n.a_direction,1,g.FLOAT,!1,28,24),t.uniform2fv(n.u_size,r),t.uniform1f(n.u_pixelRatio,i),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},e.prototype.drawReplay=function(t,e,r,i){var n,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Object(c.isEmpty)(r))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],s=this.styles_[n],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,r);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},e.prototype.drawReplaySkipping_=function(t,e,r){var n,o,a,s,l,u,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setStrokeStyle_(t,s[0],s[1],s[2]),l=this.styleIndices_[n];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],r[Object(i.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),c--,o=h;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,r,n,o){var s,l,u,c,h,d,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],s=this.styleIndices_.length-1;s>=0;--s)for(c=this.styles_[s],this.setStrokeStyle_(t,c[0],c[1],c[2]),h=this.styleIndices_[s];p>=0&&this.startIndices[p]>=h;){if(l=this.startIndices[p],d=this.startIndicesFeature[p],void 0===r[Object(i.getUid)(d)]&&d.getGeometry()&&(void 0===o||Object(a.intersects)(o,d.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var f=n(d);if(f)return f}p--,u=l}},e.prototype.setStrokeStyle_=function(t,e,r,i){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,r),t.uniform1f(this.defaultLocations_.u_miterLimit,i)},e.prototype.setFillStrokeStyle=function(t,e){var r=e.getLineCap();this.state_.lineCap=void 0!==r?r:h.DEFAULT_LINECAP;var i=e.getLineDash();this.state_.lineDash=i||h.DEFAULT_LINEDASH;var a=e.getLineDashOffset();this.state_.lineDashOffset=a||h.DEFAULT_LINEDASHOFFSET;var s=e.getLineJoin();this.state_.lineJoin=void 0!==s?s:h.DEFAULT_LINEJOIN;var l=e.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:Object(o.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE;var u=e.getWidth();u=void 0!==u?u:h.DEFAULT_LINEWIDTH;var c=e.getMiterLimit();c=void 0!==c?c:h.DEFAULT_MITERLIMIT,this.state_.strokeColor&&Object(n.equals)(this.state_.strokeColor,l)&&this.state_.lineWidth===u&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=u,this.state_.miterLimit=c,this.styles_.push([l,u,c]))},e}(d.default);e.default=C},function(t,e,r){"use strict";r.r(e);var i=r(17),n=r(22),o=r(454),a=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:256,this.maxSize_=void 0!==e.maxSize?e.maxSize:void 0!==i.MAX_TEXTURE_SIZE?i.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new o.default(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new o.default(this.currentHitSize_,this.space_)]};a.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var r=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,r)},a.prototype.getInfo_=function(t,e){for(var r=0,i=t.length;r<i;++r){var n=t[r].get(e);if(n)return n}return null},a.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},a.prototype.add=function(t,e,r,i,o,a){if(e+this.space_>this.maxSize_||r+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,r,i,a);if(!s)return null;var l=void 0!==o?o:n.VOID,u=this.add_(!0,t,e,r,l,a);return this.mergeInfos_(s,u)},a.prototype.add_=function(t,e,r,i,n,a){var s,l,u,c,h=t?this.hitAtlases_:this.atlases_;for(u=0,c=h.length;u<c;++u){if(l=(s=h[u]).add(e,r,i,n,a))return l;if(!l&&u===c-1){var d=void 0;t?(d=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=d):(d=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=d),s=new o.default(d,this.space_),h.push(s),++c}}return null},e.default=a},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(51),o=r(18),a=r(8),s=r(79),l=r(169),u=r(68),c=r(230),h=r(292),d=r(48),p=r(167),f=r(202),g=r(17),y=r(131),v=r(308),m=function(t){function e(e){t.call(this,e);var r=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=n.CLASS_UNSELECTABLE,r.insertBefore(this.canvas_,r.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=Object(o.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=Object(g.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new y.default(this.canvas_,this.gl_),Object(a.listen)(this.canvas_,v.default.LOST,this.handleWebGLContextLost,this),Object(a.listen)(this.canvas_,v.default.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new p.default,this.focus_=null,this.tileTextureQueue_=new f.default(function(t){var e=t[1],r=t[2],i=e[0]-this.focus_[0],n=e[1]-this.focus_[1];return 65536*Math.log(r)+Math.sqrt(i*i+n*n)/r}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var r=this.tileTextureQueue_.dequeue(),i=r[0],n=r[3],o=r[4];this.bindTileTexture(i,n,o,g.LINEAR,g.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindTileTexture=function(t,e,r,i,n){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(g.TEXTURE_2D,s.texture),s.magFilter!=i&&(o.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,i),s.magFilter=i),s.minFilter!=n&&(o.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),s.minFilter=n)}else{var l=o.createTexture(),u=t;if(o.bindTexture(g.TEXTURE_2D,l),r>0){var c=this.clipTileContext_.canvas,h=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(c.width=e[0],c.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):h.clearRect(0,0,e[0],e[1]),h.drawImage(u.getImage(),r,r,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,c)}else o.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,u.getImage());o.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,i),o.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),o.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),o.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:i,minFilter:n})}},e.prototype.dispatchRenderEvent=function(t,e){var r=this.getMap();if(r.hasListener(t)){var i=this.context_,n=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,u=a.resolution,h=a.center,d=a.rotation,p=new c.default(i,h,u,d,o,n,s),f=new l.default(t,p,e,null,i);r.dispatchEvent(f)}},e.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.expireCache_=function(t,e){for(var r,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>1024;){if(r=this.textureCache_.peekLast())i.deleteTexture(r.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},e.prototype.getContext=function(){return this.context_},e.prototype.getGL=function(){return this.gl_},e.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},e.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var r in e){e[r].handleWebGLContextLost()}},e.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},e.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(g.TEXTURE0),t.blendFuncSeparate(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA,g.ONE,g.ONE_MINUS_SRC_ALPHA),t.disable(g.CULL_FACE),t.disable(g.DEPTH_TEST),t.disable(g.SCISSOR_TEST),t.disable(g.STENCIL_TEST)},e.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},e.prototype.renderFrame=function(t){var e=this.getContext(),r=this.getGL();if(r.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(u.default.PRECOMPOSE,t);var n=[],o=t.layerStatesArray;Object(i.stableSort)(o,h.sortByZIndex);var a,l,c=t.viewState.resolution;for(a=0,l=o.length;a<l;++a){var p=o[a];if(Object(s.visibleAtResolution)(p,c)&&p.sourceState==d.default.READY)this.getLayerRenderer(p.layer).prepareFrame(t,p,e)&&n.push(p)}var f=t.size[0]*t.pixelRatio,y=t.size[1]*t.pixelRatio;for(this.canvas_.width==f&&this.canvas_.height==y||(this.canvas_.width=f,this.canvas_.height=y),r.bindFramebuffer(g.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(g.COLOR_BUFFER_BIT),r.enable(g.BLEND),r.viewport(0,0,this.canvas_.width,this.canvas_.height),a=0,l=n.length;a<l;++a){var v=n[a];this.getLayerRenderer(v.layer).composeFrame(t,v,e)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>1024&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(u.default.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,n,o,a){var l;if(this.getGL().isContextLost())return!1;var u,c=e.viewState,h=e.layerStatesArray;for(u=h.length-1;u>=0;--u){var d=h[u],p=d.layer;if(Object(s.visibleAtResolution)(d,c.resolution)&&o.call(a,p))if(l=this.getLayerRenderer(p).forEachFeatureAtCoordinate(t,e,r,i))return l}},e.prototype.hasFeatureAtCoordinate=function(t,e,r,i,n){var o=!1;if(this.getGL().isContextLost())return!1;var a,l=e.viewState,u=e.layerStatesArray;for(a=u.length-1;a>=0;--a){var c=u[a],h=c.layer;if(Object(s.visibleAtResolution)(c,l.resolution)&&i.call(n,h))if(o=this.getLayerRenderer(h).hasFeatureAtCoordinate(t,e))return!0}return o},e.prototype.forEachLayerAtPixel=function(t,e,r,i,n,o,a){if(this.getGL().isContextLost())return!1;var l,u,c=e.viewState,h=e.layerStatesArray;for(u=h.length-1;u>=0;--u){var d=h[u],p=d.layer;if(Object(s.visibleAtResolution)(d,c.resolution)&&o.call(n,p))if(l=this.getLayerRenderer(p).forEachLayerAtPixel(t,e,i,n))return l}},e}(h.default);e.default=m},function(t,e,r){"use strict";r.r(e);var i=r(52),n=r(103),o=r(127),a=r(30),s=r(109),l=r(13),u=r(1),c=r(14),h=r(229),d=r(457),p=r(458),f=r(49),g=r(23),y=r(17),v=r(90),m=function(t){function e(e,r){t.call(this,e,r),this.fragmentShader_=d.fragment,this.vertexShader_=d.vertex,this.locations_=null,this.renderArrayBuffer_=new v.default([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),t.prototype.disposeInternal.call(this)},e.prototype.createLoadedTileFinder=function(t,e,r){var i=this.mapRenderer;return function(n,o){return t.forEachLoadedTile(e,n,o,function(t){var e=i.isTileTextureLoaded(t);return e&&(r[n]||(r[n]={}),r[n][t.tileCoord.toString()]=t),e})}},e.prototype.handleWebGLContextLost=function(){t.prototype.handleWebGLContextLost.call(this),this.locations_=null},e.prototype.prepareFrame=function(t,e,r){var i=this.mapRenderer,h=r.getGL(),d=t.viewState,v=d.projection,m=this.getLayer(),_=m.getSource();if(!(_ instanceof s.default))return!0;var O,b=_.getTileGridForProjection(v),S=b.getZForResolution(d.resolution),T=b.getResolution(S),E=_.getTilePixelSize(S,t.pixelRatio,v),C=E[0]/Object(f.toSize)(b.getTileSize(S),this.tmpSize_)[0],x=T/C,j=_.getTilePixelRatio(C)*_.getGutterForProjection(v),P=d.center,I=t.extent,R=b.getTileRangeForExtentAndZ(I,S);if(this.renderedTileRange_&&this.renderedTileRange_.equals(R)&&this.renderedRevision_==_.getRevision())O=this.renderedFramebufferExtent_;else{var L=R.getSize(),w=Math.max(L[0]*E[0],L[1]*E[1]),A=Object(c.roundUpToPowerOfTwo)(w),M=x*A,F=b.getOrigin(S),N=F[0]+R.minX*E[0]*x,D=F[1]+R.minY*E[1]*x;O=[N,D,N+M,D+M],this.bindFramebuffer(t,A),h.viewport(0,0,A,A),h.clearColor(0,0,0,0),h.clear(y.COLOR_BUFFER_BIT),h.disable(y.BLEND);var k=r.getProgram(this.fragmentShader_,this.vertexShader_);r.useProgram(k),this.locations_||(this.locations_=new p.default(h,k)),r.bindBuffer(y.ARRAY_BUFFER,this.renderArrayBuffer_),h.enableVertexAttribArray(this.locations_.a_position),h.vertexAttribPointer(this.locations_.a_position,2,y.FLOAT,!1,16,0),h.enableVertexAttribArray(this.locations_.a_texCoord),h.vertexAttribPointer(this.locations_.a_texCoord,2,y.FLOAT,!1,16,8),h.uniform1i(this.locations_.u_texture,0);var G={};G[S]={};var U,B,V,Z,z,W,Y=this.createLoadedTileFinder(_,v,G),X=m.getUseInterimTilesOnError(),H=!0,q=Object(u.createEmpty)(),K=new o.default(0,0,0,0);for(Z=R.minX;Z<=R.maxX;++Z)for(z=R.minY;z<=R.maxY;++z)if(B=_.getTile(S,Z,z,C,v),void 0===e.extent||(W=b.getTileCoordExtent(B.tileCoord,q),Object(u.intersects)(W,e.extent))){if((V=B.getState())==a.default.LOADED||V==a.default.EMPTY||V==a.default.ERROR&&!X||(B=B.getInterimTile()),(V=B.getState())==a.default.LOADED){if(i.isTileTextureLoaded(B)){G[S][B.tileCoord.toString()]=B;continue}}else if(V==a.default.EMPTY||V==a.default.ERROR&&!X)continue;H=!1,b.forEachTileCoordParentTileRange(B.tileCoord,Y,null,K,q)||(U=b.getTileCoordChildTileRange(B.tileCoord,K,q))&&Y(S+1,U)}var J=Object.keys(G).map(Number);J.sort(l.numberSafeCompareFunction);for(var Q=new Float32Array(4),$=0,tt=J.length;$<tt;++$){var et=G[J[$]];for(var rt in et)(B=et[rt])instanceof n.default&&(W=b.getTileCoordExtent(B.tileCoord,q),Q[0]=2*(W[2]-W[0])/M,Q[1]=2*(W[3]-W[1])/M,Q[2]=2*(W[0]-O[0])/M-1,Q[3]=2*(W[1]-O[1])/M-1,h.uniform4fv(this.locations_.u_tileOffset,Q),i.bindTileTexture(B,E,j*C,y.LINEAR,y.LINEAR),h.drawArrays(y.TRIANGLE_STRIP,0,4))}H?(this.renderedTileRange_=R,this.renderedFramebufferExtent_=O,this.renderedRevision_=_.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,_,S,R);var it=i.getTileTextureQueue();this.manageTilePyramid(t,_,b,C,v,I,S,m.getPreload(),function(t){t.getState()!=a.default.LOADED||i.isTileTextureLoaded(t)||it.isKeyQueued(t.getKey())||it.enqueue([t,b.getTileCoordCenter(t.tileCoord),b.getResolution(t.tileCoord[0]),E,j*C])},this),this.scheduleExpireCache(t,_);var nt=this.texCoordMatrix;return Object(g.reset)(nt),Object(g.translate)(nt,(Math.round(P[0]/T)*T-O[0])/(O[2]-O[0]),(Math.round(P[1]/T)*T-O[1])/(O[3]-O[1])),0!==d.rotation&&Object(g.rotate)(nt,d.rotation),Object(g.scale)(nt,t.size[0]*d.resolution/(O[2]-O[0]),t.size[1]*d.resolution/(O[3]-O[1])),Object(g.translate)(nt,-.5,-.5),!0},e.prototype.forEachLayerAtPixel=function(t,e,r,i){if(this.framebuffer){var n=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=Object(g.apply)(this.texCoordMatrix,n.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?r.call(i,this.getLayer(),l):void 0}},e}(h.default);m.handles=function(t){return t.getType()===i.default.TILE},m.create=function(t,e){return new m(t,e)},e.default=m},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(52),o=r(33),a=r(1),s=r(304),l=r(222),u=r(229),c=r(23),h=function(t){function e(e,r){t.call(this,e,r),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(a.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,r){this.layerState_=e;var i=t.viewState,n=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();n&&!n.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),n.replay(r,i.center,i.resolution,i.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},e.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var r=this.mapRenderer.getContext();e.getDeleteResourcesFunction(r)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o){if(this.replayGroup_&&this.layerState_){var a=this.mapRenderer.getContext(),s=e.viewState,l=this.getLayer(),u=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=Object(i.getUid)(t);if(!(e in c))return c[e]=!0,n.call(o,t,l)})}},e.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var r=this.mapRenderer.getContext(),i=e.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,r,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,n.opacity,e.skippedFeatureUids)}return!1},e.prototype.forEachLayerAtPixel=function(t,e,r,i){var n=Object(c.apply)(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(n,e)?r.call(i,this.getLayer(),null):void 0},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e,r){var i=this.getLayer(),n=i.getSource(),u=t.viewHints[o.default.ANIMATING],c=t.viewHints[o.default.INTERACTING],h=i.getUpdateWhileAnimating(),d=i.getUpdateWhileInteracting();if(!this.dirty_&&!h&&u||!d&&c)return!0;var p=t.extent,f=t.viewState,g=f.projection,y=f.resolution,v=t.pixelRatio,m=i.getRevision(),_=i.getRenderBuffer(),O=i.getRenderOrder();void 0===O&&(O=l.defaultOrder);var b=Object(a.buffer)(p,_*y);if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==m&&this.renderedRenderOrder_==O&&Object(a.containsExtent)(this.renderedExtent_,b))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(r)),this.dirty_=!1;var S=new s.default(Object(l.getTolerance)(y,v),b,i.getRenderBuffer());n.loadFeatures(b,y,g);var T=function(t){var e,r=t.getStyleFunction()||i.getStyleFunction();if(r&&(e=r(t,y)),e){var n=this.renderFeature(t,y,v,e,S);this.dirty_=this.dirty_||n}}.bind(this);if(O){var E=[];n.forEachFeatureInExtent(b,function(t){E.push(t)}),E.sort(O),E.forEach(T.bind(this))}else n.forEachFeatureInExtent(b,T);return S.finish(r),this.renderedResolution_=y,this.renderedRevision_=m,this.renderedRenderOrder_=O,this.renderedExtent_=b,this.replayGroup_=S,!0},e.prototype.renderFeature=function(t,e,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=i.length-1;a>=0;--a)o=Object(l.renderFeature)(n,t,i[a],Object(l.getSquaredTolerance)(e,r),this.handleStyleImageChange_,this)||o;else o=Object(l.renderFeature)(n,t,i,Object(l.getSquaredTolerance)(e,r),this.handleStyleImageChange_,this)||o;return o},e}(u.default);h.handles=function(t){return t.getType()===n.default.VECTOR},h.create=function(t,e){return new h(t,e)},e.default=h},function(t,e,r){"use strict";r.r(e),e.default={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,r){"use strict";r.r(e),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(1),o=r(16),a=r(287),s=r(195),l=r(197),u=r(12),c=r(67),h=r(23),d=Object(h.create)(),p=function(t,e,r,i,n){this.extent_,this.id_=n,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i};p.prototype.get=function(t){return this.properties_[t]},p.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o.default.POINT?Object(n.createOrUpdateFromCoordinate)(this.flatCoordinates_):Object(n.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},p.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(n.getCenter)(this.getExtent());this.flatInteriorPoints_=Object(s.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},p.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(a.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},p.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(l.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},p.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,r=this.ends_,n=0,o=r.length;n<o;++n){var a=r[n],s=Object(l.interpolatePoint)(t,e,a,2,.5);Object(i.extend)(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},p.prototype.getId=function(){return this.id_},p.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},p.prototype.getGeometry=function(){return this},p.prototype.getSimplifiedGeometry=function(t){return this},p.prototype.getProperties=function(){return this.properties_},p.prototype.getStride=function(){return 2},p.prototype.getStyleFunction=function(){},p.prototype.getType=function(){return this.type_},p.prototype.transform=function(t,e){var r=(t=Object(u.get)(t)).getExtent(),i=t.getWorldExtent(),o=Object(n.getHeight)(i)/Object(n.getHeight)(r);Object(h.compose)(d,i[0],i[3],o,-o,0,0,0),Object(c.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,d,this.flatCoordinates_)},p.prototype.getEnds=p.prototype.getEndss=function(){return this.ends_},p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.default=p},function(t,e,r){"use strict";r.r(e),r.d(e,"and",function(){return O}),r.d(e,"or",function(){return b}),r.d(e,"not",function(){return S}),r.d(e,"bbox",function(){return T}),r.d(e,"contains",function(){return E}),r.d(e,"intersects",function(){return C}),r.d(e,"within",function(){return x}),r.d(e,"equalTo",function(){return j}),r.d(e,"notEqualTo",function(){return P}),r.d(e,"lessThan",function(){return I}),r.d(e,"lessThanOrEqualTo",function(){return R}),r.d(e,"greaterThan",function(){return L}),r.d(e,"greaterThanOrEqualTo",function(){return w}),r.d(e,"isNull",function(){return A}),r.d(e,"between",function(){return M}),r.d(e,"like",function(){return F}),r.d(e,"during",function(){return N});var i=r(474),n=r(319),o=r(320),a=r(321),s=r(322),l=r(323),u=r(324),c=r(325),h=r(326),d=r(327),p=r(328),f=r(329),g=r(330),y=r(331),v=r(332),m=r(333),_=r(334);function O(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(i.default,e))}function b(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(m.default,e))}function S(t){return new y.default(t)}function T(t,e,r){return new n.default(t,e,r)}function E(t,e,r){return new o.default(t,e,r)}function C(t,e,r){return new c.default(t,e,r)}function x(t,e,r){return new _.default(t,e,r)}function j(t,e,r){return new s.default(t,e,r)}function P(t,e,r){return new v.default(t,e,r)}function I(t,e){return new f.default(t,e)}function R(t,e){return new g.default(t,e)}function L(t,e){return new l.default(t,e)}function w(t,e){return new u.default(t,e)}function A(t){return new p.default(t)}function M(t,e,r){return new h.default(t,e,r)}function F(t,e,r,i,n,o){return new d.default(t,e,r,i,n,o)}function N(t,e,r){return new a.default(t,e,r)}},function(t,e,r){"use strict";r.r(e);var i=r(15),n=function(t){function e(e,r){t.call(this,e),this.conditions=r,Object(i.assert)(this.conditions.length>=2,57)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(133).default);e.default=n},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"BBOX"),this.geometryName=e,this.extent=r,this.srsName=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(133).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"Contains",e,r,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(236).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"During",e),this.begin=r,this.end=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(134).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"PropertyIsEqualTo",e,r,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r){t.call(this,"PropertyIsGreaterThan",e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r){t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"Intersects",e,r,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(236).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"PropertyIsBetween",e),this.lowerBoundary=r,this.upperBoundary=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(134).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i,n,o,a){t.call(this,"PropertyIsLike",e),this.pattern=r,this.wildCard=void 0!==i?i:"*",this.singleChar=void 0!==n?n:".",this.escapeChar=void 0!==o?o:"!",this.matchCase=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(134).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e){t.call(this,"PropertyIsNull",e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(134).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r){t.call(this,"PropertyIsLessThan",e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r){t.call(this,"PropertyIsLessThanOrEqualTo",e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e){t.call(this,"Not"),this.condition=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(133).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"PropertyIsNotEqualTo",e,r,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(111).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e){t.call(this,"Or",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(318).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e,r,i){t.call(this,"Within",e,r,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(236).default);e.default=i},function(t,e,r){"use strict";r.r(e),e.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(14),o=r(12),a=function(t,e,r,n,a){this.sourceProj_=t,this.targetProj_=e;var s={},l=Object(o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=l(t)),s[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Object(i.getWidth)(n)==Object(i.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(i.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(i.getWidth)(this.targetProj_.getExtent()):null;var u=Object(i.getTopLeft)(r),c=Object(i.getTopRight)(r),h=Object(i.getBottomRight)(r),d=Object(i.getBottomLeft)(r),p=this.transformInv_(u),f=this.transformInv_(c),g=this.transformInv_(h),y=this.transformInv_(d);if(this.addQuad_(u,c,h,d,p,f,g,y,10),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach(function(t,e,r){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var r=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-r<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}};a.prototype.addTriangle_=function(t,e,r,i,n,o){this.triangles_.push({source:[i,n,o],target:[t,e,r]})},a.prototype.addQuad_=function(t,e,r,o,a,s,l,u,c){var h=Object(i.boundingExtent)([a,s,l,u]),d=this.sourceWorldWidth_?Object(i.getWidth)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=Object(i.boundingExtent)([t,e,r,o]);g=Object(i.getWidth)(y)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(g||!this.maxSourceExtent_||Object(i.intersects)(h,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var v,m=[(t[0]+r[0])/2,(t[1]+r[1])/2],_=this.transformInv_(m);if(f)v=(Object(n.modulo)(a[0],p)+Object(n.modulo)(l[0],p))/2-Object(n.modulo)(_[0],p);else v=(a[0]+l[0])/2-_[0];var O=(a[1]+l[1])/2-_[1];g=v*v+O*O>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var b=[(e[0]+r[0])/2,(e[1]+r[1])/2],S=this.transformInv_(b),T=[(o[0]+t[0])/2,(o[1]+t[1])/2],E=this.transformInv_(T);this.addQuad_(t,e,b,T,a,s,S,E,c-1),this.addQuad_(T,b,r,o,E,S,l,u,c-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],x=this.transformInv_(C),j=[(r[0]+o[0])/2,(r[1]+o[1])/2],P=this.transformInv_(j);this.addQuad_(t,C,j,o,a,x,P,u,c-1),this.addQuad_(C,e,r,j,x,s,l,P,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,r,o,a,l,u),this.addTriangle_(t,e,r,a,s,l)}},a.prototype.calculateSourceExtent=function(){var t=Object(i.createEmpty)();return this.triangles_.forEach(function(e,r,n){var o=e.source;Object(i.extendCoordinate)(t,o[0]),Object(i.extendCoordinate)(t,o[1]),Object(i.extendCoordinate)(t,o[2])}),t},a.prototype.getTriangles=function(){return this.triangles_},e.default=a},function(t,e,r){"use strict";r.r(e),r.d(e,"DEFAULT_WMS_VERSION",function(){return i});var i="1.3.0"},function(t,e,r){"use strict";r.r(e),e.default={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,r){"use strict";r.r(e),r.d(e,"ATTRIBUTION",function(){return i});var i='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',n=function(t){function e(e){var r,n=e||{};r=void 0!==n.attributions?n.attributions:[i];var o=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",a=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:o,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:a,wrapX:n.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(181).default);e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"createFromCapabilitiesMatrixSet",function(){return a});var i=r(13),n=r(12),o=function(t){function e(e){t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(r(64).default);function a(t,e,r){var a=[],s=[],l=[],u=[],c=[],h=void 0!==r?r:[],d=t.SupportedCRS,p=Object(n.get)(d.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(n.get)(d),f=p.getMetersPerUnit(),g="ne"==p.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){if(!(h.length>0)||Object(i.find)(h,function(r){return e.Identifier==r.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===r.TileMatrix})){s.push(e.Identifier);var r=28e-5*e.ScaleDenominator/f,n=e.TileWidth,o=e.TileHeight;g?l.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):l.push(e.TopLeftCorner),a.push(r),u.push(n==o?n:[n,o]),c.push([e.MatrixWidth,-e.MatrixHeight])}}),new o({extent:e,origins:l,resolutions:a,matrixIds:s,tileSizes:u,sizes:c})}e.default=o},function(t,e,r){t.exports=!r(84)&&!r(136)(function(){return 7!=Object.defineProperty(r(243)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){t.exports={default:r(515),__esModule:!0}},function(t,e,r){"use strict";var i=r(37),n=r(93),o=r(84),a=r(66),s=r(344),l=r(345).KEY,u=r(136),c=r(248),h=r(186),d=r(185),p=r(44),f=r(249),g=r(250),y=r(520),v=r(523),m=r(73),_=r(74),O=r(94),b=r(244),S=r(183),T=r(255),E=r(350),C=r(246),x=r(83),j=r(251),P=C.f,I=x.f,R=E.f,L=i.Symbol,w=i.JSON,A=w&&w.stringify,M=p("_hidden"),F=p("toPrimitive"),N={}.propertyIsEnumerable,D=c("symbol-registry"),k=c("symbols"),G=c("op-symbols"),U=Object.prototype,B="function"==typeof L,V=i.QObject,Z=!V||!V.prototype||!V.prototype.findChild,z=o&&u(function(){return 7!=T(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var i=P(U,e);i&&delete U[e],I(t,e,r),i&&t!==U&&I(U,e,i)}:I,W=function(t){var e=k[t]=T(L.prototype);return e._k=t,e},Y=B&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},X=function(t,e,r){return t===U&&X(G,e,r),m(t),e=b(e,!0),m(r),n(k,e)?(r.enumerable?(n(t,M)&&t[M][e]&&(t[M][e]=!1),r=T(r,{enumerable:S(0,!1)})):(n(t,M)||I(t,M,S(1,{})),t[M][e]=!0),z(t,e,r)):I(t,e,r)},H=function(t,e){m(t);for(var r,i=y(e=O(e)),n=0,o=i.length;o>n;)X(t,r=i[n++],e[r]);return t},q=function(t){var e=N.call(this,t=b(t,!0));return!(this===U&&n(k,t)&&!n(G,t))&&(!(e||!n(this,t)||!n(k,t)||n(this,M)&&this[M][t])||e)},K=function(t,e){if(t=O(t),e=b(e,!0),t!==U||!n(k,e)||n(G,e)){var r=P(t,e);return!r||!n(k,e)||n(t,M)&&t[M][e]||(r.enumerable=!0),r}},J=function(t){for(var e,r=R(O(t)),i=[],o=0;r.length>o;)n(k,e=r[o++])||e==M||e==l||i.push(e);return i},Q=function(t){for(var e,r=t===U,i=R(r?G:O(t)),o=[],a=0;i.length>a;)!n(k,e=i[a++])||r&&!n(U,e)||o.push(k[e]);return o};B||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(r){this===U&&e.call(G,r),n(this,M)&&n(this[M],t)&&(this[M][t]=!1),z(this,t,S(1,r))};return o&&Z&&z(U,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),C.f=K,x.f=X,r(351).f=E.f=J,r(247).f=q,r(348).f=Q,o&&!r(138)&&s(U,"propertyIsEnumerable",q,!0),f.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!B,{Symbol:L});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)p($[tt++]);for(var et=j(p.store),rt=0;et.length>rt;)g(et[rt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return n(D,t+="")?D[t]:D[t]=L(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?T(t):H(T(t),e)},defineProperty:X,defineProperties:H,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),w&&a(a.S+a.F*(!B||u(function(){var t=L();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,r,i=[t],n=1;arguments.length>n;)i.push(arguments[n++]);if(r=e=i[1],(_(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Y(e))return e}),i[1]=e,A.apply(w,i)}}),L.prototype[F]||r(92)(L.prototype,F,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,r){t.exports=r(92)},function(t,e,r){var i=r(185)("meta"),n=r(74),o=r(93),a=r(83).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(136)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},function(t,e,r){var i=r(93),n=r(94),o=r(521)(!1),a=r(253)("IE_PROTO");t.exports=function(t,e){var r,s=n(t),l=0,u=[];for(r in s)r!=a&&i(s,r)&&u.push(r);for(;e.length>l;)i(s,r=e[l++])&&(~o(u,r)||u.push(r));return u}},function(t,e,r){var i=r(252),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var i=r(37).document;t.exports=i&&i.documentElement},function(t,e,r){var i=r(94),n=r(351).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return a.slice()}}(t):n(i(t))}},function(t,e,r){var i=r(346),n=r(254).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},function(t,e,r){t.exports={default:r(525),__esModule:!0}},function(t,e,r){"use strict";var i=r(529)(!0);r(354)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){"use strict";var i=r(138),n=r(66),o=r(344),a=r(92),s=r(139),l=r(530),u=r(186),c=r(355),h=r(44)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,r,f,g,y,v){l(r,e,f);var m,_,O,b=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=e+" Iterator",T="values"==g,E=!1,C=t.prototype,x=C[h]||C["@@iterator"]||g&&C[g],j=x||b(g),P=g?T?b("entries"):j:void 0,I="Array"==e&&C.entries||x;if(I&&(O=c(I.call(new t)))!==Object.prototype&&O.next&&(u(O,S,!0),i||"function"==typeof O[h]||a(O,h,p)),T&&x&&"values"!==x.name&&(E=!0,j=function(){return x.call(this)}),i&&!v||!d&&!E&&C[h]||a(C,h,j),s[e]=j,s[S]=p,g)if(m={values:T?j:b("values"),keys:y?j:b("keys"),entries:P},v)for(_ in m)_ in C||o(C,_,m[_]);else n(n.P+n.F*(d||E),e,m);return m}},function(t,e,r){var i=r(93),n=r(356),o=r(253)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var i=r(245);t.exports=function(t){return Object(i(t))}},function(t,e,r){r(531);for(var i=r(37),n=r(92),o=r(139),a=r(44)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],h=c&&c.prototype;h&&!h[a]&&n(h,a,u),o[u]=o.Array}},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CacheTileLayer=e.CacheTileLayerSource=void 0;var i=r(0),n=r(6),o=h(r(43)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=h(r(64)),l=r(7),u=r(9),c=h(r(91));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){var e=t||{};o.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.name=void 0!==e.name?e.name:null,this.maxResolution=void 0!==e.maxResolution?e.maxResolution:null;var r=void 0!==e.projection?e.projection:null,i=[-180,-90,180,90];null!=r&&(i=r.getExtent()),this.extent=void 0!==e.extent?e.extent:i,this.maxZoom=void 0!==e.maxZoom?e.maxZoom:16,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=void 0!==e.resolutions?e.resolutions:this.getResolutions(),this.origin=void 0!==e.origin?e.origin:a.getTopLeft(this.extent),this.guid=void 0!==e.guid?e.guid:(0,n.newGuid)(),this.cache=!0,this.tileGrid=new s.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,l.inherits)(d,o.default),d.prototype.getResolutions=function(){if(null==this.maxResolution){var t=a.getWidth(this.extent),e=a.getHeight(this.extent);this.maxResolution=(t>=e?t:e)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},d.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}this.cache=!0;var n="http://"+this.ip+":"+this.port+"/igs/rest/mrms/docs/"+this.name+"?f="+this.f+"&cache="+this.cache+"&guid="+this.guid+"&level={z}&col={x}&row={y}&w="+this.tileSize+"&h="+this.tileSize,o=t[0],a=t[1],s=-(t[2]+1);if(!(a>=Math.pow(2,o)||s>=Math.pow(2,o)))return n.replace("{x}",a.toString()).replace("{y}",s.toString()).replace("{z}",o.toString())},e.CacheTileLayerSource=d,i.Zondy.Source.CacheTileLayerSource=d;var p=function(t,e,r){var i=r||{};(0,u.assign)(i,{layerName:t}),(0,u.assign)(i,{name:e}),i.source=i.source?i.source:new d(i);var n=(0,u.assign)({},i);n.maxResolution=1/0,c.default.call(this,n),(0,u.assign)(this,i)};(0,l.inherits)(p,c.default),e.CacheTileLayer=p,i.Zondy.Map.CacheTileLayer=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynShowStyle=void 0;var i=r(0),n=r(6),o=(r(361),r(45),r(188),r(257),r(258),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Alpha=void 0!==e.Alpha?e.Alpha:0,this.BugSpare=void 0!==e.BugSpare&&e.BugSpare,this.CustomRender=void 0!==e.CustomRender&&e.CustomRender,this.CustomRenderPath=void 0!==e.CustomRenderPath?e.CustomRenderPath:null,this.DirectionLineClr=void 0!==e.DirectionLineClr?e.DirectionLineClr:0,this.DynNoteFlag=void 0!==e.DynNoteFlag&&e.DynNoteFlag,this.DynNoteInfo=void 0!==e.DynNoteInfo?e.DynNoteInfo:null,this.IsShowArc=void 0!==e.IsShowArc?e.IsShowArc:0,this.ISShowLineDirection=void 0!==e.ISShowLineDirection&&e.ISShowLineDirection,this.LineInfo=void 0!==e.LineInfo?e.LineInfo:null,this.MaxScale=void 0!==e.MaxScale?e.MaxScale:0,this.MinScale=void 0!==e.MinScale?e.MinScale:0,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.SpareLineInfo=void 0!==e.SpareLineInfo?e.SpareLineInfo:null,this.SparePointInfo=void 0!==e.SparePointInfo?e.SparePointInfo:null,this.SpareRegInfo=void 0!==e.SpareRegInfo?e.SpareRegInfo:null,this.SymbleScale=void 0!==e.SymbleScale?e.SymbleScale:0});e.DynShowStyle=o,i.Zondy.Object.DynShowStyle=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDynNoteInfo=void 0;var i=r(0),n=r(6),o=r(45),a=(r(362),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Angle=void 0!==e.Angle?e.Angle:0,this.Backclr=void 0!==e.Backclr?e.Backclr:0,this.Backexp=void 0!==e.Backexp?e.Backexp:0,this.Bold=void 0!==e.Bold?e.Bold:0,this.FieldName=void 0!==e.FieldName?e.FieldName:null,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.FontColor=void 0!==e.FontColor?e.FontColor:0,this.FontSize=void 0!==e.FontSize?e.FontSize:0,this.FontStyle=void 0!==e.FontStyle?e.FontStyle:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:o.FontShape.Positive,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0!==e.IsHzpl&&e.IsHzpl,this.IsOvprnt=void 0!==e.IsOvprnt&&e.IsOvprnt,this.LabelLevel=void 0!==e.LabelLevel?e.LabelLevel:0,this.LableType=void 0!==e.LableType?e.LableType:null,this.Offsetx=void 0!==e.Offsetx?e.Offsetx:0,this.Offsety=void 0!==e.Offsety?e.Offsety:0,this.Space=void 0!==e.Space?e.Space:0,this.StrikeThrough=void 0!==e.StrikeThrough?e.StrikeThrough:0,this.UnderLine=void 0!==e.UnderLine?e.UnderLine:0});e.CDynNoteInfo=a,i.Zondy.Object.CDynNoteInfo=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynNoteLableType=void 0;var i=r(0),n=r(6),o=(r(363),r(364),r(365),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.DynNoteLableType=o,i.Zondy.Object.DynNoteLableType=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LablePntInfo=void 0;var i=r(0),n=r(6),o=(r(45),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Ang=void 0!==e.Ang&&null!==e.Ang?e.Ang:null,this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.Distance=void 0!==e.Distance&&null!==e.Distance?e.Distance:0,this.EightDirLableType=void 0!==e.EightDirLableType&&null!==e.EightDirLableType?e.EightDirLableType:null,this.PntType=void 0!==e.PntType&&null!==e.PntType?e.PntType:0});e.LablePntInfo=o,i.Zondy.Object.LablePntInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelLinInfo=void 0;var i=r(0),n=r(6),o=(r(45),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.DistFromLine=void 0!==e.DistFromLine&&null!==e.DistFromLine?e.DistFromLine:0,this.FromLineConstrain=void 0!==e.FromLineConstrain&&null!==e.FromLineConstrain?e.FromLineConstrain:0,this.Interval=void 0!==e.Interval&&null!==e.Interval?e.Interval:0,this.LinType=void 0!==e.LinType&&null!==e.LinType?e.LinType:0,this.Repeat=void 0!==e.Repeat&&null!==e.Repeat?e.Repeat:0,this.SpreadType=void 0!==e.SpreadType&&null!==e.SpreadType?e.SpreadType:null});e.LabelLinInfo=o,i.Zondy.Object.LabelLinInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelRegInfo=void 0;var i=r(0),n=r(6),o=(r(45),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.LabelMiniRegion=void 0!==e.LabelMiniRegion&&null!==e.LabelMiniRegion?e.LabelMiniRegion:0,this.MayPlaceOutside=void 0!==e.MayPlaceOutside&&null!==e.MayPlaceOutside?e.MayPlaceOutside:0,this.MiniRegionArea=void 0!==e.MiniRegionArea&&null!==e.MiniRegionArea?e.MiniRegionArea:0,this.Offset=void 0!==e.Offset&&null!==e.Offset?e.Offset:0,this.RegType=void 0!==e.RegType&&null!==e.RegType?e.RegType:0});e.LabelRegInfo=o,i.Zondy.Object.LabelRegInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyleExtend=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.Index=void 0!==e.Index?e.Index:0,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag};e.CDisplayStyleExtend=o,i.Zondy.Object.CDisplayStyleExtend=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGDBInfo=void 0;var i=r(0),n=function(t){var e=t||{};this.GDBSvrName=void 0!==e.ServerName?e.ServerName:null,this.GDBName=void 0!==e.GDBName?e.GDBName:null,this.User=void 0!==e.User?e.User:null,this.Password=void 0!==e.Password?e.Password:null};e.CGDBInfo=n,i.Zondy.Object.CGDBInfo=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0;var i=r(0),n=r(6),o=r(369),a=(r(370),r(45),r(371)),s=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.AttValue=void 0!==e.AttValue&&null!==e.AttValue?e.AttValue:null,this.FID=void 0!==e.FID&&null!==e.FID?e.FID:0,this.bound=void 0!==e.bound&&null!==e.bound?e.bound:null,this.fGeom=void 0!==e.fGeom&&null!==e.fGeom?e.fGeom:null,this.ftype=void 0!==e.ftype&&null!==e.ftype?e.ftype:0,this.GraphicInfo=void 0!==e.GraphicInfo&&null!==e.GraphicInfo?e.GraphicInfo:null};s.prototype.getAttValue=function(t){if(null===this.AttValue)return null;var e=this.AttValue.length;return"number"==typeof t?t>=e?null:this.AttValue[t]:void 0},s.prototype.getGraphicInfo=function(){return null===this.GraphicInfo?null:new a.WebGraphicsInfo(this.GraphicInfo)},s.prototype.getAttValueArray=function(){return this.AttValue},s.prototype.getRectBound=function(){var t=this.bound;return null!==t?new o.Rectangle(t):t},s.prototype.getGeometry=function(){return this.fGeom},s.prototype.getFID=function(){return this.FID},s.prototype.setAttValues=function(t){this.AttValue=t},s.prototype.setBound=function(t){var e=null;"string"==typeof t&&(e=new o.Rectangle(t)),t instanceof String&&(e=new o.Rectangle(t)),t instanceof o.Rectangle&&(e=t),t instanceof ol.extent&&(e=new o.Rectangle).setByOL(t),this.bound=e},s.prototype.setFID=function(t){this.FID=t},s.prototype.setFType=function(t){this.ftype=t},s.prototype.destroy=function(){this.AttValue=null,this.FID=null,this.bound=null,this.fGeom=null,this.ftype=null,this.GraphicInfo=null},e.Feature=s,i.Zondy.Object.Feature=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(11)),a=l(r(4)),s=l(r(5));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r,o,s,l){(0,n.default)(this,e);var u=l||{},c=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,u));return c.xmin=t,c.xmax=o,c.ymin=r,c.ymax=s,c}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setByOL",value:function(t){void 0!==t&&null!==t&&(this.xmin=t[0],this.ymin=t[1],this.xmax=t[2],this.ymax=t[3])}},{key:"toString",value:function(){return this.xmin+","+this.ymin+","+this.xmax+","+this.ymax}},{key:"getGeometryType",value:function(){return"rect"}},{key:"convertToBound",value:function(){return[this.xmin,this.ymin,this.xmax,this.ymax]}},{key:"intersectsBounds",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),null===(e=e||{}).inclusive&&(e.inclusive=!0);var r=!1,i=this.xmin===t.xmax||this.xmax===t.xmin||this.ymax===t.ymin||this.ymin===t.ymax;if(e.inclusive||!i){var n=t.ymin>=this.ymin&&t.ymin<=this.ymax||this.ymin>=t.ymin&&this.ymin<=t.ymax,o=t.ymax>=this.ymin&&t.ymax<=this.ymax||this.ymax>t.ymin&&this.ymax<t.ymax,a=t.xmin>=this.xmin&&t.xmin<=this.xmax||this.xmin>=t.xmin&&this.xmin<=t.xmax,s=t.xmax>=this.xmin&&t.xmax<=this.xmax||this.xmax>=t.xmin&&this.xmax<=t.xmax;r=(n||o)&&(a||s)}return r}}]),e}(r(95).Tangram);e.Rectangle=u,Zondy.Object.Rectangle=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGeometry=void 0;var i=r(0),n=r(6),o=(r(259),r(260),r(261),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.PntGeom=void 0!==e.PntGeom&&null!==e.PntGeom?e.PntGeom:null,this.LinGeom=void 0!==e.LinGeom&&null!==e.LinGeom?e.LinGeom:null,this.RegGeom=void 0!==e.RegGeom&&null!==e.RegGeom?e.RegGeom:null});o.prototype.setPntGeom=function(t){this.PntGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setLine=function(t){this.LinGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setRegGeom=function(t){this.RegGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},e.FeatureGeometry=o,i.Zondy.Object.FeatureGeometry=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGraphicsInfo=void 0;var i=r(0),n=r(6),o=(r(45),r(257),r(188),r(258),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.InfoType=void 0!==e.InfoType&&null!==e.InfoType?e.InfoType:0,this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.WebGraphicsInfo=o,i.Zondy.Object.WebGraphicsInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSet=void 0;var i=r(0),n=r(6),o=(r(187),r(368)),a=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.TotalCount=0,this.AttStruct=void 0!==e.AttStruct&&null!==e.AttStruct?e.AttStruct:null,this.SFEleArray=void 0!==e.SFEleArray&&null!==e.SFEleArray?e.SFEleArray:new Array};a.prototype.clear=function(){this.AttStruct=null,this.SFEleArray=new Array},a.prototype.addFeature=function(t){t instanceof Array?this.SFEleArray.concat(t):this.SFEleArray.push(t)},a.prototype.getFeaturesLength=function(){return this.SFEleArray instanceof Array?this.SFEleArray.length:0},a.prototype.getFeatureByIndex=function(t){if(t>=this.getFeaturesLength())return null;var e=this.SFEleArray[t];return e instanceof o.Feature?e:new o.Feature(this.SFEleArray[t])},a.prototype.getAttType=function(t){var e;return null==this.AttStruct?null:null==(e="number"==typeof t?t:this.getAttIndexByAttName(t))?null:this.AttStruct.FldType[e]},a.prototype.getAttIndexByAttName=function(t){if(null==this.AttStruct)return null;if(null==this.AttStruct.FldName)return null;for(var e=this.AttStruct.FldName.length,r=0;r<e;r++)if(this.AttStruct.FldName[r]==t)return r;return null},a.prototype.getAttNameByIndex=function(t){return null==this.AttStruct?null:null==this.AttStruct.FldName?null:this.AttStruct.FldName.length<=t?null:this.AttStruct.FldName[t]},e.FeatureSet=a,i.Zondy.Object.FeatureSet=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(95),u=r(56);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getLinearRing(0).getCoordinates(),r=e.length,i=0;i<r;i++)this.pointArr[i]=new u.Point2D(e[i][0],e[i][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t="",e=0;e<this.pointArr.length;e++)t+=this.pointArr[e].x+","+this.pointArr[e].y+",";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"polygon"}}]),e}(l.Tangram);e.Polygon=h,Zondy.Object.Polygon=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourNoteParam=void 0;var i=r(0),n=function(t){var e=void 0!=t?t:{};this.IsClipLine=void 0==e.IsClipLine||e.IsClipLine,this.isXYScaleOut=void 0!=e.isXYScaleOut&&e.isXYScaleOut,this.NoteDirection=void 0!=e.NoteDirection?e.NoteDirection:1,this.LineWidth=void 0!=e.LineWidth?e.LineWidth:.05,this.MaxAngle=void 0!=e.MaxAngle?e.MaxAngle:90,this.MinDist=void 0!=e.MinDist?e.MinDist:10,this.IsAbs=void 0!=e.IsAbs&&e.IsAbs,this.IsComma=void 0!=e.IsComma&&e.IsComma,this.DigitNum=void 0!=e.DigitNum?e.DigitNum:0,this.FormatNo=void 0!=e.FormatNo?e.FormatNo:0,this.LogFlag=void 0!=e.LogFlag?e.LogFlag:0,this.Prefix=void 0!=e.Prefix?e.Prefix:"",this.Suffix=void 0!=e.Suffix?e.Suffix:"",this.ColorNo=void 0!=e.ColorNo?e.ColorNo:0,this.FixSize=void 0!=e.FixSize?e.FixSize:.01,this.FontNo=void 0!=e.FontNo?e.FontNo:0};e.ContourNoteParam=n,i.Zondy.Object.ContourAnalyse.ContourNoteParam=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourParam=void 0;var i=r(0),n=(r(374),r(376),r(377),function(t){var e=void 0!=t?t:{};this.IsSmoothLine=void 0!=e.IsSmoothLine&&e.IsSmoothLine,this.SmoothGrade=void 0!=e.SmoothGrade?e.SmoothGrade:1,this.IsMakeReg=void 0!=e.IsMakeReg&&e.IsMakeReg,this.IsMakeNote=void 0!=e.IsMakeNote&&e.IsMakeNote,this.IsMakeSLin=void 0!=e.IsMakeSLin&&e.IsMakeSLin,this.MapWay=void 0!=e.MapWay?e.MapWay:1,this.FrameWidth=void 0!=e.FrameWidth?e.FrameWidth:1,this.FrameHeight=void 0!=e.FrameHeight?e.FrameHeight:1,this.IsDrawColorScl=void 0!=e.IsDrawColorScl&&e.IsDrawColorScl,this.IsSaveEdge=void 0!=e.IsSaveEdge&&e.IsSaveEdge,this.NoteParam=void 0!=e.NoteParam?e.NoteParam:null,this.SlopLineParam=void 0!=e.SlopLineParam?e.SlopLineParam:null,this.ZValues=void 0!=e.ZValues?e.ZValues:null});e.ContourParam=n,i.Zondy.Object.ContourAnalyse.ContourParam=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=void 0;var i=r(0),n=function(t){var e=void 0!=t?t:{};this.XScale=void 0!=e.XScale?e.XScale:2,this.YScale=void 0!=e.YScale?e.YScale:10,this.LineType=void 0!=e.LineType?e.LineType:0,this.SubLineType=void 0!=e.SubLineType?e.SubLineType:0};e.SlopLineParam=n,i.Zondy.Object.ContourAnalyse.SlopLineParam=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourZValue=void 0;var i=r(0),n=(r(188),r(378),function(t){var e=void 0!=t?t:{};this.ZValue=void 0!=e.ZValue?e.ZValue:1,this.LineInfo=void 0!=e.LineInfo?e.LineInfo:null,this.RegInfo=void 0!=e.RegInfo?e.RegInfo:null,this.IsOutputNote=void 0!=e.IsOutputNote&&e.IsOutputNote});e.ContourZValue=n,i.Zondy.Object.ContourAnalyse.ContourZValue=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourRegionInfo=void 0;var i=r(0),n=function(t){var e=void 0!=t?t:{};this.PatID=void 0!=e.PatID?e.PatID:0,this.FillMode=void 0!=e.FillMode?e.FillMode:0,this.FillColor=void 0!=e.FillColor?e.FillColor:1,this.PatHeight=void 0!=e.PatHeight?e.PatHeight:1,this.PatWidth=void 0!=e.PatWidth?e.PatWidth:1,this.PatAngle=void 0!=e.PatAngle?e.PatAngle:1,this.PatColor=void 0!=e.PatColor?e.PatColor:1,this.OutPenWidth=void 0!=e.OutPenWidth?e.OutPenWidth:1,this.OverMethod=void 0!=e.OverMethod?e.OverMethod:0};e.ContourRegionInfo=n,i.Zondy.Object.ContourAnalyse.ContourRegionInfo=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeshingParam=void 0;var i=r(0),n=function(t){var e=void 0!=t?t:{};this.SfClsURL=void 0!=e.SfClsURL?e.SfClsURL:null,this.FieldName=void 0!=e.FieldName?e.FieldName:null,this.XCellNum=void 0!=e.XCellNum?e.XCellNum:200,this.Bound=void 0!=e.Bound?e.Bound:null};e.MeshingParam=n,i.Zondy.Object.ContourAnalyse.MeshingParam=n},function(t,e,r){"use strict";e.__esModule=!0;var i=o(r(3)),n=o(r(342));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,r,o){null===e&&(e=Function.prototype);var a=(0,n.default)(e,r);if(void 0===a){var s=(0,i.default)(e);return null===s?void 0:t(s,r,o)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(o):void 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommonServiceBase=void 0;var i=c(r(2)),n=c(r(11)),o=r(0),a=r(6),s=r(382),l=r(383),u=r(384);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,r){(0,i.default)(this,t);var n=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,(0,a.isArray)(e)?(n.urls=e,n.length=e.length,n.totalTimes=n.length,1===n.length?n.url=e[0]:(n.index=parseInt(Math.random()*n.length),n.url=e[n.index])):(n.totalTimes=1,n.url=e),(r=r||{})&&(0,a.extend)(this,r),n.isInTheSameDomain=(0,a.isInTheSameDomain)(n.url),n.events=new s.Events(n,null,n.EVENT_TYPES,!0),n.eventListeners instanceof Object&&n.events.on(n.eventListeners)}return(0,n.default)(t,[{key:"destroy",value:function(){var t=this;(0,a.isArray)(t.urls)&&(t.urls=null,t.index=null,t.length=null,t.totalTimes=null),t.url=null,t.options=null,t._processSuccess=null,t._processFailed=null,t.isInTheSameDomain=null,t.EVENT_TYPES=null,t.events&&(t.events.destroy(),t.events=null),t.eventListeners&&(t.eventListeners=null)}},{key:"request",value:function(t){var e=this;t.url=t.url||e.url,t.isInTheSameDomain=e.isInTheSameDomain,e.calculatePollingTimes(),e._processSuccess=t.success,e._processFailed=t.failure,t.scope=e,t.success=e.getUrlCompleted,t.failure=e.getUrlFailed,e.options=t,e._commit(e.options)}},{key:"getUrlCompleted",value:function(t){this._processSuccess(t)}},{key:"getUrlFailed",value:function(t){this.totalTimes>0?(this.totalTimes--,this.ajaxPolling()):this._processFailed(t)}},{key:"ajaxPolling",value:function(){var t=this,e=t.options.url,r=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;t.index=parseInt(Math.random()*t.length),t.url=t.urls[t.index],e=e.replace(r,r.exec(t.url)[0]),t.options.url=e,t.options.isInTheSameDomain=(0,a.isInTheSameDomain)(e),t._commit(t.options)}},{key:"calculatePollingTimes",value:function(){var t=this;t.times?t.totalTimes>t.POLLING_TIMES?t.times>t.POLLING_TIMES?t.totalTimes=t.POLLING_TIMES:t.totalTimes=t.times:t.times<t.totalTimes&&(t.totalTimes=t.times):t.totalTimes>t.POLLING_TIMES&&(t.totalTimes=t.POLLING_TIMES),t.totalTimes--}},{key:"serviceProcessCompleted",value:function(t){t=(0,a.transformResult)(t),this.events.triggerEvent("processCompleted",{result:t})}},{key:"serviceProcessFailed",value:function(t){var e=(t=(0,a.transformResult)(t)).error||t;this.events.triggerEvent("processFailed",{error:e})}},{key:"_commit",value:function(t){"POST"!==t.method&&"PUT"!==t.method||(t.params&&(t.url=(0,a.urlAppend)(t.url,(0,a.getParameterString)(t.params||{}))),t.params=t.data),u.FetchRequest.commit(t.method,t.url,t.params,{headers:t.headers,withCredentials:t.withCredentials,timeout:t.async?0:null,proxy:t.proxy}).then(function(t){return t.text?t.text():t.json()}).then(function(e){var r=null;("string"!=typeof e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"string"==typeof e&&(r=(new l.JSONFormat).read(e)):(r={},"true"===e.toLowerCase()?r.succeed=!0:r.error=!0),(!r&&isNaN(r)||r.error)&&(r=r&&r.error?{error:r.error}:{error:!0}),r.error)?(t.scope?(0,a.bind)(t.failure,t.scope):t.failure)(r):(isNaN(r)||(r={value:r}),"string"==typeof r&&(r={value:r}),"[object Array]"!==Object.prototype.toString.call(r)?r.succeed=void 0===r.succeed||r.succeed:r={value:r,succeed:!0},(t.scope?(0,a.bind)(t.success,t.scope):t.success)(r))})}}]),t}();e.CommonServiceBase=h,o.Zondy.Service.CommonServiceBase=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Events=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(85)),n=r(6);var o=function(t,e,r,i){if(this.listeners={},this.object=t,this.eventTypes=[],this.extensions={},this.extensionCount={},(0,n.extend)(this,i),null!=r)for(var o=0,a=r.length;o<a;o++)this.addEventType(r[o])};o.prototype.destroy=function(){for(var t in this.extensions)"boolean"!=typeof this.extensions[t]&&this.extensions[t].destroy();this.extensions=null,this.listeners=null,this.object=null,this.eventTypes=null},o.prototype.addEventType=function(t){this.listeners[t]||(this.eventTypes.push(t),this.listeners[t]=[])},o.prototype.on=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.register(e,t.scope,t[e])},o.prototype.register=function(t,e,r,a){if(t in o&&!this.extensions[t]&&(this.extensions[t]=new o[t](this)),null!=r&&-1!==(0,n.indexOf)(this.eventTypes,t)){null==e&&(e=this.object);var s=this.listeners[t];s||(s=[],this.listeners[t]=s,this.extensionCount[t]=0);var l={obj:e,func:r};a?(s.splice(this.extensionCount[t],0,l),"object"===(void 0===a?"undefined":(0,i.default)(a))&&a.extension&&this.extensionCount[t]++):s.push(l)}},o.prototype.registerPriority=function(t,e,r){this.register(t,e,r,!0)},o.prototype.un=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.unregister(e,t.scope,t[e])},o.prototype.unregister=function(t,e,r){null==e&&(e=this.object);var i=this.listeners[t];if(null!=i)for(var n=0,o=i.length;n<o;n++)if(i[n].obj===e&&i[n].func===r){i.splice(n,1);break}},o.prototype.remove=function(t){null!=this.listeners[t]&&(this.listeners[t]=[])},o.prototype.triggerEvent=function(t,e){var r=this.listeners[t];if(r&&0!=r.length){var i;null==e&&(e={}),e.object=this.object,e.type||(e.type=t);for(var n=0,o=(r=r.slice()).length;n<o;n++){var a=r[n];if(void 0!=(i=a.func.apply(a.obj,[e.result]))&&0==i)break}return i}},e.Events=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=void 0;var i=a(r(85)),n=a(r(24)),o=r(6);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){this.data=null,this.keepData=!1,this.indent="    ",this.space=" ",this.newline="\n",this.level=0,this.pretty=!1,this.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof n.default),(0,o.extend)(this,t),this.options=t,this.serialize={object:function(t){if(null==t)return"null";if(t.constructor===Date)return this.serialize.date.apply(this,[t]);if(t.constructor===Array)return this.serialize.array.apply(this,[t]);var e,r,i,n=["{"];this.level+=1;var o=!1;for(e in t)t.hasOwnProperty(e)&&(r=this.write.apply(this,[e,this.pretty]),i=this.write.apply(this,[t[e],this.pretty]),null!=r&&null!=i&&(o&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),i),o=!0));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"}"),n.join("")},array:function(t){var e,r=["["];this.level+=1;for(var i=0,n=t.length;i<n;++i)null!=(e=this.write.apply(this,[t[i],this.pretty]))&&(i>0&&r.push(","),r.push(this.writeNewline(),this.writeIndent(),e));return this.level-=1,r.push(this.writeNewline(),this.writeIndent(),"]"),r.join("")},string:function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(t)?'"'+t.replace(/([\x00-\x1f\\"])/g,function(t,r){var i=e[r];return i||(i=r.charCodeAt(),"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16))})+'"':'"'+t+'"'},number:function(t){return isFinite(t)?String(t):"null"},boolean:function(t){return String(t)},date:function(t){function e(t){return t<10?"0"+t:t}return'"'+t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+"T"+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+'"'}}};s.prototype.read=function(t,e){var r;if(this.nativeJSON)try{r=JSON.parse(t,e)}catch(t){}return this.keepData&&(this.data=r),r},s.prototype.write=function(t,e){this.pretty=!!e;var r=null,o=void 0===t?"undefined":(0,i.default)(t);if(this.serialize[o])try{r=!this.pretty&&this.nativeJSON?(0,n.default)(t):this.serialize[o].apply(this,[t])}catch(t){Console.error("Trouble serializing: "+t)}return r},s.prototype.writeIndent=function(){var t=[];if(this.pretty)for(var e=0;e<this.level;++e)t.push(this.indent);return t.join("")},s.prototype.writeNewline=function(){return this.pretty?this.newline:""},s.prototype.writeSpace=function(){return this.pretty?this.space:""},e.JSONFormat=s,Zondy.Service.JSONFormat=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchRequest=e.RequestTimeout=e.CORS=void 0;var i=a(r(85)),n=a(r(385)),o=a(r(24));r(6);function a(t){return t&&t.__esModule?t:{default:t}}r(589),r(594);var s=window.fetch,l=Zondy.CORS=Zondy.CORS||window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,u=Zondy.RequestTimeout=Zondy.RequestTimeout||45e3,c=Zondy.FetchRequest={commit:function(t,e,r,i){switch(t=t?t.toUpperCase():t){case"GET":return this._get(e,r,i);case"POST":return this._post(e,r,i);case"PUT":return this._put(e,r,i);case"DELETE":return this._delete(e,r,i);default:return this._get(e,r,i)}},_get:function(t,e,r){r=r||{};return t=this._processUrl(t,r),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),this.urlIsLong(t)?this._postSimulatie("GET",t.substring(0,t.indexOf("?")-1),e,r):this._fetch(t,e,r,"GET")},_delete:function(t,e,r){r=r||{};return t=this._processUrl(t,r),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),!this.urlIsLong(t)&&l?this._fetch(t,e,r,"DELETE"):this._postSimulatie("DELETE",t.substring(0,t.indexOf("?")-1),e,r)},_post:function(t,e,r){return r=r||{},this._fetch(this._processUrl(t,r),e,r,"POST")},_put:function(t,e,r){return r=r||{},this._fetch(this._processUrl(t,r),e,r,"PUT")},urlIsLong:function(t){for(var e=0,r=null,i=0,n=t.length;i<n;i++)(r=t.charCodeAt(i))<127?e++:128<=r&&r<=2047?e+=2:2048<=r&&r<=65535&&(e+=3);return!(e<2e3)},_postSimulatie:function(t,e,r,i){return e+=(e.indexOf("?")>-1?"&":"?")+"_method="+t,"string"!=typeof r&&(r=(0,o.default)(r)),this._post(e,r,i)},_processUrl:function(t,e){return this._isMVTRequest(t)?t:(e&&e.proxy&&("function"==typeof e.proxy?t=e.proxy(t):(t=decodeURIComponent(t),t=e.proxy+encodeURIComponent(t))),t)},_fetch:function(t,e,r,i){return(r=r||{}).headers=r.headers||{},r.headers["Content-Type"]||(r.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),r.timeout?this._timeout(r.timeout,s(t,{method:i,headers:r.headers,body:"PUT"===i||"POST"===i?e:void 0,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:u}).then(function(t){return t})):s(t,{method:i,body:"PUT"===i||"POST"===i?e:void 0,headers:r.headers,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:u}).then(function(t){return t})},_timeout:function(t,e){return new n.default(function(r,i){setTimeout(function(){i(new Error("timeout"))},t),e.then(r,i)})},_getParameterString:function(t){var e=[];for(var r in t){var n=t[r];if(null!=n&&"function"!=typeof n){var o;if("object"===(void 0===n?"undefined":(0,i.default)(n))&&n.constructor===Array){for(var a,s=[],l=0,u=n.length;l<u;l++)a=n[l],s.push(encodeURIComponent(null===a||void 0===a?"":a));o="["+s.join(",")+"]"}else o=encodeURIComponent(n);e.push(encodeURIComponent(r)+"="+o)}}return e.join("&")},_isMVTRequest:function(t){return t.indexOf(".mvt")>-1||t.indexOf(".pbf")>-1}};e.CORS=l,e.RequestTimeout=u,e.FetchRequest=c,Zondy.Service.FetchRequest=c,Zondy.Service.CORS=l,Zondy.Service.RequestTimeout=u},function(t,e,r){t.exports={default:r(574),__esModule:!0}},function(t,e,r){var i=r(137),n=r(44)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,r){var i=r(73),n=r(182),o=r(44)("species");t.exports=function(t,e){var r,a=i(t).constructor;return void 0===a||void 0==(r=i(a)[o])?e:n(r)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var i=r(73),n=r(74),o=r(263);t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GDBInfo=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(140),u=r(20);r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.serverName=void 0!==r.serverName?r.serverName:null,o.gdbName=void 0!==r.gdbName?r.gdbName:null,o.dsName=void 0!==r.dsName?r.dsName:null,o.rcsName=void 0!==r.rcsName?r.rcsName:null,o.User=void 0!==r.User?r.User:null,o.Password=void 0!==r.Password?r.Password:null,o.containAll=void 0===r.containAll||r.containAll,o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getServerList",value:function(t,e){this.partUrl="datasource?f=json";var r=this.getFullUrl();new u.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getGDBList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"?f=json":r.partUrl="datasource/"+r.serverName+"?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ds?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ds?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRcsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rcs?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rcs?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectList",value:function(t,e){var r=this;r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"?f=json";var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectInfo",value:function(t,e,r){var i=this;i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+t+"?f=json";var n=i.getFullUrl();new u.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}},{key:"AttachGDB",value:function(t,e,r){var i=this;if(null!==i.serverName&&null!==i.gdbName&&null!==t){i.partUrl="gdb/attach/"+i.gdbName+"?gdbSvrName="+i.serverName+"&path="+t+"&f=json",null!==i.User&&null!==i.Password&&(i.partUrl+="&gdbUserName="+i.User+"&gdbPwd="+i.Password);var n=i.getFullUrl();new u.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}}},{key:"DetachGDB",value:function(t,e){var r=this;if(null!==r.serverName&&null!==r.gdbName){r.partUrl="gdb/detach/"+r.gdbName+"?gdbSvrName="+r.serverName,null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}},{key:"CreateGDB",value:function(t,e,r){var i=this;if(null!==i.serverName&&null!==i.gdbName&&("mapgislocal"!==i.serverName.toLowerCase()||null!==t)){i.partUrl="gdb/creat/"+i.gdbName+"?gdbSvrName="+i.serverName+"&path="+t+"&f=json",null!==i.User&&null!==i.Password&&(i.partUrl+="&gdbUserName="+i.User+"&gdbPwd="+i.Password);var n=i.getFullUrl();new u.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}}},{key:"DeleteGDB",value:function(t,e){var r=this;if(null!==r.serverName&&null!==r.gdbName){r.partUrl="gdb/delete/"+r.gdbName+"?gdbSvrName="+r.serverName,null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}(l.CatalogService);e.GDBInfo=h,Zondy.Catalog.GDBInfo=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameterBase=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(2)),n=r(0),o=r(6),a=r(266);r(392);var s=function t(e){(0,i.default)(this,t);var r=e||{};(0,o.extend)(this,r),this.geometry=void 0!==r.geometry?r.geometry:null,this.where=void 0!==r.where?r.where:null,this.rule=void 0!==r.rule?r.rule:null,this.objectIds=void 0!==r.objectIds?r.objectIds:null,this.pageIndex=void 0!==r.pageIndex?r.pageIndex:0,this.recordNumber=void 0!==r.recordNumber?r.recordNumber:20,this.resultFormat=void 0!==r.resultFormat?r.resultFormat:"json",this.struct=void 0!==r.struct?r.struct:new a.QueryFeatureStruct,this.orderField=void 0!==r.orderField?r.orderField:null,this.isAsc=void 0!==r.isAsc&&r.isAsc,this.cursorType=void 0!==r.cursorType?r.cursorType:"forward"};e.QueryParameterBase=s,n.Zondy.Service.QueryParameterBase=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureRule=void 0;var i=r(0),n=r(6),o=function(t){var e=t||{};(0,n.extend)(this,e),this.CompareRectOnly=void 0!==e.CompareRectOnly&&"boolean"==typeof e.CompareRectOnly&&e.CompareRectOnly,this.EnableDisplayCondition=void 0!==e.EnableDisplayCondition&&"boolean"==typeof e.EnableDisplayCondition&&e.EnableDisplayCondition,this.MustInside=void 0!==e.MustInside&&"boolean"==typeof e.MustInside&&e.MustInside,this.Intersect=void 0!==e.Intersect&&"boolean"==typeof e.Intersect&&e.Intersect};o.prototype.toJSON=function(){return(0,n.toJSON)(this)},e.QueryFeatureRule=o,i.Zondy.Service.QueryFeatureRule=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQueryParameter=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.geometry=void 0!==e.geometry?e.geometry:null,this.geometryType=void 0!==e.geometryType?e.geometryType:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json",this.nearDis=void 0!==e.nearDis?e.nearDis:1e-4};o.prototype.getParameterURL=function(){var t="";return t+="?f="+this.resultFormat,t+="&geometryType="+this.geometryType,t+="&nearDis="+this.nearDis},e.MultiGeoQueryParameter=o,i.Zondy.Service.MultiGeoQueryParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQueryParameter=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.objectIds=void 0!==e.objectIds?e.objectIds:null,this.where=void 0!==e.where?e.where:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json"};o.prototype.getParameterURL=function(){var t="";return t+="&f="+this.resultFormat,null!==this.objectIds?t+="&objectIds="+this.objectIds:null!==this.where&&(t+="&where="+this.where),t},e.ObjClsQueryParameter=o,i.Zondy.Service.ObjClsQueryParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(96),h=r(20);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.points=void 0!==r.points?r.points:"",i.dx=void 0!==r.dx?r.dx:"",i.dy=void 0!==r.dy?r.dy:"",i.dz=void 0!==r.dz?r.dz:"",i.m=void 0!==r.m?r.m:"",i.wx=void 0!==r.wx?r.wx:"",i.wy=void 0!==r.wy?r.wy:"",i.wz=void 0!==r.wz?r.wz:"",i.srcsrsname=void 0!==r.srcsrsname?r.srcsrsname:"",i.dessrsname=void 0!==r.dessrsname?r.dessrsname:"",i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"coordinateTrans",value:function(t,e,r){var n={};null!==r&&"POST"===r.toUpperCase()?(n.paraValues="",this.partUrl="geomservice/transcoordinate?points="+this.points+"&dx="+this.dx+"&dy="+this.dy+"&dz="+this.dz+"&m="+this.m+"&wx="+this.wx+"&wy="+this.wy+"&wz="+this.wz+"&srcsrsname="+this.srcsrsname+"&dessrsname="+this.dessrsname):(n=this,this.partUrl="geomservice/transcoordinate");var o=this.getFullUrl(),a=new h.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:t,processFailed:e}});null!==r&&"POST"===r.toUpperCase()?a.processAsync({method:"POST",data:(0,i.default)(n)}):a.processAsync()}}]),e}(c.GeometryAnalysisBase);e.CoordinateElpTrans=p,u.Zondy.Service.CoordinateTransform=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAllOtherDataItemInfoSource=void 0;var i=r(0),n={DefaultThemeInfo:1,DataItemIntrinsicInfo:2};e.CAllOtherDataItemInfoSource=n,i.Zondy.Object.Theme.CAllOtherDataItemInfoSource=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAnnInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Ovprnt?e.Ovprnt:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.Chnt=void 0!==e.Chnt?e.Chnt:0,this.Color=void 0!==e.Color?e.Color:0,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.Height=void 0!==e.Height?e.Height:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:0,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0===e.IsHzpl||e.IsHzpl,this.OffsetX=void 0!==e.OffsetX?e.OffsetX:0,this.OffsetY=void 0!==e.OffsetY?e.OffsetY:0,this.Space=void 0!==e.Space?e.Space:0,this.Width=void 0!==e.Width?e.Width:0};e.CAnnInfo=o,i.Zondy.Object.Theme.CAnnInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartLabelFormat=void 0;var i=r(0),n={Unknown:0,Value:1,Percent:2};e.CChartLabelFormat=n,i.Zondy.Object.Theme.CChartLabelFormat=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartTheme=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(57),u=r(400);r(401),r(404);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.ChartType=void 0!==r.ChartType?r.ChartType:u.CChartType.Bar,a.ChartThemeInfoArr=void 0!==r.ChartThemeInfoArr?r.ChartThemeInfoArr:null,a.RepresentInfo=void 0!==r.RepresentInfo?r.RepresentInfo:null,a.Type="CChartTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CChartTheme=h,s.Zondy.Object.Theme.CChartTheme=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartType=void 0;var i=r(0),n={Unknown:0,Bar:1,Bar3D:2,Pie:3,Pie3D:4,Line:5,Line3D:6,Point:7};e.CChartType=n,i.Zondy.Object.Theme.CChartType=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeInfo=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{},s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.Expression=void 0!==t?t:"",s}return(0,a.default)(e,t),e}(r(86).CThemeInfo);e.CChartThemeInfo=u,s.Zondy.Object.Theme.CChartThemeInfo=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLinInfo=void 0;var i=r(0),n=r(6),o=r(45),a=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.AdjustFlg=void 0!==e.AdjustFlg?e.AdjustFlg:o.CLinAdjustType.Adjust,this.HeadType=void 0!==e.HeadType?e.HeadType:o.CLinHeadType.Round,this.JointType=void 0!==e.JointType?e.JointType:o.CLinJointType.Round,this.LinStyID=void 0!==e.LinStyID?e.LinStyID:0,this.MakeMethod=void 0!==e.MakeMethod?e.MakeMethod:o.CLinStyleMakeType.Byrule,this.OutClr=void 0!==e.OutClr?e.OutClr:[46,4,3],this.XScale=void 0!==e.XScale?e.XScale:10,this.YScale=void 0!==e.YScale?e.YScale:10,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CLinInfo=a,i.Zondy.Object.Theme.CLinInfo=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegInfo=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.EndClr=void 0!==e.EndClr?e.EndClr:0,this.FillClr=void 0!==e.FillClr?e.FillClr:46,this.FillMode=void 0!==e.FillMode?e.FillMode:0,this.FullPatFlg=void 0===e.FullPatFlg||e.FullPatFlg,this.PatClr=void 0!==e.PatClr?e.PatClr:3,this.PatHeight=void 0!==e.PatHeight?e.PatHeight:5,this.PatID=void 0!==e.PatID?e.PatID:0,this.PatWidth=void 0!==e.PatWidth?e.PatWidth:5,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:1};e.CRegInfo=o,i.Zondy.Object.Theme.CRegInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeRepresentInfo=void 0;var i=r(0),n=r(6),o=r(397),a=r(398),s=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.AnnInfoLabel=void 0!==e.AnnInfoLabel?e.AnnInfoLabel:new o.CAnnInfo,this.DigitLabel=void 0!==e.DigitLabel?e.DigitLabel:0,this.FormatLabel=void 0!==e.FormatLabel?e.FormatLabel:a.CChartLabelFormat.Unknown,this.IsDrawLabel=void 0===e.IsDrawLabel||e.IsDrawLabel,this.LineColor=void 0!==e.LineColor?e.LineColor:-1,this.MaxLength=void 0!==e.MaxLength?e.MaxLength:30,this.MinRadius=void 0!==e.MinRadius?e.MinRadius:10,this.PieSizeFixFlag=void 0!==e.PieSizeFixFlag?e.PieSizeFixFlag:0,this.PieTiltedAngle=void 0!==e.PieTiltedAngle?e.PieTiltedAngle:30,this.PlotRadius=void 0!==e.PlotRadius?e.PlotRadius:1,this.ThickPersent=void 0!==e.ThickPersent?e.ThickPersent:10,this.Width=void 0!==e.Width?e.Width:3};e.CChartThemeRepresentInfo=s,i.Zondy.Object.Theme.CChartThemeRepresentInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDotDensityTheme=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(4)),a=u(r(5)),s=r(0),l=r(57);r(191);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.Expression=void 0!==r.Expression?r.Expression:"",a.Info=void 0!==r.Info?r.Info:null,a.Value=void 0!==r.Value?r.Value:null,a.Type="CDotDensityTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CDotDensityTheme=c,s.Zondy.Object.Theme.CDotDensityTheme=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CFourColorTheme=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.ClrInfo=void 0!==r.ClrInfo?r.ClrInfo:[25,57,89,121],a.Type="CFourColorTheme",a}return(0,a.default)(e,t),e}(r(57).CTheme);e.CFourColorTheme=u,s.Zondy.Object.Theme.CFourColorTheme=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGraduatedSymbolTheme=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(4)),a=u(r(5)),s=r(0),l=r(57);r(191);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.BaseValue=void 0!==r.BaseValue?r.BaseValue:141e-6,a.DispMinus=void 0!==r.DispMinus&&r.DispMinus,a.DispZero=void 0!==r.DispZero&&r.DispZero,a.Expression=void 0!==r.Expression?r.Expression:null,a.MinusPntInfo=void 0!==r.MinusPntInfo?r.MinusPntInfo:null,a.PlusPntInfo=void 0!==r.PlusPntInfo?r.PlusPntInfo:null,a.ZeroPntInfo=void 0!==r.ZeroPntInfo?r.ZeroPntInfo:null,a.Type="CGraduatedSymbolTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CGraduatedSymbolTheme=c,s.Zondy.Object.Theme.CGraduatedSymbolTheme=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CMultiClassTheme=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(4)),a=u(r(5)),s=r(0),l=r(57);r(86),r(409);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,a.ExpInfoArr=void 0!==r.ExpInfoArr?r.ExpInfoArr:null,a.MultiClassThemeInfoArr=void 0!==r.MultiClassThemeInfoArr?r.MultiClassThemeInfoArr:null,a.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,a.Type="CMultiClassTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CMultiClassTheme=c,s.Zondy.Object.Theme.CMultiClassTheme=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpInfo=void 0;var i=r(0),n=r(6),o=function(t,e,r){var i=void 0!==r?r:{};(0,n.extend)(this,i),this.Expression=void 0!==t?t:"",this.ItemValueArr=void 0!==e?e:null};e.ExpInfo=o,i.Zondy.Object.Theme.ExpInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRandomTheme=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.Type="CRandomTheme",a}return(0,a.default)(e,t),e}(r(57).CTheme);e.CRandomTheme=u,s.Zondy.Object.Theme.CRandomTheme=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeTheme=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(57),u=r(396);r(86),r(412);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.AllOtherDataItemInfoSource=void 0!==r.AllOtherDataItemInfoSource?r.AllOtherDataItemInfoSource:u.CAllOtherDataItemInfoSource.DefaultThemeInfo,a.Expression=void 0!==r.Expression?r.Expression:"",a.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,a.RangeThemeInfoArr=void 0!==r.RangeThemeInfoArr?r.RangeThemeInfoArr:null,a.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,a.Type="CRangeTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CRangeTheme=h,s.Zondy.Object.Theme.CRangeTheme=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeThemeInfo=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r,a){(0,n.default)(this,e);var s=a||{},l=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,s));return l.StartValue=void 0!==t?t:"",l.EndValue=void 0!==r?r:"",l}return(0,a.default)(e,t),e}(r(86).CThemeInfo);e.CRangeThemeInfo=u,s.Zondy.Object.Theme.CRangeThemeInfo=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSimpleTheme=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(57),u=r(86);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.ThemeInfo=void 0!==r.ThemeInfo?r.ThemeInfo:new u.CThemeInfo,a.Type="CSimpleTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CSimpleTheme=h,s.Zondy.Object.Theme.CSimpleTheme=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueTheme=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(4)),a=u(r(5)),s=r(0),l=r(57);r(86),r(415);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,a.Expression=void 0!==r.Expression?r.Expression:"",a.UniqueThemeInfoArr=void 0!==r.UniqueThemeInfoArr?r.UniqueThemeInfoArr:null,a.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,a.Type="CUniqueTheme",a}return(0,a.default)(e,t),e}(l.CTheme);e.CUniqueTheme=c,s.Zondy.Object.Theme.CUniqueTheme=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueThemeInfo=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{},s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.Value=void 0!==t?t:"",s}return(0,a.default)(e,t),e}(r(86).CThemeInfo);e.CUniqueThemeInfo=u,s.Zondy.Object.Theme.CUniqueThemeInfo=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfo=void 0;var i=r(0),n=(r(274),function(t,e){this.name=void 0!==t?t:null,this.attribute=void 0!==e?e:null});e.FolderInfo=n,i.Zondy.Object.Theme.FolderInfo=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=void 0;var i=r(0),n=(r(57),function(t,e){this.LayerName=void 0!==t?t:null,this.ThemeArr=void 0!==e?e:null});e.ThemesInfo=n,i.Zondy.Object.Theme.ThemesInfo=n},function(t,e,r){"use strict";r(419)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=e.ThemeOper=e.ItemValue=e.FolderInfoAttribute=e.FolderInfo=e.ExpInfo=e.CUniqueThemeInfo=e.CUniqueTheme=e.CThemeInfo=e.CTheme=e.CSimpleTheme=e.CRegInfo=e.CRangeThemeInfo=e.CRangeTheme=e.CRandomTheme=e.CPntInfo=e.CMultiClassTheme=e.CLinInfo=e.CGraduatedSymbolTheme=e.CFourColorTheme=e.CDotDensityTheme=e.CChartType=e.CChartThemeRepresentInfo=e.CChartThemeInfo=e.CChartTheme=e.CChartLabelFormat=e.CAnnInfo=e.CAllOtherDataItemInfoSource=e.MapServiceBase=e.GetTileImageService=e.GetMapInfoService=void 0,e.GetMapImageService=e.GetLayerImageService=e.GetDocImageService=e.CoordinateElpTrans=e.TopAnalysis=e.Smooth=e.ProjectRang=e.ProjectDots=e.GeometryAnalysisBase=e.CProjectParam=e.CProjectBySRSID=e.CalServiceBase=e.CalPolyLineLength=e.CalArea=e.FunctionWareService=e.ProjectBySRID=e.ProjectByLayer=e.ProjectBase=e.OverlayByPolygon=e.OverlayByLayer=e.OverlayBase=e.NetAnalysis=e.FeatureBuffBySingleRing=e.FeatureBuffByMultiplyRing=e.FeatureBuffBase=e.ContourAnalyse=e.ClipByPolygon=e.ClipByLayer=e.ClipByCircle=e.ClipBase=e.ClassBufferBySingleRing=e.ClassBufferByMultiplyRing=e.ClassBufferBase=e.AnalysisBase=e.QueryServiceBase=e.QueryParameterBase=e.QueryParameter=e.QueryLayerFeature=e.QueryFeatureStruct=e.QueryFeatureRule=e.QueryDocFeature=e.QueryByLayerParameter=e.ObjClsQueryParameter=e.ObjClsQuery=e.MultiGeoQueryParameter=e.MultiGeoQuery=e.EditServiceBase=e.EditLayerFeature=e.EditDocFeature=e.VectorLayer=e.TileLayer=e.CatalogService=e.MapDoc=e.GDBInfo=e.ColorInfo=e.JSONFormat=e.IgsServiceBase=e.FetchRequest=e.RequestTimeout=e.CORS=e.Events=e.CommonServiceBase=e.SlopLineParam=e.NetAnalysisExtent=e.NetAnalyse=e.MeshingParam=e.ContourRegionInfo=e.ContourZValue=e.ContourParam=e.ContourNoteParam=e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=void 0,e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=e.WebGraphicsInfo=e.VectCls=e.Tangram=e.Rectangle=e.PolyLine=e.Polygon=e.Point2D=e.MultiPolygon=e.LablePntInfo=e.LabelRegInfo=e.LabelLinInfo=e.GRegion=e.GPoint=e.GLine=e.FeatureSet=e.FeatureGraphicBase=e.FeatureGeometry=e.Feature=e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=e.DynShowStyle=e.DynNoteLableType=e.CRegionInfo=e.CPointInfo=e.CLineInfo=e.Circle=e.CGDBInfo=e.CDynNoteInfo=e.CDisplayStyleExtend=e.CDisplayStyle=e.CAttDataRow=e.CAttStruct=e.Zondy=e.Arc=e.AnyLine=e.ServiceBase=e.goog=e.ZDOverviewMap=e.PolygonJSON=e.MilstdParams=e.EnumMilstdType=e.MilStdDragPan=e.MilStdModifyTool=e.MilStdDrawTool=e.MilStd=e.Drag=e.OpenStreetLayerType=e.ArcGISLayerType=e.GoogleLayerType=e.TiandituType=e.OpenStreetLayer=e.OpenStreetMapSource=e.ArcGISLayer=e.ArcGISMapSource=e.GoogleLayer=e.GoogleMapSource=e.TianDiTu=e.TiandituMapSource=e.GaoDeLayer=e.GaodeMapSource=e.BaiDuLayer=e.BaiduMapSource=e.Layer=e.MapLayerSource=e.GdbpLayer=e.MapLayerTileSource=e.TileLayer_mapgis=e.TileLayerSource=e.CacheTileLayer=e.CacheTileLayerSource=e.Doc=e.MapDocSource=e.MapDocTileLayer=e.MapDocTileSource=e.ZDTileDebug=void 0;var i=Tr(r(46)),n=Tr(r(26)),o=Tr(r(192)),a=Tr(r(196)),s=(Tr(r(69)),Tr(r(103)),Tr(r(147))),l=Tr(r(148)),u=(Tr(r(119)),Tr(r(19))),c=Sr(r(97)),h=Tr(r(172)),d=Tr(r(118)),p=(Tr(r(60)),Tr(r(173)),Tr(r(121))),f=Tr(r(223)),g=Sr(r(155)),y=Tr(r(50)),v=Tr(r(224)),m=Sr(r(225)),_=Sr(r(174)),O=Sr(r(156)),b=Sr(r(226)),S=Tr(r(157)),T=Sr(r(227)),E=Tr(r(228)),C=(Tr(r(21)),Tr(r(459))),x=Tr(r(32)),j=Tr(r(460)),P=Tr(r(233)),I=Tr(r(232)),R=(Tr(r(178)),Tr(r(461))),L=Tr(r(462)),w=Tr(r(463)),A=Tr(r(464)),M=Tr(r(466)),F=Tr(r(469)),N=Sr(r(470)),D=Tr(r(472)),k=Sr(r(473)),G=Tr(r(475)),U=Tr(r(476)),B=Tr(r(477)),V=Tr(r(478)),Z=Tr(r(319)),z=Tr(r(320)),W=Tr(r(321)),Y=Tr(r(322)),X=Tr(r(323)),H=Tr(r(324)),q=Tr(r(325)),K=Tr(r(326)),J=Tr(r(327)),Q=Tr(r(328)),$=Tr(r(329)),tt=Tr(r(330)),et=Tr(r(331)),rt=Tr(r(332)),it=Tr(r(333)),nt=Tr(r(334)),ot=Tr(r(286)),at=Tr(r(193)),st=Tr(r(132)),lt=Tr(r(31)),ut=Tr(r(143)),ct=Tr(r(41)),ht=Tr(r(55)),dt=Tr(r(62)),pt=Tr(r(29)),ft=Sr(r(27)),gt=Tr(r(28)),yt=r(58),vt=Tr(r(53)),mt=Tr(r(122)),_t=Tr(r(207)),Ot=Tr(r(161)),bt=Tr(r(158)),St=Tr(r(159)),Tt=Tr(r(208)),Et=Tr(r(160)),Ct=Sr(r(209)),xt=Tr(r(214)),jt=Tr(r(36)),Pt=Tr(r(162)),It=Tr(r(163)),Rt=Tr(r(215)),Lt=Tr(r(164)),wt=Tr(r(165)),At=Tr(r(166)),Mt=Sr(r(34)),Ft=Tr(r(216)),Nt=Tr(r(217)),Dt=Tr(r(218)),kt=Tr(r(203)),Gt=Tr(r(284)),Ut=Tr(r(480)),Bt=Tr(r(179)),Vt=Tr(r(79)),Zt=Tr(r(91)),zt=Tr(r(80)),Wt=Tr(r(481)),Yt=Tr(r(88)),Xt=(Tr(r(316)),Tr(r(126))),Ht=(Tr(r(170)),Tr(r(230)),Tr(r(219))),qt=Tr(r(220)),Kt=Tr(r(171)),Jt=Tr(r(296)),Qt=Tr(r(299)),$t=Tr(r(303)),te=Tr(r(311)),ee=Tr(r(312)),re=Tr(r(313)),ie=Tr(r(482)),ne=Tr(r(485)),oe=Tr(r(486)),ae=Tr(r(72)),se=Tr(r(488)),le=Tr(r(489)),ue=Tr(r(490)),ce=Tr(r(491)),he=Tr(r(492)),de=Sr(r(339)),pe=Tr(r(493)),fe=Tr(r(168)),ge=Tr(r(497)),ye=Tr(r(109)),ve=Tr(r(498)),me=Tr(r(499)),_e=Tr(r(43)),Oe=Tr(r(500)),be=Tr(r(501)),Se=Tr(r(502)),Te=(Tr(r(240)),Tr(r(89))),Ee=Tr(r(503)),Ce=Sr(r(504)),xe=Tr(r(181)),je=Tr(r(506)),Pe=(Tr(r(167)),Tr(r(310))),Ie=Tr(r(289)),Re=Tr(r(101)),Le=Tr(r(235)),we=Sr(r(221)),Ae=Tr(r(210)),Me=Tr(r(290)),Fe=Tr(r(102)),Ne=Tr(r(71)),De=Tr(r(198)),ke=Tr(r(64)),Ge=Sr(r(340)),Ue=(Tr(r(131)),Sr(r(507))),Be=Sr(r(54)),Ve=Sr(r(104)),Ze=Sr(r(302)),ze=Sr(r(39)),We=Sr(r(61)),Ye=Sr(r(40)),Xe=Sr(r(1)),He=Sr(r(211)),qe=Sr(r(317)),Ke=r(38),Je=Sr(Ke),Qe=(Sr(Ke),Sr(r(205))),$e=Sr(r(291)),tr=Sr(r(12)),er=Sr(r(47)),rr=Sr(r(508)),ir=Sr(r(509)),nr=Sr(r(63)),or=Sr(r(49)),ar=Sr(r(194)),sr=Sr(r(81)),lr=Sr(r(35)),ur=r(510),cr=r(553),hr=r(75),dr=r(562),pr=r(571),fr=r(595),gr=r(596),yr=r(601),vr=r(609),mr=r(624),_r=r(631),Or=r(637),br=r(395);function Sr(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Tr(t){return t&&t.__esModule?t:{default:t}}var Er=window.ol={};Er.color={},Er.colorlike={},Er.control={},Er.coordinate={},Er.easing={},Er.events={},Er.events.condition={},Er.extent={},Er.featureloader={},Er.format={},Er.format.filter={},Er.geom={},Er.has={},Er.interaction={},Er.layer={},Er.loadingstrategy={},Er.proj={},Er.proj.Units={},Er.proj.proj4={},Er.render={},Er.render.canvas={},Er.renderer={},Er.renderer.canvas={},Er.renderer.webgl={},Er.size={},Er.source={},Er.sphere=Er.Sphere=function(t){this.radius=t},Er.style={},Er.style.IconImageCache={},Er.tilegrid={},Er.xml={},Er.Collection=i.default,Er.Feature=n.default,Er.Geolocation=o.default,Er.Graticule=a.default,Er.Kinetic=s.default,Er.Map=l.default,Er.Object=u.default,Er.Observable=c.default,Er.Observable.unByKey=c.unByKey,Er.Overlay=h.default,Er.PluggableMap=d.default,Er.View=p.default,Er.WebGLMap=f.default,Er.color.asArray=Be.asArray,Er.color.asString=Be.asString,Er.colorlike.asColorLike=Ve.asColorLike,Er.control.Attribution=g.default,Er.control.Attribution.render=g.render,Er.control.Control=y.default,Er.control.FullScreen=v.default,Er.control.MousePosition=m.default,Er.control.MousePosition.render=m.render,Er.control.OverviewMap=_.default,Er.control.OverviewMap.render=_.render,Er.control.Rotate=O.default,Er.control.Rotate.render=O.render,Er.control.ScaleLine=b.default,Er.control.ScaleLine.render=b.render,Er.control.Zoom=S.default,Er.control.ZoomSlider=T.default,Er.control.ZoomSlider.render=T.render,Er.control.ZoomToExtent=E.default,Er.control.defaults=Ze.defaults,Er.coordinate.add=ze.add,Er.coordinate.createStringXY=ze.createStringXY,Er.coordinate.format=ze.format,Er.coordinate.rotate=ze.rotate,Er.coordinate.toStringHDMS=ze.toStringHDMS,Er.coordinate.toStringXY=ze.toStringXY,Er.easing.easeIn=We.easeIn,Er.easing.easeOut=We.easeOut,Er.easing.inAndOut=We.inAndOut,Er.easing.linear=We.linear,Er.easing.upAndDown=We.upAndDown,Er.events.condition.altKeyOnly=Ye.altKeyOnly,Er.events.condition.altShiftKeysOnly=Ye.altShiftKeysOnly,Er.events.condition.always=Ye.always,Er.events.condition.click=Ye.click,Er.events.condition.doubleClick=Ye.doubleClick,Er.events.condition.focus=Ye.focus,Er.events.condition.mouseOnly=Ye.mouseOnly,Er.events.condition.never=Ye.never,Er.events.condition.noModifierKeys=Ye.noModifierKeys,Er.events.condition.platformModifierKeyOnly=Ye.platformModifierKeyOnly,Er.events.condition.pointerMove=Ye.pointerMove,Er.events.condition.primaryAction=Ye.primaryAction,Er.events.condition.shiftKeyOnly=Ye.shiftKeyOnly,Er.events.condition.singleClick=Ye.singleClick,Er.events.condition.targetNotEditable=Ye.targetNotEditable,Er.extent.applyTransform=Xe.applyTransform,Er.extent.boundingExtent=Xe.boundingExtent,Er.extent.buffer=Xe.buffer,Er.extent.containsCoordinate=Xe.containsCoordinate,Er.extent.containsExtent=Xe.containsExtent,Er.extent.containsXY=Xe.containsXY,Er.extent.createEmpty=Xe.createEmpty,Er.extent.equals=Xe.equals,Er.extent.extend=Xe.extend,Er.extent.getArea=Xe.getArea,Er.extent.getBottomLeft=Xe.getBottomLeft,Er.extent.getBottomRight=Xe.getBottomRight,Er.extent.getCenter=Xe.getCenter,Er.extent.getHeight=Xe.getHeight,Er.extent.getIntersection=Xe.getIntersection,Er.extent.getSize=Xe.getSize,Er.extent.getTopLeft=Xe.getTopLeft,Er.extent.getTopRight=Xe.getTopRight,Er.extent.getWidth=Xe.getWidth,Er.extent.intersects=Xe.intersects,Er.extent.isEmpty=Xe.isEmpty,Er.featureloader.xhr=He.xhr,Er.format.EsriJSON=C.default,Er.format.Feature=x.default,Er.format.GML=j.default,Er.format.GML2=P.default,Er.format.GML3=I.default,Er.format.GPX=R.default,Er.format.GeoJSON=L.default,Er.format.IGC=w.default,Er.format.KML=A.default,Er.format.MVT=M.default,Er.format.OSMXML=F.default,Er.format.Polyline=N.default,Er.format.Polyline.decodeDeltas=N.decodeDeltas,Er.format.Polyline.decodeFloats=N.decodeFloats,Er.format.Polyline.encodeDeltas=N.encodeDeltas,Er.format.Polyline.encodeFloats=N.encodeFloats,Er.format.TopoJSON=D.default,Er.format.WFS=k.default,Er.format.WFS.writeFilter=k.writeFilter,Er.format.WKT=G.default,Er.format.WMSCapabilities=U.default,Er.format.WMSGetFeatureInfo=B.default,Er.format.WMTSCapabilities=V.default,Er.format.filter.Bbox=Z.default,Er.format.filter.Contains=z.default,Er.format.filter.During=W.default,Er.format.filter.EqualTo=Y.default,Er.format.filter.GreaterThan=X.default,Er.format.filter.GreaterThanOrEqualTo=H.default,Er.format.filter.Intersects=q.default,Er.format.filter.IsBetween=K.default,Er.format.filter.IsLike=J.default,Er.format.filter.IsNull=Q.default,Er.format.filter.LessThan=$.default,Er.format.filter.LessThanOrEqualTo=tt.default,Er.format.filter.Not=et.default,Er.format.filter.NotEqualTo=rt.default,Er.format.filter.Or=it.default,Er.format.filter.Within=nt.default,Er.format.filter.and=qe.and,Er.format.filter.bbox=qe.bbox,Er.format.filter.between=qe.between,Er.format.filter.contains=qe.contains,Er.format.filter.during=qe.during,Er.format.filter.equalTo=qe.equalTo,Er.format.filter.greaterThan=qe.greaterThan,Er.format.filter.greaterThanOrEqualTo=qe.greaterThanOrEqualTo,Er.format.filter.intersects=qe.intersects,Er.format.filter.isNull=qe.isNull,Er.format.filter.lessThan=qe.lessThan,Er.format.filter.lessThanOrEqualTo=qe.lessThanOrEqualTo,Er.format.filter.like=qe.like,Er.format.filter.not=qe.not,Er.format.filter.notEqualTo=qe.notEqualTo,Er.format.filter.or=qe.or,Er.format.filter.within=qe.within,Er.geom.Circle=ot.default,Er.geom.Geometry=at.default,Er.geom.GeometryLayout=gt.default,Er.geom.GeometryCollection=st.default,Er.geom.LineString=lt.default,Er.geom.LinearRing=ut.default,Er.geom.MultiLineString=ct.default,Er.geom.MultiPoint=ht.default,Er.geom.MultiPolygon=dt.default,Er.geom.Point=pt.default,Er.geom.Polygon=ft.default,Er.geom.Polygon.circular=ft.circular,Er.geom.Polygon.fromCircle=ft.fromCircle,Er.geom.Polygon.fromExtent=ft.fromExtent,Er.geom.Polygon.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=(0,yt.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}else this.setFlatCoordinates(Er.geom.GeometryLayout.XY,null,this.ends_)},Er.geom.SimpleGeometry=vt.default,Er.has.DEVICE_PIXEL_RATIO=Je.DEVICE_PIXEL_RATIO,Er.has.GEOLOCATION=Je.GEOLOCATION,Er.has.TOUCH=Je.TOUCH,Er.has.WEBGL=Je.WEBGL,Er.inherits=Ue.inherits,Er.interaction.DoubleClickZoom=mt.default,Er.interaction.DragAndDrop=_t.default,Er.interaction.DragBox=Ot.default,Er.interaction.DragPan=bt.default,Er.interaction.DragRotate=St.default,Er.interaction.DragRotateAndZoom=Tt.default,Er.interaction.DragZoom=Et.default,Er.interaction.Draw=Ct.default,Er.interaction.Draw.createBox=Ct.createBox,Er.interaction.Draw.createRegularPolygon=Ct.createRegularPolygon,Er.interaction.Draw.handleEvent=Ct.handleEvent,Er.interaction.Extent=xt.default,Er.interaction.Interaction=jt.default,Er.interaction.KeyboardPan=Pt.default,Er.interaction.KeyboardZoom=It.default,Er.interaction.Modify=Rt.default,Er.interaction.MouseWheelZoom=Lt.default,Er.interaction.PinchRotate=wt.default,Er.interaction.PinchZoom=At.default,Er.interaction.Pointer=Mt.default,Er.interaction.Pointer.handleEvent=Mt.handleEvent,Er.interaction.Select=Ft.default,Er.interaction.Snap=Nt.default,Er.interaction.Translate=Dt.default,Er.interaction.defaults=Qe.defaults,Er.layer.Base=kt.default,Er.layer.Group=Gt.default,Er.layer.Heatmap=Ut.default,Er.layer.Image=Bt.default,Er.layer.Layer=Vt.default,Er.layer.Tile=Zt.default,Er.layer.Vector=zt.default,Er.layer.VectorTile=Wt.default,Er.loadingstrategy.all=$e.all,Er.loadingstrategy.bbox=$e.bbox,Er.loadingstrategy.tile=$e.tile,Er.proj.Projection=Yt.default,Er.proj.Units.METERS_PER_UNIT=er.METERS_PER_UNIT,Er.proj.addCoordinateTransforms=tr.addCoordinateTransforms,Er.proj.addEquivalentProjections=tr.addEquivalentProjections,Er.proj.addProjection=tr.addProjection,Er.proj.equivalent=tr.equivalent,Er.proj.fromLonLat=tr.fromLonLat,Er.proj.get=tr.get,Er.proj.getPointResolution=tr.getPointResolution,Er.proj.getTransform=tr.getTransform,Er.proj.proj4.register=rr.register,Er.proj.toLonLat=tr.toLonLat,Er.proj.transform=tr.transform,Er.proj.transformExtent=tr.transformExtent,Er.render.VectorContext=Xt.default,Er.render.canvas.labelCache=nr.labelCache,Er.render.toContext=ir.toContext,Er.renderer.canvas.ImageLayer=Ht.default,Er.renderer.canvas.Map=qt.default,Er.renderer.canvas.TileLayer=Kt.default,Er.renderer.canvas.VectorLayer=Jt.default,Er.renderer.canvas.VectorTileLayer=Qt.default,Er.renderer.webgl.ImageLayer=$t.default,Er.renderer.webgl.Map=te.default,Er.renderer.webgl.TileLayer=ee.default,Er.renderer.webgl.VectorLayer=re.default,Er.size.toSize=or.toSize,Er.source.BingMaps=ie.default,Er.source.CartoDB=ne.default,Er.source.Cluster=oe.default,Er.source.Image=ae.default,Er.source.ImageArcGISRest=se.default,Er.source.ImageCanvas=le.default,Er.source.ImageMapGuide=ue.default,Er.source.ImageStatic=ce.default,Er.source.ImageWMS=he.default,Er.source.OSM=de.default,Er.source.OSM.ATTRIBUTION=de.ATTRIBUTION,Er.source.Raster=pe.default,Er.source.Source=fe.default,Er.source.Stamen=ge.default,Er.source.Tile=ye.default,Er.source.TileArcGISRest=ve.default,Er.source.TileDebug=me.default,Er.source.TileImage=_e.default,Er.source.TileJSON=Oe.default,Er.source.TileWMS=be.default,Er.source.UTFGrid=Se.default,Er.source.Vector=Te.default,Er.source.VectorTile=Ee.default,Er.source.WMTS=Ce.default,Er.source.WMTS.optionsFromCapabilities=Ce.optionsFromCapabilities,Er.source.XYZ=xe.default,Er.source.Zoomify=je.default,Er.sphere.prototype.getArea=ar.getArea,Er.sphere.prototype.getDistance=ar.getDistance,Er.sphere.prototype.getLength=ar.getLength,Er.sphere.prototype.getAreaInternal=ar.getAreaInternal,Er.style.AtlasManager=Pe.default,Er.style.Circle=Ie.default,Er.style.Fill=Re.default,Er.style.Icon=Le.default,Er.style.IconImageCache.shared=we.shared,Er.style.Image=Ae.default,Er.style.RegularShape=Me.default,Er.style.Stroke=Fe.default,Er.style.Style=Ne.default,Er.style.Text=De.default,Er.tilegrid.TileGrid=ke.default,Er.tilegrid.WMTS=Ge.default,Er.tilegrid.WMTS.createFromCapabilitiesMatrixSet=Ge.createFromCapabilitiesMatrixSet,Er.tilegrid.createXYZ=sr.createXYZ,Er.xml.getAllTextContent=lr.getAllTextContent,Er.xml.parse=lr.parse,e.ZDTileDebug=ur.ZDTileDebug,e.MapDocTileSource=ur.MapDocTileSource,e.MapDocTileLayer=ur.MapDocTileLayer,e.MapDocSource=ur.MapDocSource,e.Doc=ur.Doc,e.CacheTileLayerSource=ur.CacheTileLayerSource,e.CacheTileLayer=ur.CacheTileLayer,e.TileLayerSource=ur.TileLayerSource,e.TileLayer_mapgis=ur.TileLayer_mapgis,e.MapLayerTileSource=ur.MapLayerTileSource,e.GdbpLayer=ur.GdbpLayer,e.MapLayerSource=ur.MapLayerSource,e.Layer=ur.Layer,e.BaiduMapSource=ur.BaiduMapSource,e.BaiDuLayer=ur.BaiDuLayer,e.GaodeMapSource=ur.GaodeMapSource,e.GaoDeLayer=ur.GaoDeLayer,e.TiandituMapSource=ur.TiandituMapSource,e.TianDiTu=ur.TianDiTu,e.GoogleMapSource=ur.GoogleMapSource,e.GoogleLayer=ur.GoogleLayer,e.ArcGISMapSource=ur.ArcGISMapSource,e.ArcGISLayer=ur.ArcGISLayer,e.OpenStreetMapSource=ur.OpenStreetMapSource,e.OpenStreetLayer=ur.OpenStreetLayer,e.TiandituType=ur.TiandituType,e.GoogleLayerType=ur.GoogleLayerType,e.ArcGISLayerType=ur.ArcGISLayerType,e.OpenStreetLayerType=ur.OpenStreetLayerType,e.Drag=cr.Drag,e.MilStd=cr.MilStd,e.MilStdDrawTool=cr.MilStdDrawTool,e.MilStdModifyTool=cr.MilStdModifyTool,e.MilStdDragPan=cr.MilStdDragPan,e.EnumMilstdType=cr.EnumMilstdType,e.MilstdParams=cr.MilstdParams,e.PolygonJSON=cr.PolygonJSON,e.ZDOverviewMap=cr.ZDOverviewMap,e.goog=cr.goog,e.ServiceBase=hr.ServiceBase,e.AnyLine=dr.AnyLine,e.Arc=dr.Arc,e.Zondy=dr.Zondy,e.CAttStruct=dr.CAttStruct,e.CAttDataRow=dr.CAttDataRow,e.CDisplayStyle=dr.CDisplayStyle,e.CDisplayStyleExtend=dr.CDisplayStyleExtend,e.CDynNoteInfo=dr.CDynNoteInfo,e.CGDBInfo=dr.CGDBInfo,e.Circle=dr.Circle,e.CLineInfo=dr.CLineInfo,e.CPointInfo=dr.CPointInfo,e.CRegionInfo=dr.CRegionInfo,e.DynNoteLableType=dr.DynNoteLableType,e.DynShowStyle=dr.DynShowStyle,e.XClsType=dr.XClsType,e.VectClsType=dr.VectClsType,e.FeatureType=dr.FeatureType,e.FontShape=dr.FontShape,e.LabelLinType=dr.LabelLinType,e.LabelRegType=dr.LabelRegType,e.LabelPntType=dr.LabelPntType,e.RepeatType=dr.RepeatType,e.LabelSpreadType=dr.LabelSpreadType,e.LineConstrain=dr.LineConstrain,e.EightDirType=dr.EightDirType,e.ISShowArc=dr.ISShowArc,e.NetAnalyType=dr.NetAnalyType,e.NetElemType=dr.NetElemType,e.CLinAdjustType=dr.CLinAdjustType,e.CLinHeadType=dr.CLinHeadType,e.CLinJointType=dr.CLinJointType,e.CLinStyleMakeType=dr.CLinStyleMakeType,e.CItemType=dr.CItemType,e.MapType=dr.MapType,e.LayerStatusType=dr.LayerStatusType,e.Feature=dr.Feature,e.FeatureGeometry=dr.FeatureGeometry,e.FeatureGraphicBase=dr.FeatureGraphicBase,e.FeatureSet=dr.FeatureSet,e.GLine=dr.GLine,e.GPoint=dr.GPoint,e.GRegion=dr.GRegion,e.LabelLinInfo=dr.LabelLinInfo,e.LabelRegInfo=dr.LabelRegInfo,e.LablePntInfo=dr.LablePntInfo,e.MultiPolygon=dr.MultiPolygon,e.Point2D=dr.Point2D,e.Polygon=dr.Polygon,e.PolyLine=dr.PolyLine,e.Rectangle=dr.Rectangle,e.Tangram=dr.Tangram,e.VectCls=dr.VectCls,e.WebGraphicsInfo=dr.WebGraphicsInfo,e.extend=dr.extend,e.isArray=dr.isArray,e.extendDeep=dr.extendDeep,e.copy=dr.copy,e.copyExcluce=dr.copyExcluce,e.reset=dr.reset,e.getElement=dr.getElement,e.isElement=dr.isElement,e.removeItem=dr.removeItem,e.indexOf=dr.indexOf,e.modifyDOMElement=dr.modifyDOMElement,e.applyDefaults=dr.applyDefaults,e.getParameterString=dr.getParameterString,e.getWFParameterString=dr.getWFParameterString,e.urlAppend=dr.urlAppend,e.getParameters=dr.getParameters,e.IS_GECKO=dr.IS_GECKO,e.Browser=dr.Browser,e.getBrowser=dr.getBrowser,e.isSupportCanvas=dr.isSupportCanvas,e.supportCanvas=dr.supportCanvas,e.isInTheSameDomain=dr.isInTheSameDomain,e.toJSON=dr.toJSON,e.transformResult=dr.transformResult,e.copyAttributes=dr.copyAttributes,e.copyAttributesWithClip=dr.copyAttributesWithClip,e.cloneObject=dr.cloneObject,e.newGuid=dr.newGuid,e.bind=dr.bind,e.bindAsEventListener=dr.bindAsEventListener,e.getTopAnalysisResult=dr.getTopAnalysisResult,e.ChineseToUtf8=dr.ChineseToUtf8,e.DeepMerge=dr.DeepMerge,e.merge=dr.merge,e.mixin=dr.mixin,e.createCanvasContext2D=dr.createCanvasContext2D,e.ContourNoteParam=pr.ContourNoteParam,e.ContourParam=pr.ContourParam,e.ContourZValue=pr.ContourZValue,e.ContourRegionInfo=pr.ContourRegionInfo,e.MeshingParam=pr.MeshingParam,e.NetAnalyse=pr.NetAnalyse,e.NetAnalysisExtent=pr.NetAnalysisExtent,e.SlopLineParam=pr.SlopLineParam,e.CommonServiceBase=fr.CommonServiceBase,e.Events=fr.Events,e.CORS=fr.CORS,e.RequestTimeout=fr.RequestTimeout,e.FetchRequest=fr.FetchRequest,e.IgsServiceBase=fr.IgsServiceBase,e.JSONFormat=fr.JSONFormat,e.ColorInfo=gr.ColorInfo,e.GDBInfo=gr.GDBInfo,e.MapDoc=gr.MapDoc,e.CatalogService=gr.CatalogService,e.TileLayer=gr.TileLayer,e.VectorLayer=gr.VectorLayer,e.EditDocFeature=yr.EditDocFeature,e.EditLayerFeature=yr.EditLayerFeature,e.EditServiceBase=yr.EditServiceBase,e.MultiGeoQuery=yr.MultiGeoQuery,e.MultiGeoQueryParameter=yr.MultiGeoQueryParameter,e.ObjClsQuery=yr.ObjClsQuery,e.ObjClsQueryParameter=yr.ObjClsQueryParameter,e.QueryByLayerParameter=yr.QueryByLayerParameter,e.QueryDocFeature=yr.QueryDocFeature,e.QueryFeatureRule=yr.QueryFeatureRule,e.QueryFeatureStruct=yr.QueryFeatureStruct,e.QueryLayerFeature=yr.QueryLayerFeature,e.QueryParameter=yr.QueryParameter,e.QueryParameterBase=yr.QueryParameterBase,e.QueryServiceBase=yr.QueryServiceBase,e.AnalysisBase=vr.AnalysisBase,e.ClassBufferBase=vr.ClassBufferBase,e.ClassBufferByMultiplyRing=vr.ClassBufferByMultiplyRing,e.ClassBufferBySingleRing=vr.ClassBufferBySingleRing,e.ClipBase=vr.ClipBase,e.ClipByCircle=vr.ClipByCircle,e.ClipByLayer=vr.ClipByLayer,e.ClipByPolygon=vr.ClipByPolygon,e.ContourAnalyse=vr.ContourAnalyse,e.FeatureBuffBase=vr.FeatureBuffBase,e.FeatureBuffByMultiplyRing=vr.FeatureBuffByMultiplyRing,e.FeatureBuffBySingleRing=vr.FeatureBuffBySingleRing,e.NetAnalysis=vr.NetAnalysis,e.OverlayBase=vr.OverlayBase,e.OverlayByLayer=vr.OverlayByLayer,e.OverlayByPolygon=vr.OverlayByPolygon,e.ProjectBase=vr.ProjectBase,e.ProjectByLayer=vr.ProjectByLayer,e.ProjectBySRID=vr.ProjectBySRID,e.FunctionWareService=vr.FunctionWareService,e.CalArea=mr.CalArea,e.CalPolyLineLength=mr.CalPolyLineLength,e.CalServiceBase=mr.CalServiceBase,e.CProjectBySRSID=mr.CProjectBySRSID,e.CProjectParam=mr.CProjectParam,e.GeometryAnalysisBase=mr.GeometryAnalysisBase,e.ProjectDots=mr.ProjectDots,e.ProjectRang=mr.ProjectRang,e.Smooth=mr.Smooth,e.TopAnalysis=mr.TopAnalysis,e.CoordinateElpTrans=br.CoordinateElpTrans,e.GetDocImageService=_r.GetDocImageService,e.GetLayerImageService=_r.GetLayerImageService,e.GetMapImageService=_r.GetMapImageService,e.GetMapInfoService=_r.GetMapInfoService,e.GetTileImageService=_r.GetTileImageService,e.MapServiceBase=_r.MapServiceBase,e.CAllOtherDataItemInfoSource=Or.CAllOtherDataItemInfoSource,e.CAnnInfo=Or.CAnnInfo,e.CChartLabelFormat=Or.CChartLabelFormat,e.CChartTheme=Or.CChartTheme,e.CChartThemeInfo=Or.CChartThemeInfo,e.CChartThemeRepresentInfo=Or.CChartThemeRepresentInfo,e.CChartType=Or.CChartType,e.CDotDensityTheme=Or.CDotDensityTheme,e.CFourColorTheme=Or.CFourColorTheme,e.CGraduatedSymbolTheme=Or.CGraduatedSymbolTheme,e.CLinInfo=Or.CLinInfo,e.CMultiClassTheme=Or.CMultiClassTheme,e.CPntInfo=Or.CPntInfo,e.CRandomTheme=Or.CRandomTheme,e.CRangeTheme=Or.CRangeTheme,e.CRangeThemeInfo=Or.CRangeThemeInfo,e.CRegInfo=Or.CRegInfo,e.CSimpleTheme=Or.CSimpleTheme,e.CTheme=Or.CTheme,e.CThemeInfo=Or.CThemeInfo,e.CUniqueTheme=Or.CUniqueTheme,e.CUniqueThemeInfo=Or.CUniqueThemeInfo,e.ExpInfo=Or.ExpInfo,e.FolderInfo=Or.FolderInfo,e.FolderInfoAttribute=Or.FolderInfoAttribute,e.ItemValue=Or.ItemValue,e.ThemeOper=Or.ThemeOper,e.ThemesInfo=Or.ThemesInfo},function(t,e,r){"use strict";r.r(e),r.d(e,"RADIUS",function(){return a}),r.d(e,"HALF_SIZE",function(){return s}),r.d(e,"EXTENT",function(){return l}),r.d(e,"WORLD_EXTENT",function(){return u}),r.d(e,"PROJECTIONS",function(){return h}),r.d(e,"fromEPSG4326",function(){return d}),r.d(e,"toEPSG4326",function(){return p});var i=r(14),n=r(88),o=r(47),a=6378137,s=Math.PI*a,l=[-s,-s,s,s],u=[-180,-85,180,85],c=function(t){function e(e){t.call(this,{code:e,units:o.default.METERS,extent:l,global:!0,worldExtent:u,getPointResolution:function(t,e){return t/Object(i.cosh)(e[1]/a)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default),h=[new c("EPSG:3857"),new c("EPSG:102100"),new c("EPSG:102113"),new c("EPSG:900913"),new c("urn:ogc:def:crs:EPSG:6.18:3:3857"),new c("urn:ogc:def:crs:EPSG::3857"),new c("http://www.opengis.net/gml/srs/epsg.xml#3857")];function d(t,e,r){var i=t.length,n=r>1?r:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(i));for(var l=s,u=0;u<i;u+=n){o[u]=l*t[u]/180;var c=a*Math.log(Math.tan(Math.PI*(t[u+1]+90)/360));c>l?c=l:c<-l&&(c=-l),o[u+1]=c}return o}function p(t,e,r){var i=t.length,n=r>1?r:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(i));for(var l=0;l<i;l+=n)o[l]=180*t[l]/s,o[l+1]=360*Math.atan(Math.exp(t[l+1]/a))/Math.PI-90;return o}},function(t,e,r){"use strict";r.r(e),r.d(e,"RADIUS",function(){return o}),r.d(e,"EXTENT",function(){return a}),r.d(e,"METERS_PER_UNIT",function(){return s}),r.d(e,"PROJECTIONS",function(){return u});var i=r(88),n=r(47),o=6378137,a=[-180,-90,180,90],s=Math.PI*o/180,l=function(t){function e(e,r){t.call(this,{code:e,units:n.default.DEGREES,extent:a,axisOrientation:r,global:!0,metersPerUnit:s,worldExtent:a})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default),u=[new l("CRS:84"),new l("EPSG:4326","neu"),new l("urn:ogc:def:crs:EPSG::4326","neu"),new l("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new l("urn:ogc:def:crs:OGC:1.3:CRS84"),new l("urn:ogc:def:crs:OGC:2:84"),new l("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new l("urn:x-ogc:def:crs:EPSG:4326","neu")]},function(t,e,r){"use strict";r.r(e),r.d(e,"clear",function(){return n}),r.d(e,"get",function(){return o}),r.d(e,"add",function(){return a});var i={};function n(){i={}}function o(t){return i[t]||null}function a(t,e){i[t]=e}},function(t,e,r){"use strict";function i(t,e,r,i){for(;e<r-i;){for(var n=0;n<i;++n){var o=t[e+n];t[e+n]=t[r-i+n],t[r-i+n]=o}e+=i,r-=i}}r.r(e),r.d(e,"coordinates",function(){return i})},function(t,e,r){"use strict";r.r(e),r.d(e,"greatCircleArc",function(){return a}),r.d(e,"meridian",function(){return s}),r.d(e,"parallel",function(){return l});var i=r(14),n=r(12);function o(t,e,r){for(var n,o,a,s,l,u,c=[],h=t(0),d=t(1),p=e(h),f=e(d),g=[d,h],y=[f,p],v=[1,0],m={},_=1e5;--_>0&&v.length>0;)a=v.pop(),h=g.pop(),p=y.pop(),(u=a.toString())in m||(c.push(p[0],p[1]),m[u]=!0),s=v.pop(),d=g.pop(),f=y.pop(),o=e(n=t(l=(a+s)/2)),Object(i.squaredSegmentDistance)(o[0],o[1],p[0],p[1],f[0],f[1])<r?(c.push(f[0],f[1]),m[u=s.toString()]=!0):(v.push(s,l,l,a),y.push(f,o,o,p),g.push(d,n,n,h));return c}function a(t,e,r,a,s,l){var u=Object(n.get)("EPSG:4326"),c=Math.cos(Object(i.toRadians)(e)),h=Math.sin(Object(i.toRadians)(e)),d=Math.cos(Object(i.toRadians)(a)),p=Math.sin(Object(i.toRadians)(a)),f=Math.cos(Object(i.toRadians)(r-t)),g=Math.sin(Object(i.toRadians)(r-t)),y=h*p+c*d*f;return o(function(e){if(1<=y)return[r,a];var n=e*Math.acos(y),o=Math.cos(n),s=Math.sin(n),l=g*d,u=c*p-h*d*f,v=Math.atan2(l,u),m=Math.asin(h*o+c*s*Math.cos(v)),_=Object(i.toRadians)(t)+Math.atan2(Math.sin(v)*s*c,o-h*Math.sin(m));return[Object(i.toDegrees)(_),Object(i.toDegrees)(m)]},Object(n.getTransform)(u,s),l)}function s(t,e,r,i,a){var s=Object(n.get)("EPSG:4326");return o(function(i){return[t,e+(r-e)*i]},Object(n.getTransform)(s,i),a)}function l(t,e,r,i,a){var s=Object(n.get)("EPSG:4326");return o(function(i){return[e+(r-e)*i,t]},Object(n.getTransform)(s,i),a)}},function(t,e,r){"use strict";r.r(e);var i=["","unavailable","touch","pen","mouse"];function n(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function u(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function h(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var d=function(t){function e(e){var r={MSPointerDown:n,MSPointerMove:o,MSPointerUp:a,MSPointerOut:s,MSPointerOver:l,MSPointerCancel:u,MSGotPointerCapture:h,MSLostPointerCapture:c};t.call(this,e,r),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=i[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(r(150).default);e.default=d},function(t,e,r){"use strict";function i(t){this.dispatcher.fireNativeEvent(t)}function n(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function s(t){this.dispatcher.fireNativeEvent(t)}function l(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}r.r(e);var h=function(t){function e(e){var r={pointerdown:i,pointermove:n,pointerup:o,pointerout:a,pointerover:s,pointercancel:l,gotpointercapture:c,lostpointercapture:u};t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(150).default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=!1,n=function(t){function e(e,r,n){t.call(this,e),this.originalEvent=r;var o=n||{};this.buttons=function(t){var e;if(t.buttons||i)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(o),this.pressure=function(t,e){var r=0;r=t.pressure?t.pressure:e?.5:0;return r}(o,this.buttons),this.bubbles="bubbles"in o&&o.bubbles,this.cancelable="cancelable"in o&&o.cancelable,this.view="view"in o?o.view:null,this.detail="detail"in o?o.detail:null,this.screenX="screenX"in o?o.screenX:0,this.screenY="screenY"in o?o.screenY:0,this.clientX="clientX"in o?o.clientX:0,this.clientY="clientY"in o?o.clientY:0,this.ctrlKey="ctrlKey"in o&&o.ctrlKey,this.altKey="altKey"in o&&o.altKey,this.shiftKey="shiftKey"in o&&o.shiftKey,this.metaKey="metaKey"in o&&o.metaKey,this.button="button"in o?o.button:0,this.relatedTarget="relatedTarget"in o?o.relatedTarget:null,this.pointerId="pointerId"in o?o.pointerId:0,this.width="width"in o?o.width:0,this.height="height"in o?o.height:0,this.tiltX="tiltX"in o?o.tiltX:0,this.tiltY="tiltY"in o?o.tiltY:0,this.pointerType="pointerType"in o?o.pointerType:"",this.hwTimestamp="hwTimestamp"in o?o.hwTimestamp:0,this.isPrimary="isPrimary"in o&&o.isPrimary,r.preventDefault&&(this.preventDefault=function(){r.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(21).default);!function(){try{var t=new MouseEvent("click",{buttons:1});i=1===t.buttons}catch(t){}}(),e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(150),o=r(201);function a(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function s(t){this.processTouches_(t,this.moveOverOut_)}function l(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function u(t){this.processTouches_(t,this.cancelOut_)}var c=function(t){function e(e,r){var i={touchstart:a,touchmove:s,touchend:l,touchcancel:u};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=r,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&o.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var r=this.dispatcher.cloneEvent(t,e);return r.pointerId=e.identifier+2,r.bubbles=!0,r.cancelable=!0,r.detail=this.clickCount_,r.button=0,r.buttons=1,r.width=e.radiusX||0,r.height=e.radiusY||0,r.pressure=e.force||.5,r.isPrimary=this.isPrimaryTouch_(e),r.pointerType="touch",r.clientX=e.clientX,r.clientY=e.clientY,r.screenX=e.screenX,r.screenY=e.screenY,r},e.prototype.processTouches_=function(t,e){var r=Array.prototype.slice.call(t.changedTouches),i=r.length;function n(){t.preventDefault()}for(var o=0;o<i;++o){var a=this.touchToPointer_(t,r[o]);a.preventDefault=n,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var r=t.length,i=0;i<r;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,r=Object.keys(this.pointerMap),i=r.length;if(i>=e.length){for(var n=[],a=0;a<i;++a){var s=Number(r[a]),l=this.pointerMap[s];s==o.POINTER_ID||this.findTouch_(e,s-2)||n.push(l.out)}for(var u=0;u<n.length;++u)this.cancelOut_(t,n[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var r=e,i=this.pointerMap[r.pointerId];if(i){var n=i.out,o=i.outTarget;this.dispatcher.move(r,t),n&&o!==r.target&&(n.relatedTarget=r.target,r.relatedTarget=o,n.target=o,r.target?(this.dispatcher.leaveOut(n,t),this.dispatcher.enterOver(r,t)):(r.target=o,r.relatedTarget=null,this.cancelOut_(t,r))),i.out=r,i.outTarget=r.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,r=t.changedTouches[0];if(this.isPrimaryTouch_(r)){var n=[r.clientX,r.clientY];e.push(n),setTimeout(function(){Object(i.remove)(e,n)},this.dedupTimeout_)}},e}(n.default);e.default=c},function(t,e,r){"use strict";r.r(e),r.d(e,"createExtent",function(){return n}),r.d(e,"none",function(){return o});var i=r(14);function n(t){return function(e){return e?[Object(i.clamp)(e[0],t[0],t[2]),Object(i.clamp)(e[1],t[1],t[3])]:void 0}}function o(t){return t}},function(t,e,r){"use strict";r.r(e),r.d(e,"createSnapToResolutions",function(){return o}),r.d(e,"createSnapToPower",function(){return a});var i=r(13),n=r(14);function o(t){return function(e,r,o){if(void 0!==e){var a=Object(i.linearFindNearest)(t,e,o);a=Object(n.clamp)(a+r,0,t.length-1);var s=Math.floor(a);if(a!=s&&s<t.length-1){var l=t[s]/t[s+1];return t[s]/Math.pow(l,a-s)}return t[s]}}}function a(t,e,r){return function(i,n,o){if(void 0!==i){var a=-o/2+.5,s=Math.floor(Math.log(e/i)/Math.log(t)+a),l=Math.max(s+n,0);return void 0!==r&&(l=Math.min(l,r)),e/Math.pow(t,l)}}}},function(t,e,r){"use strict";r.r(e);var i=r(98),n=r(27),o=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,r=this.element_.style;r.left=Math.min(t[0],e[0])+"px",r.top=Math.min(t[1],e[1])+"px",r.width=Math.abs(e[0]-t[0])+"px",r.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,r=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new n.default([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(i.default);e.default=o},function(t,e,r){"use strict";r.r(e),e.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(t,e,r){t.exports=function(){"use strict";function t(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(r,i,n,o,a){!function e(r,i,n,o,a){for(;o>n;){if(o-n>600){var s=o-n+1,l=i-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),d=Math.max(n,Math.floor(i-l*c/s+h)),p=Math.min(o,Math.floor(i+(s-l)*c/s+h));e(r,i,d,p,a)}var f=r[i],g=n,y=o;for(t(r,n,i),a(r[o],f)>0&&t(r,n,o);g<y;){for(t(r,g,y),g++,y--;a(r[g],f)<0;)g++;for(;a(r[y],f)>0;)y--}0===a(r[n],f)?t(r,n,y):t(r,++y,o),y<=i&&(n=y+1),i<=y&&(o=y-1)}}(r,i,n||0,o||r.length-1,a||e)}}()},function(t,e,r){"use strict";r.r(e),r.d(e,"drawTextOnPath",function(){return n});var i=r(14);function n(t,e,r,n,o,a,s,l){for(var u,c,h,d=[],p=t[e]>t[r-n],f=o.length,g=t[e],y=t[e+1],v=t[e+=n],m=t[e+1],_=0,O=Math.sqrt(Math.pow(v-g,2)+Math.pow(m-y,2)),b="",S=0,T=0;T<f;++T){c=p?f-T-1:T;var E=o.charAt(c),C=a(b=p?E+b:b+E)-S;S+=C;for(var x=s+C/2;e<r-n&&_+O<x;)g=v,y=m,v=t[e+=n],m=t[e+1],_+=O,O=Math.sqrt(Math.pow(v-g,2)+Math.pow(m-y,2));var j=x-_,P=Math.atan2(m-y,v-g);if(p&&(P+=P>0?-Math.PI:Math.PI),void 0!==h){var I=P-h;if(I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>l)return null}var R=j/O,L=Object(i.lerp)(g,v,R),w=Object(i.lerp)(y,m,R);h==P?(p&&(u[0]=L,u[1]=w,u[2]=C/2),u[4]=b):(S=C,u=[L,w,C/2,P,b=E],p?d.unshift(u):d.push(u),h=P),s+=C}return d}},function(t,e,r){"use strict";r.r(e);var i=r(130),n=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,i,n,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,r,i){return this.appendFlatCoordinates(t,e,r,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([i.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([i.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),n=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([i.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([i.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var r=t.getAnchor(),i=t.getSize(),n=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroup_=e,this.hitDetectionImage_=n,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(r(129).default);e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(130),n=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,i,n,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,r,n){var o=this.coordinates.length,a=this.appendFlatCoordinates(t,e,r,n,!1,!1),s=[i.default.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},e.prototype.drawLineString=function(t,e){var r=this.state,n=r.strokeStyle,o=r.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],i.beginPathInstruction);var a=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(a,0,a.length,s),this.hitDetectionInstructions.push(i.strokeInstruction),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var r=this.state,n=r.strokeStyle,o=r.lineWidth;if(void 0!==n&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],i.beginPathInstruction);for(var a=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride(),u=0,c=0,h=a.length;c<h;++c)u=this.drawFlatCoordinates_(s,u,a[c],l);this.hitDetectionInstructions.push(i.strokeInstruction),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(i.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(i.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(i.beginPathInstruction)},e}(r(129).default);e.default=n},function(t,e,r){"use strict";r.r(e);var i=r(54),n=r(99),o=r(63),a=r(130),s=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,i,n,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,r,i){var n=this.state,o=void 0!==n.fillStyle,s=void 0!=n.strokeStyle,l=r.length;this.instructions.push(a.beginPathInstruction),this.hitDetectionInstructions.push(a.beginPathInstruction);for(var u=0;u<l;++u){var c=r[u],h=this.coordinates.length,d=this.appendFlatCoordinates(t,e,c,i,!0,!s),p=[a.default.MOVE_TO_LINE_TO,h,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(a.closePathInstruction),this.hitDetectionInstructions.push(a.closePathInstruction)),e=c}return o&&(this.instructions.push(a.fillInstruction),this.hitDetectionInstructions.push(a.fillInstruction)),s&&(this.instructions.push(a.strokeInstruction),this.hitDetectionInstructions.push(a.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var r=this.state,n=r.fillStyle,s=r.strokeStyle;if(void 0!==n||void 0!==s){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,Object(i.asString)(o.defaultFillStyle)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var l=t.getFlatCoordinates(),u=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(l,0,l.length,u,!1,!1);var h=[a.default.CIRCLE,c];this.instructions.push(a.beginPathInstruction,h),this.hitDetectionInstructions.push(a.beginPathInstruction,h),this.hitDetectionInstructions.push(a.fillInstruction),void 0!==r.fillStyle&&this.instructions.push(a.fillInstruction),void 0!==r.strokeStyle&&(this.instructions.push(a.strokeInstruction),this.hitDetectionInstructions.push(a.strokeInstruction)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var r=this.state,n=r.fillStyle,s=r.strokeStyle;if(void 0!==n||void 0!==s){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,Object(i.asString)(o.defaultFillStyle)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var l=t.getEnds(),u=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(u,0,l,c),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var r=this.state,n=r.fillStyle,s=r.strokeStyle;if(void 0!==n||void 0!==s){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,Object(i.asString)(o.defaultFillStyle)]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var l=t.getEndss(),u=t.getOrientedFlatCoordinates(),c=t.getStride(),h=0,d=0,p=l.length;d<p;++d)h=this.drawFlatCoordinatess_(u,h,l[d],c);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,r=0,i=e.length;r<i;++r)e[r]=Object(n.snap)(e[r],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(r(129).default);e.default=s},function(t,e,r){"use strict";r.r(e),r.d(e,"measureTextWidths",function(){return y});var i=r(7),n=r(104),o=r(18),a=r(1),s=r(439),l=r(16),u=r(38),c=r(63),h=r(130),d=r(129),p=r(106),f=r(280),g=function(t){function e(e,r,i,n,o,a){t.call(this,e,r,i,n,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},c.labelCache.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var r=this.textFillState_,i=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(r||i)){var o,u,c=this.coordinates.length,h=t.getType(),d=null,p=2,g=2;if(n.placement===f.default.LINE){if(!Object(a.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var y;if(d=t.getFlatCoordinates(),g=t.getStride(),h==l.default.LINE_STRING)y=[d.length];else if(h==l.default.MULTI_LINE_STRING)y=t.getEnds();else if(h==l.default.POLYGON)y=t.getEnds().slice(0,1);else if(h==l.default.MULTI_POLYGON){var v=t.getEndss();for(y=[],o=0,u=v.length;o<u;++o)y.push(v[o][0])}this.beginGeometry(t,e);for(var m,_=n.textAlign,O=0,b=0,S=y.length;b<S;++b){if(void 0==_){var T=Object(s.matchingChunk)(n.maxAngle,d,O,y[b],g);O=T[0],m=T[1]}else m=y[b];for(o=O;o<m;o+=g)this.coordinates.push(d[o],d[o+1]);p=this.coordinates.length,O=y[b],this.drawChars_(c,p,this.declutterGroup_),c=p}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),C=E.width/this.pixelRatio;switch(h){case l.default.POINT:case l.default.MULTI_POINT:p=(d=t.getFlatCoordinates()).length;break;case l.default.LINE_STRING:d=t.getFlatMidpoint();break;case l.default.CIRCLE:d=t.getCenter();break;case l.default.MULTI_LINE_STRING:p=(d=t.getFlatMidpoints()).length;break;case l.default.POLYGON:if(d=t.getFlatInteriorPoint(),!n.overflow&&d[2]/this.resolution<C)return;g=3;break;case l.default.MULTI_POLYGON:var x=t.getFlatInteriorPoints();for(d=[],o=0,u=x.length;o<u;o+=3)(n.overflow||x[o+2]/this.resolution>=C)&&d.push(x[o],x[o+1]);if(0==(p=d.length))return}p=this.appendFlatCoordinates(d,0,p,g,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(E,c,p),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,r,i){var n,a=i+e+t+r+this.pixelRatio;if(!c.labelCache.containsKey(a)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,l=r?this.fillStates[r]||this.textFillState_:null,h=this.textStates[e]||this.textState_,d=this.pixelRatio,f=h.scale*d,g=p.TEXT_ALIGN[h.textAlign||c.defaultTextAlign],v=i&&s.lineWidth?s.lineWidth:0,m=t.split("\n"),_=m.length,O=[],b=y(h.font,m,O),S=Object(c.measureTextHeight)(h.font),T=S*_,E=b+v,C=Object(o.createCanvasContext2D)(Math.ceil(E*f),Math.ceil((T+v)*f));n=C.canvas,c.labelCache.set(a,n),1!=f&&C.scale(f,f),C.font=h.font,i&&(C.strokeStyle=s.strokeStyle,C.lineWidth=v,C.lineCap=s.lineCap,C.lineJoin=s.lineJoin,C.miterLimit=s.miterLimit,u.CANVAS_LINE_DASH&&s.lineDash.length&&(C.setLineDash(s.lineDash),C.lineDashOffset=s.lineDashOffset)),r&&(C.fillStyle=l.fillStyle),C.textBaseline="middle",C.textAlign="center";var x,j=.5-g,P=g*n.width/f+j*v;if(i)for(x=0;x<_;++x)C.strokeText(m[x],P+j*O[x],.5*(v+S)+x*S);if(r)for(x=0;x<_;++x)C.fillText(m[x],P+j*O[x],.5*(v+S)+x*S)}return c.labelCache.get(a)},e.prototype.drawTextImage_=function(t,e,r){var i=this.textState_,n=this.textStrokeState_,o=this.pixelRatio,a=p.TEXT_ALIGN[i.textAlign||c.defaultTextAlign],s=p.TEXT_ALIGN[i.textBaseline],l=n&&n.lineWidth?n.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,d=s*t.height/o+2*(.5-s)*l;this.instructions.push([h.default.DRAW_IMAGE,e,r,t,(u-this.textOffsetX_)*o,(d-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==c.defaultPadding?c.defaultPadding:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([h.default.DRAW_IMAGE,e,r,t,(u-this.textOffsetX_)*o,(d-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,r){var i=this.textStrokeState_,n=this.textState_,o=this.textFillState_,a=this.strokeKey_;i&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:n.font,textAlign:n.textAlign||c.defaultTextAlign,scale:n.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,d=p.TEXT_ALIGN[n.textBaseline],f=this.textOffsetY_*u,g=this.text_,y=n.font,v=n.scale,m=i?i.lineWidth*v/2:0,_=this.widths_[y];_||(this.widths_[y]=_={}),this.instructions.push([h.default.DRAW_CHARS,t,e,d,r,n.overflow,l,n.maxAngle,function(t){var e=_[t];return e||(e=_[t]=Object(c.measureTextWidth)(y,t)),e*v*u},f,a,m*u,g,s,1]),this.hitDetectionInstructions.push([h.default.DRAW_CHARS,t,e,d,r,n.overflow,l,n.maxAngle,function(t){var e=_[t];return e||(e=_[t]=Object(c.measureTextWidth)(y,t)),e*v},f,a,m,g,s,1/u])},e.prototype.setTextStyle=function(t,e){var r,o,a;if(t){this.declutterGroup_=e;var s=t.getFill();s?((o=this.textFillState_)||(o=this.textFillState_={}),o.fillStyle=Object(n.asColorLike)(s.getColor()||c.defaultFillStyle)):o=this.textFillState_=null;var l=t.getStroke();if(l){(a=this.textStrokeState_)||(a=this.textStrokeState_={});var u=l.getLineDash(),h=l.getLineDashOffset(),d=l.getWidth(),p=l.getMiterLimit();a.lineCap=l.getLineCap()||c.defaultLineCap,a.lineDash=u?u.slice():c.defaultLineDash,a.lineDashOffset=void 0===h?c.defaultLineDashOffset:h,a.lineJoin=l.getLineJoin()||c.defaultLineJoin,a.lineWidth=void 0===d?c.defaultLineWidth:d,a.miterLimit=void 0===p?c.defaultMiterLimit:p,a.strokeStyle=Object(n.asColorLike)(l.getColor()||c.defaultStrokeStyle)}else a=this.textStrokeState_=null;r=this.textState_;var f=t.getFont()||c.defaultFont;Object(c.checkFont)(f);var g=t.getScale();r.overflow=t.getOverflow(),r.font=f,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||c.defaultTextBaseline,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||c.defaultPadding,r.scale=void 0===g?1:g;var y=t.getOffsetX(),v=t.getOffsetY(),m=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===y?0:y,this.textOffsetY_=void 0===v?0:v,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===_?0:_,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:Object(i.getUid)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+Object(i.getUid)(o.fillStyle):""}else this.text_=""},e}(d.default);function y(t,e,r){for(var i=e.length,n=0,o=0;o<i;++o){var a=Object(c.measureTextWidth)(t,e[o]);n=Math.max(n,a),r.push(a)}return n}e.default=g},function(t,e,r){"use strict";function i(t,e,r,i,n){var o,a,s,l,u,c,h,d,p,f=r,g=r,y=0,v=0,m=r;for(o=r;o<i;o+=n){var _=e[o],O=e[o+1];void 0!==l&&(d=_-l,p=O-u,s=Math.sqrt(d*d+p*p),void 0!==c&&(v+=a,Math.acos((c*d+h*p)/(a*s))>t&&(v>y&&(y=v,f=m,g=o),v=0,m=o-n)),a=s,c=d,h=p),l=_,u=O}return(v+=s)>y?[m,o]:[f,g]}r.r(e),r.d(e,"matchingChunk",function(){return i})},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(13),o=r(54),a=r(1),s=r(9),l=r(67),u=r(441),c=r(442),h=r(175),d=r(176),p=r(17),f=r(90),g=function(t){function e(e,r){t.call(this,e,r),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,r,i){var n,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(n=e,o=r;n<o;n+=i)this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},e.prototype.drawCircle=function(t,e){var r=t.getRadius(),i=t.getStride();if(r){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=r;var n=t.getFlatCoordinates();n=Object(l.translate)(n,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(n,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},e.prototype.finish=function(t){this.verticesBuffer=new f.default(this.vertices),this.indicesBuffer=new f.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,r=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(r)}},e.prototype.setUpProgram=function(t,e,r,i){var n,o=e.getProgram(u.fragment,u.vertex);return this.defaultLocations_?n=this.defaultLocations_:(n=new c.default(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,p.FLOAT,!1,16,0),t.enableVertexAttribArray(n.a_instruction),t.vertexAttribPointer(n.a_instruction,1,p.FLOAT,!1,16,8),t.enableVertexAttribArray(n.a_radius),t.vertexAttribPointer(n.a_radius,1,p.FLOAT,!1,16,12),t.uniform2fv(n.u_size,r),t.uniform1f(n.u_pixelRatio,i),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},e.prototype.drawReplay=function(t,e,r,i){var n,o,a,l;if(Object(s.isEmpty)(r))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],l=this.styles_[n],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,r)},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,r,n,o){var s,l,u,c,h,d,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],s=this.styleIndices_.length-1;s>=0;--s)for(c=this.styles_[s],this.setFillStyle_(t,c[0]),this.setStrokeStyle_(t,c[1],c[2]),h=this.styleIndices_[s];p>=0&&this.startIndices[p]>=h;){if(l=this.startIndices[p],d=this.startIndicesFeature[p],void 0===r[Object(i.getUid)(d)]&&d.getGeometry()&&(void 0===o||Object(a.intersects)(o,d.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var f=n(d);if(f)return f}p--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,r){var n,o,a,s,l,u,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),l=this.styleIndices_[n];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],r[Object(i.getUid)(u)]&&(o!==a&&this.drawElements(t,e,o,a),a=h),c--,o=h;o!==a&&this.drawElements(t,e,o,a),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},e.prototype.setStrokeStyle_=function(t,e,r){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,r)},e.prototype.setFillStrokeStyle=function(t,e){var r,i;if(e){var a=e.getLineDash();this.state_.lineDash=a||d.DEFAULT_LINEDASH;var s=e.getLineDashOffset();this.state_.lineDashOffset=s||d.DEFAULT_LINEDASHOFFSET,r=(r=e.getColor())instanceof CanvasGradient||r instanceof CanvasPattern?d.DEFAULT_STROKESTYLE:Object(o.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||d.DEFAULT_STROKESTYLE,i=void 0!==(i=e.getWidth())?i:d.DEFAULT_LINEWIDTH}else r=[0,0,0,0],i=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?d.DEFAULT_FILLSTYLE:Object(o.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||d.DEFAULT_FILLSTYLE,this.state_.strokeColor&&Object(n.equals)(this.state_.strokeColor,r)&&this.state_.fillColor&&Object(n.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===i||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=r,this.state_.lineWidth=i,this.styles_.push([l,r,i]))},e}(h.default);e.default=g},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),s=new o.default(i.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,i.DEBUG?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,i.DEBUG?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"p"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,i.DEBUG?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,i.DEBUG?"a_radius":"g")}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(307),o=r(90),a=function(t){function e(e,r){t.call(this,e,r),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var r=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(r,0,r.length,i)},e.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var r=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(r,0,r.length,i)},e.prototype.finish=function(e){var r=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new o.default(this.vertices);var i=this.indices;this.indicesBuffer=new o.default(i);var n={};this.createTextures(this.textures_,this.images_,n,r),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,n,r),this.images_=null,this.hitDetectionImages_=null,t.prototype.finish.call(this,e)},e.prototype.setImageStyle=function(t){var e,r=t.getAnchor(),n=t.getImage(1),o=t.getImageSize(),a=t.getHitDetectionImage(1),s=t.getOpacity(),l=t.getOrigin(),u=t.getRotateWithView(),c=t.getRotation(),h=t.getSize(),d=t.getScale();0===this.images_.length?this.images_.push(n):(e=this.images_[this.images_.length-1],Object(i.getUid)(e)!=Object(i.getUid)(n)&&(this.groupIndices.push(this.indices.length),this.images_.push(n))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(a):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],Object(i.getUid)(e)!=Object(i.getUid)(a)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(a))),this.anchorX=r[0],this.anchorY=r[1],this.height=h[1],this.imageHeight=o[1],this.imageWidth=o[0],this.opacity=s,this.originX=l[0],this.originY=l[1],this.rotation=c,this.rotateWithView=u,this.scale=d,this.width=h[0]},e.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},e.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},e}(n.default);e.default=a},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),s=new o.default(i.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,i.DEBUG?"u_image":"l"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,i.DEBUG?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,i.DEBUG?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,i.DEBUG?"a_rotateWithView":"g")}},function(t,e,r){"use strict";r.r(e),r.d(e,"lineStringIsClosed",function(){return n});var i=r(144);function n(t,e,r,n){var o=r-n;return t[e]===t[o]&&t[e+1]===t[o+1]&&(r-e)/n>3&&!!Object(i.linearRing)(t,e,r,n)}},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),s=new o.default(i.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,i.DEBUG?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"n"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,i.DEBUG?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,i.DEBUG?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,i.DEBUG?"a_direction":"g")}},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(13),o=r(54),a=r(1),s=r(9),l=r(116),u=r(100),c=r(67),h=r(450),d=r(451),p=r(309),f=r(175),g=r(176),y=r(102),v=r(452),m=r(124),_=r(17),O=r(90),b=function(t){function e(e,r){t.call(this,e,r),this.lineStringReplay=new p.default(e,r),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,r){var i=new v.default,n=new m.default;this.processFlatCoordinates_(t,r,i,n,!0);var o=this.getMaxCoords_(i);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new v.default,maxCoords:void 0,rtree:new m.default};l.push(u),this.processFlatCoordinates_(e[a],r,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<l.length;++a){var c=l[a].list,h=c.firstItem(),d=h,p=void 0;do{if(this.getIntersections_(d,n).length){p=!0;break}d=c.nextItem()}while(h!==d);p||this.bridgeHole_(c,l[a].maxCoords[0],i,o[0],n)&&(n.concat(l[a].rtree),this.classifyPoints_(i,n,!1))}}else this.classifyPoints_(i,n,!1);this.triangulate_(i,n)},e.prototype.processFlatCoordinates_=function(t,e,r,i,n){var o,a,s,l,c,h=Object(u.linearRingIsClockwise)(t,0,t.length,e),d=this.vertices.length/2,p=[],f=[];if(n===h){for(l=s=this.createPoint_(t[0],t[1],d++),o=e,a=t.length;o<a;o+=e)c=this.createPoint_(t[o],t[o+1],d++),f.push(this.insertItem_(l,c,r)),p.push([Math.min(l.x,c.x),Math.min(l.y,c.y),Math.max(l.x,c.x),Math.max(l.y,c.y)]),l=c;f.push(this.insertItem_(c,s,r)),p.push([Math.min(l.x,c.x),Math.min(l.y,c.y),Math.max(l.x,c.x),Math.max(l.y,c.y)])}else{var g=t.length-e;for(l=s=this.createPoint_(t[g],t[g+1],d++),o=g-e,a=0;o>=a;o-=e)c=this.createPoint_(t[o],t[o+1],d++),f.push(this.insertItem_(l,c,r)),p.push([Math.min(l.x,c.x),Math.min(l.y,c.y),Math.max(l.x,c.x),Math.max(l.y,c.y)]),l=c;f.push(this.insertItem_(c,s,r)),p.push([Math.min(l.x,c.x),Math.min(l.y,c.y),Math.max(l.x,c.x),Math.max(l.y,c.y)])}i.load(p,f)},e.prototype.getMaxCoords_=function(t){var e=t.firstItem(),r=e,i=[r.p0.x,r.p0.y];do{(r=t.nextItem()).p0.x>i[0]&&(i=[r.p0.x,r.p0.y])}while(r!==e);return i},e.prototype.classifyPoints_=function(t,e,r){var i=t.firstItem(),n=i,o=t.nextItem(),a=!1;do{var s=r?Object(g.triangleIsCounterClockwise)(o.p1.x,o.p1.y,n.p1.x,n.p1.y,n.p0.x,n.p0.y):Object(g.triangleIsCounterClockwise)(n.p0.x,n.p0.y,n.p1.x,n.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(n,o,t,e),a=!0,o===i&&(i=t.getNextItem()),o=n,t.prevItem()):n.p1.reflex!==s&&(n.p1.reflex=s,a=!0),n=o,o=t.nextItem()}while(n!==i);return a},e.prototype.bridgeHole_=function(t,e,r,i,n){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,h={x:i,y:c.y,i:-1},d=1/0,p=this.getIntersections_({p0:c,p1:h},n,!0);for(a=0,s=p.length;a<s;++a){var f=p[a],y=this.calculateIntersection_(c,h,f.p0,f.p1,!0),v=Math.abs(c.x-y[0]);v<d&&void 0!==Object(g.triangleIsCounterClockwise)(c.x,c.y,f.p0.x,f.p0.y,f.p1.x,f.p1.y)&&(d=v,u={x:y[0],y:y[1],i:-1},o=f)}if(d===1/0)return!1;if(l=o.p1,d>0){var m=this.getPointsInTriangle_(c,u,o.p1,n);if(m.length){var _=1/0;for(a=0,s=m.length;a<s;++a){var O=m[a],b=Math.atan2(c.y-O.y,h.x-O.x);(b<_||b===_&&O.x<l.x)&&(_=b,l=O)}}}for(o=r.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=r.nextItem();var S={x:c.x,y:c.y,i:c.i,reflex:void 0},T={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=S,this.insertItem_(c,o.p1,t,n),this.insertItem_(T,S,t,n),o.p1=T,t.setFirstItem(),r.concat(t),!0},e.prototype.triangulate_=function(t,e){for(var r=!1,i=this.isSimple_(t,e);t.getLength()>3;)if(i){if(!this.clipEars_(t,e,i,r)&&!this.classifyPoints_(t,e,r)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,i,r)&&!this.classifyPoints_(t,e,r)&&!this.resolveSelfIntersections_(t,e)){if(!(i=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}r=!this.isClockwise_(t),this.classifyPoints_(t,e,r)}if(3===t.getLength()){var n=this.indices.length;this.indices[n++]=t.getPrevItem().p0.i,this.indices[n++]=t.getCurrItem().p0.i,this.indices[n++]=t.getNextItem().p0.i}},e.prototype.clipEars_=function(t,e,r,i){var n,o,a,s=this.indices.length,l=t.firstItem(),c=t.getPrevItem(),h=l,d=t.nextItem(),p=t.getNextItem(),f=!1;do{if(n=h.p0,o=h.p1,a=d.p1,!1===o.reflex){var g=void 0;g=r?0===this.getPointsInTriangle_(n,o,a,e,!0).length:i?this.diagonalIsInside_(p.p1,a,o,n,c.p0):this.diagonalIsInside_(c.p0,n,o,a,p.p1),(r||0===this.getIntersections_({p0:n,p1:a},e).length)&&g&&(r||!1===n.reflex||!1===a.reflex||Object(u.linearRingIsClockwise)([c.p0.x,c.p0.y,n.x,n.y,o.x,o.y,a.x,a.y,p.p1.x,p.p1.y],0,10,2)===!i)&&(this.indices[s++]=n.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(h,d,t,e),d===l&&(l=p),f=!0)}c=t.getPrevItem(),h=t.getCurrItem(),d=t.nextItem(),p=t.getNextItem()}while(h!==l&&t.getLength()>3);return f},e.prototype.resolveSelfIntersections_=function(t,e,r){var i=t.firstItem();t.nextItem();var n=i,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(n.p0,n.p1,o.p0,o.p1,r);if(s){var l=!1,u=this.vertices.length,c=this.indices.length,h=u/2,d=t.prevItem();t.removeItem(),e.remove(d),l=d===i;var p=void 0;if(r?(s[0]===n.p0.x&&s[1]===n.p0.y?(t.prevItem(),p=n.p0,o.p0=p,e.remove(n),l=l||n===i):(p=o.p1,n.p1=p,e.remove(o),l=l||o===i),t.removeItem()):(p=this.createPoint_(s[0],s[1],h),n.p1=p,o.p0=p,e.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[c++]=d.p0.i,this.indices[c++]=d.p1.i,this.indices[c++]=p.i,a=!0,l)break}n=t.getPrevItem(),o=t.nextItem()}while(n!==i);return a},e.prototype.isSimple_=function(t,e){var r=t.firstItem(),i=r;do{if(this.getIntersections_(i,e).length)return!1;i=t.nextItem()}while(i!==r);return!0},e.prototype.isClockwise_=function(t){var e=2*t.getLength(),r=new Array(e),i=t.firstItem(),n=i,o=0;do{r[o++]=n.p0.x,r[o++]=n.p0.y,n=t.nextItem()}while(n!==i);return Object(u.linearRingIsClockwise)(r,0,e,2)},e.prototype.splitPolygon_=function(t,e){var r=t.firstItem(),i=r;do{var n=this.getIntersections_(i,e);if(n.length){var o=n[0],a=this.vertices.length/2,s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new v.default,c=new m.default;this.insertItem_(l,i.p1,u,c),i.p1=l,e.update([Math.min(i.p0.x,l.x),Math.min(i.p0.y,l.y),Math.max(i.p0.x,l.x),Math.max(i.p0.y,l.y)],i);for(var h=t.nextItem();h!==o;)this.insertItem_(h.p0,h.p1,u,c),e.remove(h),t.removeItem(),h=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}i=t.nextItem()}while(i!==r)},e.prototype.createPoint_=function(t,e,r){var i=this.vertices.length;return this.vertices[i++]=t,this.vertices[i++]=e,{x:t,y:e,i:r,reflex:void 0}},e.prototype.insertItem_=function(t,e,r,i){var n={p0:t,p1:e};return r.insertItem(n),i&&i.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],n),n},e.prototype.removeItem_=function(t,e,r,i){r.getCurrItem()===e&&(r.removeItem(),t.p1=e.p1,i.remove(e),i.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},e.prototype.getPointsInTriangle_=function(t,e,r,i,n){for(var o=[],a=i.getInExtent([Math.min(t.x,e.x,r.x),Math.min(t.y,e.y,r.y),Math.max(t.x,e.x,r.x),Math.max(t.y,e.y,r.y)]),s=0,u=a.length;s<u;++s)for(var c in a[s]){var h=a[s][c];"object"!=typeof h||n&&!h.reflex||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===r.x&&h.y===r.y||-1!==o.indexOf(h)||!Object(l.linearRingContainsXY)([t.x,t.y,e.x,e.y,r.x,r.y],0,6,2,h.x,h.y)||o.push(h)}return o},e.prototype.getIntersections_=function(t,e,r){for(var i=t.p0,n=t.p1,o=e.getInExtent([Math.min(i.x,n.x),Math.min(i.y,n.y),Math.max(i.x,n.x),Math.max(i.y,n.y)]),a=[],s=0,l=o.length;s<l;++s){var u=o[s];t!==u&&(r||u.p0!==n||u.p1!==i)&&this.calculateIntersection_(i,n,u.p0,u.p1,r)&&a.push(u)}return a},e.prototype.calculateIntersection_=function(t,e,r,i,n){var o=(i.y-r.y)*(e.x-t.x)-(i.x-r.x)*(e.y-t.y);if(0!==o){var a=((i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x))/o,s=((e.x-t.x)*(t.y-r.y)-(e.y-t.y)*(t.x-r.x))/o;if(!n&&a>g.EPSILON&&a<1-g.EPSILON&&s>g.EPSILON&&s<1-g.EPSILON||n&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},e.prototype.diagonalIsInside_=function(t,e,r,i,n){if(void 0===e.reflex||void 0===i.reflex)return!1;var o=(r.x-i.x)*(e.y-i.y)>(r.y-i.y)*(e.x-i.x),a=(n.x-i.x)*(e.y-i.y)<(n.y-i.y)*(e.x-i.x),s=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),l=(r.x-e.x)*(i.y-e.y)<(r.y-e.y)*(i.x-e.x),u=i.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},e.prototype.drawMultiPolygon=function(t,e){var r,i,n,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),h=t.getFlatCoordinates(),d=0;for(r=0,i=a.length;r<i;++r){var p=a[r];if(p.length>0){var f=Object(c.translate)(h,d,p[0],s,-this.origin[0],-this.origin[1]);if(f.length){var g=[],y=void 0;for(n=1,o=p.length;n<o;++n)p[n]!==p[n-1]&&(y=Object(c.translate)(h,p[n-1],p[n],s,-this.origin[0],-this.origin[1]),g.push(y));this.lineStringReplay.drawPolygonCoordinates(f,g,s),this.drawCoordinates_(f,g,s)}}d=p[p.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},e.prototype.drawPolygon=function(t,e){var r=t.getEnds(),i=t.getStride();if(r.length>0){var n=t.getFlatCoordinates().map(Number),o=Object(c.translate)(n,0,r[0],i,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=r.length;a<s;++a)r[a]!==r[a-1]&&(l=Object(c.translate)(n,r[a-1],r[a],i,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,i),this.drawCoordinates_(o,u,i)}}},e.prototype.finish=function(t){this.verticesBuffer=new O.default(this.vertices),this.indicesBuffer=new O.default(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,r=this.indicesBuffer,i=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(r),i()}},e.prototype.setUpProgram=function(t,e,r,i){var n,o=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?n=this.defaultLocations_:(n=new d.default(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,_.FLOAT,!1,8,0),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},e.prototype.drawReplay=function(t,e,r,i){var n,o,a,l,u=t.getParameter(t.DEPTH_FUNC),c=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Object(s.isEmpty)(r))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],l=this.styles_[n],this.setFillStyle_(t,l),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,r);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(c),t.depthFunc(u))},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,r,n,o){var s,l,u,c,h,d,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],s=this.styleIndices_.length-1;s>=0;--s)for(c=this.styles_[s],this.setFillStyle_(t,c),h=this.styleIndices_[s];p>=0&&this.startIndices[p]>=h;){if(l=this.startIndices[p],d=this.startIndicesFeature[p],void 0===r[Object(i.getUid)(d)]&&d.getGeometry()&&(void 0===o||Object(a.intersects)(o,d.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var f=n(d);if(f)return f}p--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,r){var n,o,a,s,l,u,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],n=this.styleIndices_.length-1;n>=0;--n){for(s=this.styles_[n],this.setFillStyle_(t,s),l=this.styleIndices_[n];c>=0&&this.startIndices[c]>=l;)h=this.startIndices[c],u=this.startIndicesFeature[c],r[Object(i.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),c--,o=h;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},e.prototype.setFillStrokeStyle=function(t,e){var r=t?t.getColor():[0,0,0,0];if(r=r instanceof CanvasGradient||r instanceof CanvasPattern?g.DEFAULT_FILLSTYLE:Object(o.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||g.DEFAULT_FILLSTYLE,this.state_.fillColor&&Object(n.equals)(r,this.state_.fillColor)||(this.state_.fillColor=r,this.state_.changed=!0,this.styles_.push(r)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var i=new y.default({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,i)}},e}(f.default);e.default=b},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),s=new o.default(i.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"a")}},function(t,e,r){"use strict";r.r(e);var i=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};i.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},r=this.head_;if(r){var i=r.next;e.prev=r,e.next=i,r.next=e,i&&(i.prev=e),r===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},i.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),this.head_=e||r,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=r?this.head_.prev:this.head_),this.length_--}},i.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},i.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},i.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},i.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},i.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},i.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},i.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},i.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},i.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},i.prototype.getLength=function(){return this.length_},e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(104),o=r(18),a=r(16),s=r(38),l=r(106),u=r(176),c=r(307),h=r(310),d=r(90),p=function(t){function e(e,r){t.call(this,e,r),this.images_=[],this.textures_=[],this.measureCanvas_=Object(o.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){if(this.text_){var r=null,n=2,o=2;switch(t.getType()){case a.default.POINT:case a.default.MULTI_POINT:n=(r=t.getFlatCoordinates()).length,o=t.getStride();break;case a.default.CIRCLE:r=t.getCenter();break;case a.default.LINE_STRING:r=t.getFlatMidpoint();break;case a.default.MULTI_LINE_STRING:n=(r=t.getFlatMidpoints()).length;break;case a.default.POLYGON:r=t.getFlatInteriorPoint();break;case a.default.MULTI_POLYGON:n=(r=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var s,l,u,c,h,d,p,f,g=this.currAtlas_,y=this.text_.split("\n"),v=this.getTextSize_(y),m=Math.round(v[0]*this.textAlign_-this.offsetX_),_=Math.round(v[1]*this.textBaseline_-this.offsetY_),O=this.state_.lineWidth/2*this.state_.scale;for(s=0,l=y.length;s<l;++s)for(h=0,d=g.height*s,u=0,c=(p=y[s].split("")).length;u<c;++u){if(f=g.atlas.getInfo(p[u])){var b=f.image;if(this.anchorX=m-h,this.anchorY=_-d,this.originX=0===u?f.offsetX-O:f.offsetX,this.originY=f.offsetY,this.height=g.height,this.width=0===u||u===p.length-1?g.width[p[u]]+O:g.width[p[u]],this.imageHeight=b.height,this.imageWidth=b.width,0===this.images_.length)this.images_.push(b);else{var S=this.images_[this.images_.length-1];Object(i.getUid)(S)!=Object(i.getUid)(b)&&(this.groupIndices.push(this.indices.length),this.images_.push(b))}this.drawText_(r,0,n,o)}h+=this.width}}},e.prototype.getTextSize_=function(t){var e=this,r=this.currAtlas_,i=t.length*r.height;return[t.map(function(t){for(var i=0,n=0,o=t.length;n<o;++n){var a=t[n];r.width[a]||e.addCharToAtlas_(a),i+=r.width[a]?r.width[a]:0}return i}).reduce(function(t,e){return Math.max(t,e)}),i]},e.prototype.drawText_=function(t,e,r,i){for(var n=e,o=r;n<o;n+=i)this.drawCoordinates(t,e,r,i)},e.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,r=this.state_,i=this.measureCanvas_.getContext("2d");i.font=r.font;var n=Math.ceil(i.measureText(t).width*r.scale);e.atlas.add(t,n,e.height,function(e,i,n){e.font=r.font,e.fillStyle=r.fillColor,e.strokeStyle=r.strokeColor,e.lineWidth=r.lineWidth,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.miterLimit=r.miterLimit,e.textAlign="left",e.textBaseline="top",s.CANVAS_LINE_DASH&&r.lineDash&&(e.setLineDash(r.lineDash),e.lineDashOffset=r.lineDashOffset),1!==r.scale&&e.setTransform(r.scale,0,0,r.scale,0,0),r.strokeColor&&e.strokeText(t,i,n),r.fillColor&&e.fillText(t,i,n)})&&(e.width[t]=n)}},e.prototype.finish=function(e){var r=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new d.default(this.vertices),this.indicesBuffer=new d.default(this.indices);this.createTextures(this.textures_,this.images_,{},r),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,t.prototype.finish.call(this,e)},e.prototype.setTextStyle=function(t){var e=this.state_,r=t.getFill(),i=t.getStroke();if(t&&t.getText()&&(r||i)){if(r){var o=r.getColor();e.fillColor=Object(n.asColorLike)(o||u.DEFAULT_FILLSTYLE)}else e.fillColor=null;if(i){var a=i.getColor();e.strokeColor=Object(n.asColorLike)(a||u.DEFAULT_STROKESTYLE),e.lineWidth=i.getWidth()||u.DEFAULT_LINEWIDTH,e.lineCap=i.getLineCap()||u.DEFAULT_LINECAP,e.lineDashOffset=i.getLineDashOffset()||u.DEFAULT_LINEDASHOFFSET,e.lineJoin=i.getLineJoin()||u.DEFAULT_LINEJOIN,e.miterLimit=i.getMiterLimit()||u.DEFAULT_MITERLIMIT;var s=i.getLineDash();e.lineDash=s?s.slice():u.DEFAULT_LINEDASH}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||u.DEFAULT_FONT,e.scale=t.getScale()||1,this.text_=t.getText();var c=l.TEXT_ALIGN[t.getTextAlign()],h=l.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===c?u.DEFAULT_TEXTALIGN:c,this.textBaseline_=void 0===h?u.DEFAULT_TEXTBASELINE:h,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},e.prototype.getAtlas_=function(t){var e=[];for(var r in t)(t[r]||0===t[r])&&(Array.isArray(t[r])?e=e.concat(t[r]):e.push(t[r]));var i=this.calculateHash_(e);if(!this.atlases_[i]){var n=this.measureCanvas_.getContext("2d");n.font=t.font;var o=Math.ceil((1.5*n.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[i]={atlas:new h.default({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[i]},e.prototype.calculateHash_=function(t){for(var e="",r=0,i=t.length;r<i;++r)e+=t[r];return e},e.prototype.getTextures=function(t){return this.textures_},e.prototype.getHitDetectionTextures=function(){return this.textures_},e}(c.default);e.default=p},function(t,e,r){"use strict";r.r(e);var i=r(18),n=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Object(i.createCanvasContext2D)(t,t),this.canvas_=this.context_.canvas};n.prototype.get=function(t){return this.entries_[t]||null},n.prototype.add=function(t,e,r,i,n){for(var o=0,a=this.emptyBlocks_.length;o<a;++o){var s=this.emptyBlocks_[o];if(s.width>=e+this.space_&&s.height>=r+this.space_){var l={offsetX:s.x+this.space_,offsetY:s.y+this.space_,image:this.canvas_};return this.entries_[t]=l,i.call(n,this.context_,s.x+this.space_,s.y+this.space_),this.split_(o,s,e+this.space_,r+this.space_),l}}return null},n.prototype.split_=function(t,e,r,i){var n,o;e.width-r>e.height-i?(n={x:e.x+r,y:e.y,width:e.width-r,height:e.height},o={x:e.x,y:e.y+i,width:r,height:e.height-i},this.updateBlocks_(t,n,o)):(n={x:e.x+r,y:e.y,width:e.width-r,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,n,o))},n.prototype.updateBlocks_=function(t,e,r){var i=[t,1];e.width>0&&e.height>0&&i.push(e),r.width>0&&r.height>0&&i.push(r),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)},e.default=n},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),s=new o.default(i.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,i.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"g"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")}},function(t,e,r){"use strict";r.r(e),r.d(e,"fragment",function(){return a}),r.d(e,"vertex",function(){return s});var i=r(17),n=r(107),o=r(108),a=new n.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),s=new o.default(i.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}")},function(t,e,r){"use strict";r.r(e);var i=r(17);e.default=function(t,e){this.u_tileOffset=t.getUniformLocation(e,i.DEBUG?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"e"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")}},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(15),o=r(1),a=r(32),s=r(231),l=r(28),u=r(16),c=r(31),h=r(143),d=r(41),p=r(55),f=r(62),g=r(29),y=r(27),v=r(58),m=r(100),_=r(9),O=r(12),b={};b[u.default.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new g.default([t.x,t.y,t.z,t.m],l.default.XYZM):void 0!==t.z?new g.default([t.x,t.y,t.z],l.default.XYZ):void 0!==t.m?new g.default([t.x,t.y,t.m],l.default.XYM):new g.default([t.x,t.y]);return e},b[u.default.LINE_STRING]=function(t){var e=C(t);return new c.default(t.paths[0],e)},b[u.default.POLYGON]=function(t){var e=C(t);return new y.default(t.rings,e)},b[u.default.MULTI_POINT]=function(t){var e=C(t);return new p.default(t.points,e)},b[u.default.MULTI_LINE_STRING]=function(t){var e=C(t);return new d.default(t.paths,e)},b[u.default.MULTI_POLYGON]=function(t){var e=C(t);return new f.default(t.rings,e)};var S={};S[u.default.POINT]=function(t,e){var r,i=t.getCoordinates(),o=t.getLayout();o===l.default.XYZ?r={x:i[0],y:i[1],z:i[2]}:o===l.default.XYM?r={x:i[0],y:i[1],m:i[2]}:o===l.default.XYZM?r={x:i[0],y:i[1],z:i[2],m:i[3]}:o===l.default.XY?r={x:i[0],y:i[1]}:Object(n.assert)(!1,34);return r},S[u.default.LINE_STRING]=function(t,e){var r=t,i=x(r);return{hasZ:i.hasZ,hasM:i.hasM,paths:[r.getCoordinates()]}},S[u.default.POLYGON]=function(t,e){var r=t,i=x(r);return{hasZ:i.hasZ,hasM:i.hasM,rings:r.getCoordinates(!1)}},S[u.default.MULTI_POINT]=function(t,e){var r=t,i=x(r);return{hasZ:i.hasZ,hasM:i.hasM,points:r.getCoordinates()}},S[u.default.MULTI_LINE_STRING]=function(t,e){var r=t,i=x(r);return{hasZ:i.hasZ,hasM:i.hasM,paths:r.getCoordinates()}},S[u.default.MULTI_POLYGON]=function(t,e){for(var r=x(t),i=t.getCoordinates(!1),n=[],o=0;o<i.length;o++)for(var a=i[o].length-1;a>=0;a--)n.push(i[o][a]);return{hasZ:r.hasZ,hasM:r.hasM,rings:n}};var T=function(t){function e(e){var r=e||{};t.call(this),this.geometryName_=r.geometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var r=t,n=E(r.geometry,e),o=new i.default;return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(n),e&&e.idField&&r.attributes[e.idField]&&o.setId(r.attributes[e.idField]),r.attributes&&o.setProperties(r.attributes),o},e.prototype.readFeaturesFromObject=function(t,e){var r=e||{};if(t.features){var i=[],n=t.features;r.idField=t.objectIdFieldName;for(var o=0,a=n.length;o<a;++o)i.push(this.readFeatureFromObject(n[o],r));return i}return[this.readFeatureFromObject(t,r)]},e.prototype.readGeometryFromObject=function(t,e){return E(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return Object(O.get)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return j(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={},i=t.getGeometry();i&&(r.geometry=j(i,e),e&&e.featureProjection&&(r.geometry.spatialReference={wkid:Number(Object(O.get)(e.featureProjection).getCode().split(":").pop())}));var n=t.getProperties();return delete n[t.getGeometryName()],Object(_.isEmpty)(n)?r.attributes={}:r.attributes=n,r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(this.writeFeatureObject(t[i],e));return{features:r}},e}(s.default);function E(t,e){if(!t)return null;var r;if("number"==typeof t.x&&"number"==typeof t.y)r=u.default.POINT;else if(t.points)r=u.default.MULTI_POINT;else if(t.paths){r=1===t.paths.length?u.default.LINE_STRING:u.default.MULTI_LINE_STRING}else if(t.rings){var i=t,n=C(i),s=function(t,e){var r,i,n=[],a=[],s=[];for(r=0,i=t.length;r<i;++r){n.length=0,Object(v.deflateCoordinates)(n,0,t[r],e.length);var l=Object(m.linearRingIsClockwise)(n,0,n.length,e.length);l?a.push([t[r]]):s.push(t[r])}for(;s.length;){var u=s.shift(),c=!1;for(r=a.length-1;r>=0;r--){var d=a[r][0],p=Object(o.containsExtent)(new h.default(d).getExtent(),new h.default(u).getExtent());if(p){a[r].push(u),c=!0;break}}c||a.push([u.reverse()])}return a}(i.rings,n);1===s.length?(r=u.default.POLYGON,t.rings=s[0]):(r=u.default.MULTI_POLYGON,t.rings=s)}var l=b[r];return Object(a.transformWithOptions)(l(t),!1,e)}function C(t){var e=l.default.XY;return!0===t.hasZ&&!0===t.hasM?e=l.default.XYZM:!0===t.hasZ?e=l.default.XYZ:!0===t.hasM&&(e=l.default.XYM),e}function x(t){var e=t.getLayout();return{hasZ:e===l.default.XYZ||e===l.default.XYZM,hasM:e===l.default.XYM||e===l.default.XYZM}}function j(t,e){return(0,S[t.getType()])(Object(a.transformWithOptions)(t,!0,e),e)}e.default=T},function(t,e,r){"use strict";r.r(e);var i=r(232).default;i.prototype.writeFeatures,i.prototype.writeFeaturesNode,e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(13),o=r(32),a=r(110),s=r(82),l=r(28),u=r(16),c=r(31),h=r(41),d=r(29),p=r(12),f=r(35),g=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],y={rte:z,trk:W,wpt:Y},v=Object(f.makeStructureNS)(g,{rte:Object(f.makeArrayPusher)(z),trk:Object(f.makeArrayPusher)(W),wpt:Object(f.makeArrayPusher)(Y)}),m=Object(f.makeStructureNS)(g,{text:Object(f.makeObjectPropertySetter)(s.readString,"linkText"),type:Object(f.makeObjectPropertySetter)(s.readString,"linkType")}),_=Object(f.makeStructureNS)(g,{rte:Object(f.makeChildAppender)(function(t,e,r){var i=r[0],n=e.getProperties(),a={node:t};a.properties=n;var s=e.getGeometry();if(s.getType()==u.default.LINE_STRING){var l=Object(o.transformWithOptions)(s,!0,i);a.geometryLayout=l.getLayout(),n.rtept=l.getCoordinates()}var c=r[r.length-1].node,h=I[c.namespaceURI],d=Object(f.makeSequence)(n,h);Object(f.pushSerializeAndPop)(a,R,f.OBJECT_PROPERTY_NODE_FACTORY,d,r,h)}),trk:Object(f.makeChildAppender)(function(t,e,r){var i=r[0],n=e.getProperties(),a={node:t};a.properties=n;var s=e.getGeometry();if(s.getType()==u.default.MULTI_LINE_STRING){var l=Object(o.transformWithOptions)(s,!0,i);n.trkseg=l.getLineStrings()}var c=r[r.length-1].node,h=w[c.namespaceURI],d=Object(f.makeSequence)(n,h);Object(f.pushSerializeAndPop)(a,A,f.OBJECT_PROPERTY_NODE_FACTORY,d,r,h)}),wpt:Object(f.makeChildAppender)(function(t,e,r){var i=r[0],n=r[r.length-1];n.properties=e.getProperties();var a=e.getGeometry();if(a.getType()==u.default.POINT){var s=Object(o.transformWithOptions)(a,!0,i);n.geometryLayout=s.getLayout(),H(t,s.getCoordinates(),r)}})}),O=function(t){function e(e){t.call(this);var r=e||{};this.dataProjection=Object(p.get)("EPSG:4326"),this.readExtensions_=r.readExtensions}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,r=t.length;e<r;++e){var i=t[e];if(this.readExtensions_){var n=i.get("extensionsNode_")||null;this.readExtensions_(i,n)}i.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(n.includes)(g,t.namespaceURI))return null;var r=y[t.localName];if(!r)return null;var i=r(t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_([i]),i):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(n.includes)(g,t.namespaceURI))return[];if("gpx"==t.localName){var r=Object(f.pushParseAndPop)([],v,t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(f.createElementNS)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",f.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(f.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),Object(f.pushSerializeAndPop)({node:r},_,G,t,[e]),r},e}(a.default),b=Object(f.makeStructureNS)(g,{name:Object(f.makeObjectPropertySetter)(s.readString),cmt:Object(f.makeObjectPropertySetter)(s.readString),desc:Object(f.makeObjectPropertySetter)(s.readString),src:Object(f.makeObjectPropertySetter)(s.readString),link:V,number:Object(f.makeObjectPropertySetter)(s.readNonNegativeInteger),extensions:Z,type:Object(f.makeObjectPropertySetter)(s.readString),rtept:function(t,e){var r=Object(f.pushParseAndPop)({},S,t,e);if(r){var i=e[e.length-1],n=i.flatCoordinates,o=i.layoutOptions;U(n,o,t,r)}}}),S=Object(f.makeStructureNS)(g,{ele:Object(f.makeObjectPropertySetter)(s.readDecimal),time:Object(f.makeObjectPropertySetter)(s.readDateTime)}),T=Object(f.makeStructureNS)(g,{name:Object(f.makeObjectPropertySetter)(s.readString),cmt:Object(f.makeObjectPropertySetter)(s.readString),desc:Object(f.makeObjectPropertySetter)(s.readString),src:Object(f.makeObjectPropertySetter)(s.readString),link:V,number:Object(f.makeObjectPropertySetter)(s.readNonNegativeInteger),type:Object(f.makeObjectPropertySetter)(s.readString),extensions:Z,trkseg:function(t,e){var r=e[e.length-1];Object(f.parseNode)(E,t,e);var i=r.flatCoordinates;r.ends.push(i.length)}}),E=Object(f.makeStructureNS)(g,{trkpt:function(t,e){var r=Object(f.pushParseAndPop)({},C,t,e);if(r){var i=e[e.length-1],n=i.flatCoordinates,o=i.layoutOptions;U(n,o,t,r)}}}),C=Object(f.makeStructureNS)(g,{ele:Object(f.makeObjectPropertySetter)(s.readDecimal),time:Object(f.makeObjectPropertySetter)(s.readDateTime)}),x=Object(f.makeStructureNS)(g,{ele:Object(f.makeObjectPropertySetter)(s.readDecimal),time:Object(f.makeObjectPropertySetter)(s.readDateTime),magvar:Object(f.makeObjectPropertySetter)(s.readDecimal),geoidheight:Object(f.makeObjectPropertySetter)(s.readDecimal),name:Object(f.makeObjectPropertySetter)(s.readString),cmt:Object(f.makeObjectPropertySetter)(s.readString),desc:Object(f.makeObjectPropertySetter)(s.readString),src:Object(f.makeObjectPropertySetter)(s.readString),link:V,sym:Object(f.makeObjectPropertySetter)(s.readString),type:Object(f.makeObjectPropertySetter)(s.readString),fix:Object(f.makeObjectPropertySetter)(s.readString),sat:Object(f.makeObjectPropertySetter)(s.readNonNegativeInteger),hdop:Object(f.makeObjectPropertySetter)(s.readDecimal),vdop:Object(f.makeObjectPropertySetter)(s.readDecimal),pdop:Object(f.makeObjectPropertySetter)(s.readDecimal),ageofdgpsdata:Object(f.makeObjectPropertySetter)(s.readDecimal),dgpsid:Object(f.makeObjectPropertySetter)(s.readNonNegativeInteger),extensions:Z}),j=["text","type"],P=Object(f.makeStructureNS)(g,{text:Object(f.makeChildAppender)(s.writeStringTextNode),type:Object(f.makeChildAppender)(s.writeStringTextNode)}),I=Object(f.makeStructureNS)(g,["name","cmt","desc","src","link","number","type","rtept"]),R=Object(f.makeStructureNS)(g,{name:Object(f.makeChildAppender)(s.writeStringTextNode),cmt:Object(f.makeChildAppender)(s.writeStringTextNode),desc:Object(f.makeChildAppender)(s.writeStringTextNode),src:Object(f.makeChildAppender)(s.writeStringTextNode),link:Object(f.makeChildAppender)(X),number:Object(f.makeChildAppender)(s.writeNonNegativeIntegerTextNode),type:Object(f.makeChildAppender)(s.writeStringTextNode),rtept:Object(f.makeArraySerializer)(Object(f.makeChildAppender)(H))}),L=Object(f.makeStructureNS)(g,["ele","time"]),w=Object(f.makeStructureNS)(g,["name","cmt","desc","src","link","number","type","trkseg"]),A=Object(f.makeStructureNS)(g,{name:Object(f.makeChildAppender)(s.writeStringTextNode),cmt:Object(f.makeChildAppender)(s.writeStringTextNode),desc:Object(f.makeChildAppender)(s.writeStringTextNode),src:Object(f.makeChildAppender)(s.writeStringTextNode),link:Object(f.makeChildAppender)(X),number:Object(f.makeChildAppender)(s.writeNonNegativeIntegerTextNode),type:Object(f.makeChildAppender)(s.writeStringTextNode),trkseg:Object(f.makeArraySerializer)(Object(f.makeChildAppender)(function(t,e,r){var i={node:t};i.geometryLayout=e.getLayout(),i.properties={},Object(f.pushSerializeAndPop)(i,F,M,e.getCoordinates(),r)}))}),M=Object(f.makeSimpleNodeFactory)("trkpt"),F=Object(f.makeStructureNS)(g,{trkpt:Object(f.makeChildAppender)(H)}),N=Object(f.makeStructureNS)(g,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),D=Object(f.makeStructureNS)(g,{ele:Object(f.makeChildAppender)(s.writeDecimalTextNode),time:Object(f.makeChildAppender)(s.writeDateTimeTextNode),magvar:Object(f.makeChildAppender)(s.writeDecimalTextNode),geoidheight:Object(f.makeChildAppender)(s.writeDecimalTextNode),name:Object(f.makeChildAppender)(s.writeStringTextNode),cmt:Object(f.makeChildAppender)(s.writeStringTextNode),desc:Object(f.makeChildAppender)(s.writeStringTextNode),src:Object(f.makeChildAppender)(s.writeStringTextNode),link:Object(f.makeChildAppender)(X),sym:Object(f.makeChildAppender)(s.writeStringTextNode),type:Object(f.makeChildAppender)(s.writeStringTextNode),fix:Object(f.makeChildAppender)(s.writeStringTextNode),sat:Object(f.makeChildAppender)(s.writeNonNegativeIntegerTextNode),hdop:Object(f.makeChildAppender)(s.writeDecimalTextNode),vdop:Object(f.makeChildAppender)(s.writeDecimalTextNode),pdop:Object(f.makeChildAppender)(s.writeDecimalTextNode),ageofdgpsdata:Object(f.makeChildAppender)(s.writeDecimalTextNode),dgpsid:Object(f.makeChildAppender)(s.writeNonNegativeIntegerTextNode)}),k={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function G(t,e,r){var i=t.getGeometry();if(i){var n=k[i.getType()];if(n){var o=e[e.length-1].node;return Object(f.createElementNS)(o.namespaceURI,n)}}}function U(t,e,r,i){return t.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function B(t,e,r){var i=l.default.XY,n=2;if(t.hasZ&&t.hasM?(i=l.default.XYZM,n=4):t.hasZ?(i=l.default.XYZ,n=3):t.hasM&&(i=l.default.XYM,n=3),4!==n){for(var o=0,a=e.length/4;o<a;o++)e[o*n]=e[4*o],e[o*n+1]=e[4*o+1],t.hasZ&&(e[o*n+2]=e[4*o+2]),t.hasM&&(e[o*n+2]=e[4*o+3]);if(e.length=e.length/4*n,r)for(var s=0,u=r.length;s<u;s++)r[s]=r[s]/4*n}return i}function V(t,e){var r=e[e.length-1],i=t.getAttribute("href");null!==i&&(r.link=i),Object(f.parseNode)(m,t,e)}function Z(t,e){e[e.length-1].extensionsNode_=t}function z(t,e){var r=e[0],n=Object(f.pushParseAndPop)({flatCoordinates:[],layoutOptions:{}},b,t,e);if(n){var a=n.flatCoordinates;delete n.flatCoordinates;var s=n.layoutOptions;delete n.layoutOptions;var l=B(s,a),u=new c.default(a,l);Object(o.transformWithOptions)(u,!1,r);var h=new i.default(u);return h.setProperties(n),h}}function W(t,e){var r=e[0],n=Object(f.pushParseAndPop)({flatCoordinates:[],ends:[],layoutOptions:{}},T,t,e);if(n){var a=n.flatCoordinates;delete n.flatCoordinates;var s=n.ends;delete n.ends;var l=n.layoutOptions;delete n.layoutOptions;var u=B(l,a,s),c=new h.default(a,u,s);Object(o.transformWithOptions)(c,!1,r);var d=new i.default(c);return d.setProperties(n),d}}function Y(t,e){var r=e[0],n=Object(f.pushParseAndPop)({},x,t,e);if(n){var a={},s=U([],a,t,n),l=B(a,s),u=new d.default(s,l);Object(o.transformWithOptions)(u,!1,r);var c=new i.default(u);return c.setProperties(n),c}}function X(t,e,r){t.setAttribute("href",e);var i=r[r.length-1].properties,n=[i.linkText,i.linkType];Object(f.pushSerializeAndPop)({node:t},P,f.OBJECT_PROPERTY_NODE_FACTORY,n,r,j)}function H(t,e,r){var i=r[r.length-1],n=i.node.namespaceURI,o=i.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case l.default.XYZM:0!==e[3]&&(o.time=e[3]);case l.default.XYZ:0!==e[2]&&(o.ele=e[2]);break;case l.default.XYM:0!==e[2]&&(o.time=e[2])}var a="rtept"==t.nodeName?L[n]:N[n],s=Object(f.makeSequence)(o,a);Object(f.pushSerializeAndPop)({node:t,properties:o},D,f.OBJECT_PROPERTY_NODE_FACTORY,s,r,a)}e.default=O},function(t,e,r){"use strict";r.r(e);var i=r(15),n=r(26),o=r(32),a=r(231),s=r(132),l=r(31),u=r(41),c=r(55),h=r(62),d=r(29),p=r(27),f=r(9),g=r(12),y=r(16),v=function(t){function e(e){var r=e||{};t.call(this),this.dataProjection=Object(g.get)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(this.defaultFeatureProjection=Object(g.get)(r.featureProjection)),this.geometryName_=r.geometryName,this.extractGeometryName_=r.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var r=null,i=m((r="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new n.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r.geometry_name),o.setGeometry(i),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var r=null;if("FeatureCollection"===t.type){r=[];for(var i=t.features,n=0,o=i.length;n<o;++n)r.push(this.readFeatureFromObject(i[n],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return m(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t.crs;return r?"name"==r.type?e=Object(g.get)(r.properties.name):Object(i.assert)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(r.id=i);var n=t.getGeometry();n&&(r.geometry=_(n,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(f.isEmpty)(o)||(r.properties=o),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return _(t,this.adaptOptions(e))},e}(a.default);function m(t,e){if(!t)return null;var r;switch(t.type){case y.default.POINT:r=function(t){return new d.default(t.coordinates)}(t);break;case y.default.LINE_STRING:r=function(t){return new l.default(t.coordinates)}(t);break;case y.default.POLYGON:r=function(t){return new p.default(t.coordinates)}(t);break;case y.default.MULTI_POINT:r=function(t){return new c.default(t.coordinates)}(t);break;case y.default.MULTI_LINE_STRING:r=function(t){return new u.default(t.coordinates)}(t);break;case y.default.MULTI_POLYGON:r=function(t){return new h.default(t.coordinates)}(t);break;case y.default.GEOMETRY_COLLECTION:r=function(t,e){var r=t.geometries.map(function(t){return m(t,e)});return new s.default(r)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(o.transformWithOptions)(r,!1,e)}function _(t,e){var r,i=(t=Object(o.transformWithOptions)(t,!0,e)).getType();switch(i){case y.default.POINT:r=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.default.LINE_STRING:r=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.default.POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(r)}}(t,e);break;case y.default.MULTI_POINT:r=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.default.MULTI_LINE_STRING:r=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.default.MULTI_POLYGON:r=function(t,e){var r;e&&(r=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}(t,e);break;case y.default.GEOMETRY_COLLECTION:r=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var r=Object(f.assign)({},e);return delete r.featureProjection,_(t,r)})}}(t,e);break;case y.default.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return r}e.default=v},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(32),o=r(234),a=r(28),s=r(31),l=r(12),u={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},c=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,h=/^H.([A-Z]{3}).*?:(.*)/,d=/^HFDTE(\d{2})(\d{2})(\d{2})/,p=/\r\n|\r|\n/,f=function(t){function e(e){t.call(this);var r=e||{};this.dataProjection=Object(l.get)("EPSG:4326"),this.altitudeMode_=r.altitudeMode?r.altitudeMode:u.NONE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromText=function(t,e){var r,o,l=this.altitudeMode_,f=t.split(p),g={},y=[],v=2e3,m=0,_=1,O=-1;for(r=0,o=f.length;r<o;++r){var b=f[r],S=void 0;if("B"==b.charAt(0)){if(S=c.exec(b)){var T=parseInt(S[1],10),E=parseInt(S[2],10),C=parseInt(S[3],10),x=parseInt(S[4],10)+parseInt(S[5],10)/6e4;"S"==S[6]&&(x=-x);var j=parseInt(S[7],10)+parseInt(S[8],10)/6e4;if("W"==S[9]&&(j=-j),y.push(j,x),l!=u.NONE){var P=void 0;P=l==u.GPS?parseInt(S[11],10):l==u.BAROMETRIC?parseInt(S[12],10):0,y.push(P)}var I=Date.UTC(v,m,_,T,E,C);I<O&&(I=Date.UTC(v,m,_+1,T,E,C)),y.push(I/1e3),O=I}}else"H"==b.charAt(0)&&((S=d.exec(b))?(_=parseInt(S[1],10),m=parseInt(S[2],10)-1,v=2e3+parseInt(S[3],10)):(S=h.exec(b))&&(g[S[1]]=S[2].trim()))}if(0===y.length)return null;var R=l==u.NONE?a.default.XYM:a.default.XYZM,L=new s.default(y,R),w=new i.default(Object(n.transformWithOptions)(L,!1,e));return w.setProperties(g),w},e.prototype.readFeaturesFromText=function(t,e){var r=this.readFeatureFromText(t,e);return r?[r]:[]},e}(o.default);e.default=f},function(t,e,r){"use strict";r.r(e),r.d(e,"getDefaultFillStyle",function(){return Y}),r.d(e,"getDefaultImageStyle",function(){return q}),r.d(e,"getDefaultStrokeStyle",function(){return Q}),r.d(e,"getDefaultTextStyle",function(){return tt}),r.d(e,"getDefaultStyle",function(){return rt}),r.d(e,"getDefaultStyleArray",function(){return nt}),r.d(e,"readFlatCoordinates",function(){return lt});var i,n,o,a,s,l,u,c=r(26),h=r(13),d=r(15),p=r(54),f=r(32),g=r(110),y=r(82),v=r(132),m=r(28),_=r(16),O=r(31),b=r(41),S=r(55),T=r(62),E=r(29),C=r(27),x=r(14),j=r(12),P=r(101),I=r(235),R=r(314),L=r(315),w=r(102),A=r(71),M=r(198),F=r(35),N=["http://www.google.com/kml/ext/2.2"],D=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],k={fraction:R.default.FRACTION,pixels:R.default.PIXELS,insetPixels:R.default.PIXELS},G=Object(F.makeStructureNS)(D,{ExtendedData:kt,Region:Gt,MultiGeometry:Object(F.makeObjectPropertySetter)(It,"geometry"),LineString:Object(F.makeObjectPropertySetter)(xt,"geometry"),LinearRing:Object(F.makeObjectPropertySetter)(jt,"geometry"),Point:Object(F.makeObjectPropertySetter)(Rt,"geometry"),Polygon:Object(F.makeObjectPropertySetter)(wt,"geometry"),Style:Object(F.makeObjectPropertySetter)(Mt),StyleMap:function(t,e){var r=dt(t,e);if(!r)return;var i=e[e.length-1];Array.isArray(r)?i.Style=r:"string"==typeof r?i.styleUrl=r:Object(d.assert)(!1,38)},address:Object(F.makeObjectPropertySetter)(y.readString),description:Object(F.makeObjectPropertySetter)(y.readString),name:Object(F.makeObjectPropertySetter)(y.readString),open:Object(F.makeObjectPropertySetter)(y.readBoolean),phoneNumber:Object(F.makeObjectPropertySetter)(y.readString),styleUrl:Object(F.makeObjectPropertySetter)(ut),visibility:Object(F.makeObjectPropertySetter)(y.readBoolean)},Object(F.makeStructureNS)(N,{MultiTrack:Object(F.makeObjectPropertySetter)(function(t,e){var r=Object(F.pushParseAndPop)([],_t,t,e);if(!r)return;return new b.default(r)},"geometry"),Track:Object(F.makeObjectPropertySetter)(bt,"geometry")})),U=Object(F.makeStructureNS)(D,{ExtendedData:kt,Region:Gt,Link:function(t,e){Object(F.parseNode)(B,t,e)},address:Object(F.makeObjectPropertySetter)(y.readString),description:Object(F.makeObjectPropertySetter)(y.readString),name:Object(F.makeObjectPropertySetter)(y.readString),open:Object(F.makeObjectPropertySetter)(y.readBoolean),phoneNumber:Object(F.makeObjectPropertySetter)(y.readString),visibility:Object(F.makeObjectPropertySetter)(y.readBoolean)}),B=Object(F.makeStructureNS)(D,{href:Object(F.makeObjectPropertySetter)(ut)}),V=Object(F.makeStructureNS)(D,{LatLonAltBox:function(t,e){var r=Object(F.pushParseAndPop)({},Vt,t,e);if(!r)return;var i=e[e.length-1],n=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];i.extent=n,i.altitudeMode=r.altitudeMode,i.minAltitude=parseFloat(r.minAltitude),i.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(t,e){var r=Object(F.pushParseAndPop)({},Zt,t,e);if(!r)return;var i=e[e.length-1];i.minLodPixels=parseFloat(r.minLodPixels),i.maxLodPixels=parseFloat(r.maxLodPixels),i.minFadeExtent=parseFloat(r.minFadeExtent),i.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),Z=Object(F.makeStructureNS)(D,["Document","Placemark"]),z=Object(F.makeStructureNS)(D,{Document:Object(F.makeChildAppender)(function(t,e,r){var i={node:t};Object(F.pushSerializeAndPop)(i,Ht,qt,e,r,void 0,this)}),Placemark:Object(F.makeChildAppender)(_e)}),W=null;function Y(){return W}var X,H=null;function q(){return H}var K,J=null;function Q(){return J}var $=null;function tt(){return $}var et=null;function rt(){return et}var it=null;function nt(){return it}var ot=function(t){function e(e){t.call(this);var r=e||{};it||(i=[255,255,255,1],W=new P.default({color:i}),n=[20,2],o=R.default.PIXELS,a=R.default.PIXELS,s=[64,64],l="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",u=.5,H=new I.default({anchor:n,anchorOrigin:L.default.BOTTOM_LEFT,anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",rotation:0,scale:u,size:s,src:l}),X="NO_IMAGE",J=new w.default({color:i,width:1}),K=new w.default({color:[51,51,51,1],width:2}),$=new M.default({font:"bold 16px Helvetica",fill:W,stroke:K,scale:.8}),et=new A.default({fill:W,image:H,text:$,stroke:J,zIndex:0}),it=[et]),this.dataProjection=Object(j.get)("EPSG:4326"),this.defaultStyle_=r.defaultStyle?r.defaultStyle:it,this.extractStyles_=void 0===r.extractStyles||r.extractStyles,this.writeStyles_=void 0===r.writeStyles||r.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===r.showPointNames||r.showPointNames}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readDocumentOrFolder_=function(t,e){var r=Object(F.makeStructureNS)(D,{Document:Object(F.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:Object(F.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:Object(F.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=Object(F.pushParseAndPop)([],r,t,e,this);return i||void 0},e.prototype.readPlacemark_=function(t,e){var r=Object(F.pushParseAndPop)({geometry:null},G,t,e);if(r){var i=new c.default,n=t.getAttribute("id");null!==n&&i.setId(n);var o=e[0],a=r.geometry;if(a&&Object(f.transformWithOptions)(a,!1,o),i.setGeometry(a),delete r.geometry,this.extractStyles_){var s=function(t,e,r,i,n){return function(o,a){var s,l=n,u="";if(l){var c=o.getGeometry();c&&(l=c.getType()===_.default.POINT)}if(l&&(u=o.get("name"),l=l&&!!u),t)return l?(s=at(t[0],u),t.concat(s)):t;if(e){var h=function t(e,r,i){return Array.isArray(e)?e:"string"==typeof e?(!(e in i)&&"#"+e in i&&(e="#"+e),t(i[e],r,i)):r}(e,r,i);return l?(s=at(h[0],u),h.concat(s)):h}return l?(s=at(r[0],u),r.concat(s)):r}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(s)}return delete r.Style,i.setProperties(r),i}},e.prototype.readSharedStyle_=function(t,e){var r=t.getAttribute("id");if(null!==r){var i=Mt(t,e);if(i){var n,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)n=new URL("#"+r,o).href;else n="#"+r;this.sharedStyles_[n]=i}}},e.prototype.readSharedStyleMap_=function(t,e){var r=t.getAttribute("id");if(null!==r){var i=dt(t,e);if(i){var n,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)n=new URL("#"+r,o).href;else n="#"+r;this.sharedStyles_[n]=i}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(h.includes)(D,t.namespaceURI))return null;var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(h.includes)(D,t.namespaceURI))return[];var r,i=t.localName;if("Document"==i||"Folder"==i)return(r=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==i){var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==i){r=[];for(var o=t.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,e);a&&Object(h.extend)(r,a)}return r}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=Object(F.parse)(t);return this.readNameFromDocument(e)}return Object(F.isDocument)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(e);if(r)return r}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(h.includes)(D,e.namespaceURI)&&"name"==e.localName)return Object(y.readString)(e);for(var r=t.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;if(Object(h.includes)(D,r.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)){var n=this.readNameFromNode(r);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var r=Object(F.parse)(t);Object(h.extend)(e,this.readNetworkLinksFromDocument(r))}else Object(F.isDocument)(t)?Object(h.extend)(e,this.readNetworkLinksFromDocument(t)):Object(h.extend)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(h.extend)(e,this.readNetworkLinksFromNode(r));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(h.includes)(D,r.namespaceURI)&&"NetworkLink"==r.localName){var i=Object(F.pushParseAndPop)({},U,r,[]);e.push(i)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(h.includes)(D,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(h.extend)(e,this.readNetworkLinksFromNode(n))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var r=Object(F.parse)(t);Object(h.extend)(e,this.readRegionFromDocument(r))}else Object(F.isDocument)(t)?Object(h.extend)(e,this.readRegionFromDocument(t)):Object(h.extend)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(h.extend)(e,this.readRegionFromNode(r));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],r=t.firstElementChild;r;r=r.nextElementSibling)if(Object(h.includes)(D,r.namespaceURI)&&"Region"==r.localName){var i=Object(F.pushParseAndPop)({},V,r,[]);e.push(i)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(h.includes)(D,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(h.extend)(e,this.readRegionFromNode(n))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=Object(F.createElementNS)(D[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",N[0]),r.setAttributeNS(i,"xmlns:xsi",F.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(F.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var n={node:r},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=Z[r.namespaceURI],s=Object(F.makeSequence)(o,a);return Object(F.pushSerializeAndPop)(n,z,F.OBJECT_PROPERTY_NODE_FACTORY,s,[e],a,this),r},e}(g.default);function at(t,e){var r=null,i=[0,0],n="start";if(t.getImage()){var o=t.getImage().getImageSize();if(null===o&&(o=s),2==o.length){var a=t.getImage().getScale();i[0]=a*o[0]/2,i[1]=-a*o[1]/2,n="left"}}if(null!==t.getText()){var l=t.getText();(r=l.clone()).setFont(l.getFont()||$.getFont()),r.setScale(l.getScale()||$.getScale()),r.setFill(l.getFill()||$.getFill()),r.setStroke(l.getStroke()||K)}else r=$.clone();return r.setText(e),r.setOffsetX(i[0]),r.setOffsetY(i[1]),r.setTextAlign(n),new A.default({text:r})}function st(t){var e=Object(F.getAllTextContent)(t,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(r){var i=r[1];return[parseInt(i.substr(6,2),16),parseInt(i.substr(4,2),16),parseInt(i.substr(2,2),16),parseInt(i.substr(0,2),16)/255]}}function lt(t){for(var e,r=Object(F.getAllTextContent)(t,!1),i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(r);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;i.push(o,a,s),r=r.substr(e[0].length)}if(""===r)return i}function ut(t){var e=Object(F.getAllTextContent)(t,!1).trim(),r=t.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(e,r).href:e}function ct(t){return Object(y.readDecimal)(t)}var ht=Object(F.makeStructureNS)(D,{Pair:function(t,e){var r=Object(F.pushParseAndPop)({},Ut,t,e);if(!r)return;var i=r.key;if(i&&"normal"==i){var n=r.styleUrl;n&&(e[e.length-1]=n);var o=r.Style;o&&(e[e.length-1]=o)}}});function dt(t,e){return Object(F.pushParseAndPop)(void 0,ht,t,e)}var pt=Object(F.makeStructureNS)(D,{Icon:Object(F.makeObjectPropertySetter)(function(t,e){var r=Object(F.pushParseAndPop)({},St,t,e);return r||null}),heading:Object(F.makeObjectPropertySetter)(y.readDecimal),hotSpot:Object(F.makeObjectPropertySetter)(function(t){var e,r=t.getAttribute("xunits"),i=t.getAttribute("yunits");return e="insetPixels"!==r?"insetPixels"!==i?L.default.BOTTOM_LEFT:L.default.TOP_LEFT:"insetPixels"!==i?L.default.BOTTOM_RIGHT:L.default.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:k[r],y:parseFloat(t.getAttribute("y")),yunits:k[i],origin:e}}),scale:Object(F.makeObjectPropertySetter)(ct)});var ft=Object(F.makeStructureNS)(D,{color:Object(F.makeObjectPropertySetter)(st),scale:Object(F.makeObjectPropertySetter)(ct)});var gt=Object(F.makeStructureNS)(D,{color:Object(F.makeObjectPropertySetter)(st),width:Object(F.makeObjectPropertySetter)(y.readDecimal)});var yt=Object(F.makeStructureNS)(D,{color:Object(F.makeObjectPropertySetter)(st),fill:Object(F.makeObjectPropertySetter)(y.readBoolean),outline:Object(F.makeObjectPropertySetter)(y.readBoolean)});var vt=Object(F.makeStructureNS)(D,{coordinates:Object(F.makeReplacer)(lt)});function mt(t,e){return Object(F.pushParseAndPop)(null,vt,t,e)}var _t=Object(F.makeStructureNS)(N,{Track:Object(F.makeArrayPusher)(bt)});var Ot=Object(F.makeStructureNS)(D,{when:function(t,e){var r=e[e.length-1].whens,i=Object(F.getAllTextContent)(t,!1),n=Date.parse(i);r.push(isNaN(n)?0:n)}},Object(F.makeStructureNS)(N,{coord:function(t,e){var r=e[e.length-1].flatCoordinates,i=Object(F.getAllTextContent)(t,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(n){var o=parseFloat(n[1]),a=parseFloat(n[2]),s=parseFloat(n[3]);r.push(o,a,s,0)}else r.push(0,0,0,0)}}));function bt(t,e){var r=Object(F.pushParseAndPop)({flatCoordinates:[],whens:[]},Ot,t,e);if(r){for(var i=r.flatCoordinates,n=r.whens,o=0,a=Math.min(i.length,n.length);o<a;++o)i[4*o+3]=n[o];return new O.default(i,m.default.XYZM)}}var St=Object(F.makeStructureNS)(D,{href:Object(F.makeObjectPropertySetter)(ut)},Object(F.makeStructureNS)(N,{x:Object(F.makeObjectPropertySetter)(y.readDecimal),y:Object(F.makeObjectPropertySetter)(y.readDecimal),w:Object(F.makeObjectPropertySetter)(y.readDecimal),h:Object(F.makeObjectPropertySetter)(y.readDecimal)}));var Tt=Object(F.makeStructureNS)(D,{coordinates:Object(F.makeReplacer)(lt)});function Et(t,e){return Object(F.pushParseAndPop)(null,Tt,t,e)}var Ct=Object(F.makeStructureNS)(D,{extrude:Object(F.makeObjectPropertySetter)(y.readBoolean),tessellate:Object(F.makeObjectPropertySetter)(y.readBoolean),altitudeMode:Object(F.makeObjectPropertySetter)(y.readString)});function xt(t,e){var r=Object(F.pushParseAndPop)({},Ct,t,e),i=Et(t,e);if(i){var n=new O.default(i,m.default.XYZ);return n.setProperties(r),n}}function jt(t,e){var r=Object(F.pushParseAndPop)({},Ct,t,e),i=Et(t,e);if(i){var n=new C.default(i,m.default.XYZ,[i.length]);return n.setProperties(r),n}}var Pt=Object(F.makeStructureNS)(D,{LineString:Object(F.makeArrayPusher)(xt),LinearRing:Object(F.makeArrayPusher)(jt),MultiGeometry:Object(F.makeArrayPusher)(It),Point:Object(F.makeArrayPusher)(Rt),Polygon:Object(F.makeArrayPusher)(wt)});function It(t,e){var r,i=Object(F.pushParseAndPop)([],Pt,t,e);if(!i)return null;if(0===i.length)return new v.default(i);for(var n,o,a,s=!0,l=i[0].getType(),u=1,c=i.length;u<c;++u)if((n=i[u]).getType()!=l){s=!1;break}if(s)if(l==_.default.POINT){var p=i[0];o=p.getLayout(),a=p.getFlatCoordinates();for(var f=1,g=i.length;f<g;++f)n=i[f],Object(h.extend)(a,n.getFlatCoordinates());Ft(r=new S.default(a,o),i)}else l==_.default.LINE_STRING?Ft(r=new b.default(i),i):l==_.default.POLYGON?Ft(r=new T.default(i),i):l==_.default.GEOMETRY_COLLECTION?r=new v.default(i):Object(d.assert)(!1,37);else r=new v.default(i);return r}function Rt(t,e){var r=Object(F.pushParseAndPop)({},Ct,t,e),i=Et(t,e);if(i){var n=new E.default(i,m.default.XYZ);return n.setProperties(r),n}}var Lt=Object(F.makeStructureNS)(D,{innerBoundaryIs:function(t,e){var r=Object(F.pushParseAndPop)(void 0,zt,t,e);if(r){var i=e[e.length-1];i.push(r)}},outerBoundaryIs:function(t,e){var r=Object(F.pushParseAndPop)(void 0,Wt,t,e);if(r){var i=e[e.length-1];i[0]=r}}});function wt(t,e){var r=Object(F.pushParseAndPop)({},Ct,t,e),i=Object(F.pushParseAndPop)([null],Lt,t,e);if(i&&i[0]){for(var n=i[0],o=[n.length],a=1,s=i.length;a<s;++a)Object(h.extend)(n,i[a]),o.push(n.length);var l=new C.default(n,m.default.XYZ,o);return l.setProperties(r),l}}var At=Object(F.makeStructureNS)(D,{IconStyle:function(t,e){var r=Object(F.pushParseAndPop)({},pt,t,e);if(r){var i,c,h,d,p=e[e.length-1],f="Icon"in r?r.Icon:{},g=!("Icon"in r)||Object.keys(f).length>0,y=f.href;y?i=y:g&&(i=l);var v,m=L.default.BOTTOM_LEFT,_=r.hotSpot;_?(c=[_.x,_.y],h=_.xunits,d=_.yunits,m=_.origin):i===l?(c=n,h=o,d=a):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(c=[.5,0],h=R.default.FRACTION,d=R.default.FRACTION);var O,b=f.x,S=f.y;void 0!==b&&void 0!==S&&(v=[b,S]);var T,E=f.w,C=f.h;void 0!==E&&void 0!==C&&(O=[E,C]);var j=r.heading;void 0!==j&&(T=Object(x.toRadians)(j));var P=r.scale;if(g){i==l&&(O=s,void 0===P&&(P=u));var w=new I.default({anchor:c,anchorOrigin:m,anchorXUnits:h,anchorYUnits:d,crossOrigin:"anonymous",offset:v,offsetOrigin:L.default.BOTTOM_LEFT,rotation:T,scale:P,size:O,src:i});p.imageStyle=w}else p.imageStyle=X}},LabelStyle:function(t,e){var r=Object(F.pushParseAndPop)({},ft,t,e);if(r){var n=e[e.length-1],o=new M.default({fill:new P.default({color:"color"in r?r.color:i}),scale:r.scale});n.textStyle=o}},LineStyle:function(t,e){var r=Object(F.pushParseAndPop)({},gt,t,e);if(r){var n=e[e.length-1],o=new w.default({color:"color"in r?r.color:i,width:"width"in r?r.width:1});n.strokeStyle=o}},PolyStyle:function(t,e){var r=Object(F.pushParseAndPop)({},yt,t,e);if(r){var n=e[e.length-1],o=new P.default({color:"color"in r?r.color:i});n.fillStyle=o;var a=r.fill;void 0!==a&&(n.fill=a);var s=r.outline;void 0!==s&&(n.outline=s)}}});function Mt(t,e){var r=Object(F.pushParseAndPop)({},At,t,e);if(!r)return null;var i,n="fillStyle"in r?r.fillStyle:W,o=r.fill;void 0===o||o||(n=null),"imageStyle"in r?r.imageStyle!=X&&(i=r.imageStyle):i=H;var a="textStyle"in r?r.textStyle:$,s="strokeStyle"in r?r.strokeStyle:J,l=r.outline;return void 0===l||l||(s=null),[new A.default({fill:n,image:i,stroke:s,text:a,zIndex:void 0})]}function Ft(t,e){var r,i,n,o=e.length,a=new Array(e.length),s=new Array(e.length),l=new Array(e.length);r=i=n=!1;for(var u=0;u<o;++u){var c=e[u];a[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),r=r||void 0!==a[u],i=i||void 0!==s[u],n=n||l[u]}r&&t.set("extrude",a),i&&t.set("tessellate",s),n&&t.set("altitudeMode",l)}var Nt=Object(F.makeStructureNS)(D,{displayName:Object(F.makeObjectPropertySetter)(y.readString),value:Object(F.makeObjectPropertySetter)(y.readString)});var Dt=Object(F.makeStructureNS)(D,{Data:function(t,e){var r=t.getAttribute("name");Object(F.parseNode)(Nt,t,e);var i=e[e.length-1];null!==r?i[r]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function(t,e){Object(F.parseNode)(Bt,t,e)}});function kt(t,e){Object(F.parseNode)(Dt,t,e)}function Gt(t,e){Object(F.parseNode)(V,t,e)}var Ut=Object(F.makeStructureNS)(D,{Style:Object(F.makeObjectPropertySetter)(Mt),key:Object(F.makeObjectPropertySetter)(y.readString),styleUrl:Object(F.makeObjectPropertySetter)(ut)});var Bt=Object(F.makeStructureNS)(D,{SimpleData:function(t,e){var r=t.getAttribute("name");if(null!==r){var i=Object(y.readString)(t),n=e[e.length-1];n[r]=i}}});var Vt=Object(F.makeStructureNS)(D,{altitudeMode:Object(F.makeObjectPropertySetter)(y.readString),minAltitude:Object(F.makeObjectPropertySetter)(y.readDecimal),maxAltitude:Object(F.makeObjectPropertySetter)(y.readDecimal),north:Object(F.makeObjectPropertySetter)(y.readDecimal),south:Object(F.makeObjectPropertySetter)(y.readDecimal),east:Object(F.makeObjectPropertySetter)(y.readDecimal),west:Object(F.makeObjectPropertySetter)(y.readDecimal)});var Zt=Object(F.makeStructureNS)(D,{minLodPixels:Object(F.makeObjectPropertySetter)(y.readDecimal),maxLodPixels:Object(F.makeObjectPropertySetter)(y.readDecimal),minFadeExtent:Object(F.makeObjectPropertySetter)(y.readDecimal),maxFadeExtent:Object(F.makeObjectPropertySetter)(y.readDecimal)});var zt=Object(F.makeStructureNS)(D,{LinearRing:Object(F.makeReplacer)(mt)});var Wt=Object(F.makeStructureNS)(D,{LinearRing:Object(F.makeReplacer)(mt)});function Yt(t,e){for(var r=Object(p.asArray)(e),i=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],n=0;n<4;++n){var o=Math.floor(i[n]).toString(16);i[n]=1==o.length?"0"+o:o}Object(y.writeStringTextNode)(t,i.join(""))}var Xt=Object(F.makeStructureNS)(D,{Data:Object(F.makeChildAppender)(function(t,e,r){t.setAttribute("name",e.name);var i={node:t},n=e.value;"object"==typeof n?(null!==n&&n.displayName&&Object(F.pushSerializeAndPop)(i,Xt,F.OBJECT_PROPERTY_NODE_FACTORY,[n.displayName],r,["displayName"]),null!==n&&n.value&&Object(F.pushSerializeAndPop)(i,Xt,F.OBJECT_PROPERTY_NODE_FACTORY,[n.value],r,["value"])):Object(F.pushSerializeAndPop)(i,Xt,F.OBJECT_PROPERTY_NODE_FACTORY,[n],r,["value"])}),value:Object(F.makeChildAppender)(function(t,e){Object(y.writeStringTextNode)(t,e)}),displayName:Object(F.makeChildAppender)(function(t,e){Object(y.writeCDATASection)(t,e)})});var Ht=Object(F.makeStructureNS)(D,{Placemark:Object(F.makeChildAppender)(_e)}),qt=function(t,e,r){var i=e[e.length-1].node;return Object(F.createElementNS)(i.namespaceURI,"Placemark")};var Kt=Object(F.makeSimpleNodeFactory)("Data");var Jt=Object(F.makeStructureNS)(D,["href"],Object(F.makeStructureNS)(N,["x","y","w","h"])),Qt=Object(F.makeStructureNS)(D,{href:Object(F.makeChildAppender)(y.writeStringTextNode)},Object(F.makeStructureNS)(N,{x:Object(F.makeChildAppender)(y.writeDecimalTextNode),y:Object(F.makeChildAppender)(y.writeDecimalTextNode),w:Object(F.makeChildAppender)(y.writeDecimalTextNode),h:Object(F.makeChildAppender)(y.writeDecimalTextNode)})),$t=function(t,e,r){return Object(F.createElementNS)(N[0],"gx:"+r)};var te=Object(F.makeStructureNS)(D,["scale","heading","Icon","hotSpot"]),ee=Object(F.makeStructureNS)(D,{Icon:Object(F.makeChildAppender)(function(t,e,r){var i={node:t},n=r[r.length-1].node,o=Jt[n.namespaceURI],a=Object(F.makeSequence)(e,o);Object(F.pushSerializeAndPop)(i,Qt,F.OBJECT_PROPERTY_NODE_FACTORY,a,r,o),o=Jt[N[0]],a=Object(F.makeSequence)(e,o),Object(F.pushSerializeAndPop)(i,Qt,$t,a,r,o)}),heading:Object(F.makeChildAppender)(y.writeDecimalTextNode),hotSpot:Object(F.makeChildAppender)(function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}),scale:Object(F.makeChildAppender)(Ie)});var re=Object(F.makeStructureNS)(D,["color","scale"]),ie=Object(F.makeStructureNS)(D,{color:Object(F.makeChildAppender)(Yt),scale:Object(F.makeChildAppender)(Ie)});var ne=Object(F.makeStructureNS)(D,["color","width"]),oe=Object(F.makeStructureNS)(D,{color:Object(F.makeChildAppender)(Yt),width:Object(F.makeChildAppender)(y.writeDecimalTextNode)});var ae={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},se=function(t,e,r){if(t){var i=e[e.length-1].node;return Object(F.createElementNS)(i.namespaceURI,ae[t.getType()])}},le=Object(F.makeSimpleNodeFactory)("Point"),ue=Object(F.makeSimpleNodeFactory)("LineString"),ce=Object(F.makeSimpleNodeFactory)("LinearRing"),he=Object(F.makeSimpleNodeFactory)("Polygon"),de=Object(F.makeStructureNS)(D,{LineString:Object(F.makeChildAppender)(Se),Point:Object(F.makeChildAppender)(Se),Polygon:Object(F.makeChildAppender)(xe),GeometryCollection:Object(F.makeChildAppender)(pe)});function pe(t,e,r){var i,n,o={node:t},a=e.getType();a==_.default.GEOMETRY_COLLECTION?(i=e.getGeometries(),n=se):a==_.default.MULTI_POINT?(i=e.getPoints(),n=le):a==_.default.MULTI_LINE_STRING?(i=e.getLineStrings(),n=ue):a==_.default.MULTI_POLYGON?(i=e.getPolygons(),n=he):Object(d.assert)(!1,39),Object(F.pushSerializeAndPop)(o,de,n,i,r)}var fe=Object(F.makeStructureNS)(D,{LinearRing:Object(F.makeChildAppender)(Se)});function ge(t,e,r){var i={node:t};Object(F.pushSerializeAndPop)(i,fe,ce,[e],r)}var ye=Object(F.makeStructureNS)(D,{ExtendedData:Object(F.makeChildAppender)(function(t,e,r){for(var i={node:t},n=e.names,o=e.values,a=n.length,s=0;s<a;s++)Object(F.pushSerializeAndPop)(i,Xt,Kt,[{name:n[s],value:o[s]}],r)}),MultiGeometry:Object(F.makeChildAppender)(pe),LineString:Object(F.makeChildAppender)(Se),LinearRing:Object(F.makeChildAppender)(Se),Point:Object(F.makeChildAppender)(Se),Polygon:Object(F.makeChildAppender)(xe),Style:Object(F.makeChildAppender)(function(t,e,r){var i={node:t},n={},o=e.getFill(),a=e.getStroke(),s=e.getImage(),l=e.getText();s&&"function"==typeof s.getSrc&&(n.IconStyle=s);l&&(n.LabelStyle=l);a&&(n.LineStyle=a);o&&(n.PolyStyle=o);var u=r[r.length-1].node,c=Re[u.namespaceURI],h=Object(F.makeSequence)(n,c);Object(F.pushSerializeAndPop)(i,Le,F.OBJECT_PROPERTY_NODE_FACTORY,h,r,c)}),address:Object(F.makeChildAppender)(y.writeStringTextNode),description:Object(F.makeChildAppender)(y.writeStringTextNode),name:Object(F.makeChildAppender)(y.writeStringTextNode),open:Object(F.makeChildAppender)(y.writeBooleanTextNode),phoneNumber:Object(F.makeChildAppender)(y.writeStringTextNode),styleUrl:Object(F.makeChildAppender)(y.writeStringTextNode),visibility:Object(F.makeChildAppender)(y.writeBooleanTextNode)}),ve=Object(F.makeStructureNS)(D,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),me=Object(F.makeSimpleNodeFactory)("ExtendedData");function _e(t,e,r){var i={node:t};e.getId()&&t.setAttribute("id",e.getId());var n=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(n||{}).sort().filter(function(t){return!o[t]});if(a.length>0){var s={names:a,values:Object(F.makeSequence)(n,a)};Object(F.pushSerializeAndPop)(i,ye,me,[s],r)}var l=e.getStyleFunction();if(l){var u=l(e,0);if(u){var c=Array.isArray(u)?u[0]:u;this.writeStyles_&&(n.Style=c);var h=c.getText();h&&(n.name=h.getText())}}var d=r[r.length-1].node,p=ve[d.namespaceURI],g=Object(F.makeSequence)(n,p);Object(F.pushSerializeAndPop)(i,ye,F.OBJECT_PROPERTY_NODE_FACTORY,g,r,p);var y=r[0],v=e.getGeometry();v&&(v=Object(f.transformWithOptions)(v,!0,y)),Object(F.pushSerializeAndPop)(i,ye,se,[v],r)}var Oe=Object(F.makeStructureNS)(D,["extrude","tessellate","altitudeMode","coordinates"]),be=Object(F.makeStructureNS)(D,{extrude:Object(F.makeChildAppender)(y.writeBooleanTextNode),tessellate:Object(F.makeChildAppender)(y.writeBooleanTextNode),altitudeMode:Object(F.makeChildAppender)(y.writeStringTextNode),coordinates:Object(F.makeChildAppender)(function(t,e,r){var i,n=r[r.length-1],o=n.layout,a=n.stride;o==m.default.XY||o==m.default.XYM?i=2:o==m.default.XYZ||o==m.default.XYZM?i=3:Object(d.assert)(!1,34);var s=e.length,l="";if(s>0){l+=e[0];for(var u=1;u<i;++u)l+=","+e[u];for(var c=a;c<s;c+=a){l+=" "+e[c];for(var h=1;h<i;++h)l+=","+e[c+h]}}Object(y.writeStringTextNode)(t,l)})});function Se(t,e,r){var i=e.getFlatCoordinates(),n={node:t};n.layout=e.getLayout(),n.stride=e.getStride();var o=e.getProperties();o.coordinates=i;var a=r[r.length-1].node,s=Oe[a.namespaceURI],l=Object(F.makeSequence)(o,s);Object(F.pushSerializeAndPop)(n,be,F.OBJECT_PROPERTY_NODE_FACTORY,l,r,s)}var Te=Object(F.makeStructureNS)(D,{outerBoundaryIs:Object(F.makeChildAppender)(ge),innerBoundaryIs:Object(F.makeChildAppender)(ge)}),Ee=Object(F.makeSimpleNodeFactory)("innerBoundaryIs"),Ce=Object(F.makeSimpleNodeFactory)("outerBoundaryIs");function xe(t,e,r){var i=e.getLinearRings(),n=i.shift(),o={node:t};Object(F.pushSerializeAndPop)(o,Te,Ee,i,r),Object(F.pushSerializeAndPop)(o,Te,Ce,[n],r)}var je=Object(F.makeStructureNS)(D,{color:Object(F.makeChildAppender)(Yt)}),Pe=Object(F.makeSimpleNodeFactory)("color");function Ie(t,e){Object(y.writeDecimalTextNode)(t,Math.round(1e6*e)/1e6)}var Re=Object(F.makeStructureNS)(D,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Le=Object(F.makeStructureNS)(D,{IconStyle:Object(F.makeChildAppender)(function(t,e,r){var i={node:t},n={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),l={href:o};if(a){l.w=a[0],l.h=a[1];var u=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(l.x=c[0],l.y=s[1]-(c[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var h={x:u[0],xunits:R.default.PIXELS,y:a[1]-u[1],yunits:R.default.PIXELS};n.hotSpot=h}}n.Icon=l;var d=e.getScale();1!==d&&(n.scale=d);var p=e.getRotation();0!==p&&(n.heading=p);var f=r[r.length-1].node,g=te[f.namespaceURI],y=Object(F.makeSequence)(n,g);Object(F.pushSerializeAndPop)(i,ee,F.OBJECT_PROPERTY_NODE_FACTORY,y,r,g)}),LabelStyle:Object(F.makeChildAppender)(function(t,e,r){var i={node:t},n={},o=e.getFill();o&&(n.color=o.getColor());var a=e.getScale();a&&1!==a&&(n.scale=a);var s=r[r.length-1].node,l=re[s.namespaceURI],u=Object(F.makeSequence)(n,l);Object(F.pushSerializeAndPop)(i,ie,F.OBJECT_PROPERTY_NODE_FACTORY,u,r,l)}),LineStyle:Object(F.makeChildAppender)(function(t,e,r){var i={node:t},n={color:e.getColor(),width:e.getWidth()},o=r[r.length-1].node,a=ne[o.namespaceURI],s=Object(F.makeSequence)(n,a);Object(F.pushSerializeAndPop)(i,oe,F.OBJECT_PROPERTY_NODE_FACTORY,s,r,a)}),PolyStyle:Object(F.makeChildAppender)(function(t,e,r){var i={node:t};Object(F.pushSerializeAndPop)(i,je,Pe,[e.getColor()],r)})});e.default=ot},function(t,e,r){"use strict";r.r(e),r.d(e,"get",function(){return c});var i=r(18),n=r(8),o=r(87),a=r(10),s=r(59),l=r(221),u=function(t){function e(e,r,i,n,o,a){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==n&&(this.image_.crossOrigin=n),this.canvas_=a?document.createElement("canvas"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=r,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.default.LOADED){this.tainted_=!1;var t=Object(i.createCanvasContext2D)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],n=Object(i.createCanvasContext2D)(e,r);n.fillRect(0,0,e,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s.default.IDLE){this.imageState_=s.default.LOADING,this.imageListenerKeys_=[Object(n.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),Object(n.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),r=e.data,i=this.color_[0]/255,n=this.color_[1]/255,o=this.color_[2]/255,a=0,s=r.length;a<s;a+=4)r[a]*=i,r[a+1]*=n,r[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(n.unlistenByKey),this.imageListenerKeys_=null},e}(o.default);function c(t,e,r,i,n,o){var a=l.shared.get(e,i,o);return a||(a=new u(t,e,r,i,n,o),l.shared.set(e,i,o,a)),a}e.default=u},function(t,e,r){"use strict";r.r(e);var i=r(15),n=r(467),o=r.n(n),a=r(32),s=r(123),l=r(28),u=r(16),c=r(31),h=r(41),d=r(55),p=r(62),f=r(29),g=r(27),y=r(100),v=r(88),m=r(47),_=r(316),O=function(t){function e(e){t.call(this);var r=e||{};this.dataProjection=new v.default({code:"",units:m.default.TILE_PIXELS}),this.featureClass_=r.featureClass?r.featureClass:_.default,this.geometryName_=r.geometryName,this.layerName_=r.layerName?r.layerName:"layer",this.layers_=r.layers?r.layers:null,this.extent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readRawGeometry_=function(t,e,r,n){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,a=1,s=0,l=0,u=0,c=0,h=0;t.pos<o;){if(!s){var d=t.readVarint();a=7&d,s=d>>3}s--,1===a||2===a?(l+=t.readSVarint(),u+=t.readSVarint(),1===a&&c>h&&(n.push(c),h=c),r.push(l,u),c+=2):7===a?c>h&&(r.push(r[h],r[h+1]),c+=2):Object(i.assert)(!1,59)}c>h&&(n.push(c),h=c)},e.prototype.createFeature_=function(t,e,r){var i,n=e.type;if(0===n)return null;var o=e.id,s=e.properties;s[this.layerName_]=e.layer.name;var v=[],m=[];this.readRawGeometry_(t,e,v,m);var O=function(t,e){var r;1===t?r=1===e?u.default.POINT:u.default.MULTI_POINT:2===t?r=1===e?u.default.LINE_STRING:u.default.MULTI_LINE_STRING:3===t&&(r=u.default.POLYGON);return r}(n,m.length);if(this.featureClass_===_.default)i=new this.featureClass_(O,v,m,s,o);else{var b;if(O==u.default.POLYGON){for(var S=[],T=0,E=0,C=0,x=m.length;C<x;++C){var j=m[C];Object(y.linearRingIsClockwise)(v,T,j,2)||(S.push(m.slice(E,C)),E=C),T=j}b=S.length>1?new p.default(v,l.default.XY,S):new g.default(v,l.default.XY,m)}else b=O===u.default.POINT?new f.default(v,l.default.XY):O===u.default.LINE_STRING?new c.default(v,l.default.XY):O===u.default.POLYGON?new g.default(v,l.default.XY,m):O===u.default.MULTI_POINT?new d.default(v,l.default.XY):O===u.default.MULTI_LINE_STRING?new h.default(v,l.default.XY,m):null;i=new(0,this.featureClass_),this.geometryName_&&i.setGeometryName(this.geometryName_);var P=Object(a.transformWithOptions)(b,!1,this.adaptOptions(r));i.setGeometry(P),i.setId(o),i.setProperties(s)}return i},e.prototype.getLastExtent=function(){return this.extent_},e.prototype.getType=function(){return s.default.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var r=this.layers_,i=new o.a(t),n=i.readFields(b,{}),a=[];for(var s in n)if(!r||-1!=r.indexOf(s)){for(var l=n[s],u=0,c=l.length;u<c;++u){var h=E(i,l,u);a.push(this.createFeature_(i,h))}this.extent_=l?[0,0,l.extent,l.extent]:null}return a},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(a.default);function b(t,e,r){if(3===t){var i={keys:[],values:[],features:[]},n=r.readVarint()+r.pos;r.readFields(S,i,n),i.length=i.features.length,i.length&&(e[i.name]=i)}}function S(t,e,r){if(15===t)e.version=r.readVarint();else if(1===t)e.name=r.readString();else if(5===t)e.extent=r.readVarint();else if(2===t)e.features.push(r.pos);else if(3===t)e.keys.push(r.readString());else if(4===t){for(var i=null,n=r.readVarint()+r.pos;r.pos<n;)i=1===(t=r.readVarint()>>3)?r.readString():2===t?r.readFloat():3===t?r.readDouble():4===t?r.readVarint64():5===t?r.readVarint():6===t?r.readSVarint():7===t?r.readBoolean():null;e.values.push(i)}}function T(t,e,r){if(1==t)e.id=r.readVarint();else if(2==t)for(var i=r.readVarint()+r.pos;r.pos<i;){var n=e.layer.keys[r.readVarint()],o=e.layer.values[r.readVarint()];e.properties[n]=o}else 3==t?e.type=r.readVarint():4==t&&(e.geometry=r.pos)}function E(t,e,r){t.pos=e.features[r];var i=t.readVarint()+t.pos,n={layer:e,type:0,properties:{}};return t.readFields(T,n,i),n}e.default=O},function(t,e,r){"use strict";t.exports=n;var i=r(468);function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e,r){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.realloc(i);for(var n=r.pos-1;n>=t;n--)r.buf[n+i]=r.buf[n]}function l(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function u(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function c(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function h(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function d(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function p(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function f(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function g(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function y(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function m(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var i=this.readVarint(),n=i>>3,o=this.pos;this.type=7&i,t(n,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,i=this.buf;return e=127&(r=i[this.pos++]),r<128?e:(e|=(127&(r=i[this.pos++]))<<7,r<128?e:(e|=(127&(r=i[this.pos++]))<<14,r<128?e:(e|=(127&(r=i[this.pos++]))<<21,r<128?e:function(t,e,r){var i,n,o=r.buf;if(n=o[r.pos++],i=(112&n)>>4,n<128)return a(t,i,e);if(n=o[r.pos++],i|=(127&n)<<3,n<128)return a(t,i,e);if(n=o[r.pos++],i|=(127&n)<<10,n<128)return a(t,i,e);if(n=o[r.pos++],i|=(127&n)<<17,n<128)return a(t,i,e);if(n=o[r.pos++],i|=(127&n)<<24,n<128)return a(t,i,e);if(n=o[r.pos++],i|=(1&n)<<31,n<128)return a(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,r){var i="",n=e;for(;n<r;){var o,a,s,l=t[n],u=null,c=l>239?4:l>223?3:l>191?2:1;if(n+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[n+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[n+1],a=t[n+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=t[n+1],a=t[n+2],s=t[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),n+=c}return i}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var r=o(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,i;t>=0?(r=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,i=i+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var i,n,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!n){i>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):n=i;continue}if(i<56320){t[r++]=239,t[r++]=191,t[r++]=189,n=i;continue}i=n-55296<<10|i-56320|65536,n=null}else n&&(t[r++]=239,t[r++]=191,t[r++]=189,n=null);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:(i<65536?t[r++]=i>>12|224:(t[r++]=i>>18|240,t[r++]=i>>12&63|128),t[r++]=i>>6&63|128),t[r++]=63&i|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&s(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var i=this.pos-r;i>=128&&s(r,i,this),this.pos=r-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,r){this.writeTag(t,n.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){this.writeMessage(t,l,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,d,e)},writePackedFloat:function(t,e){this.writeMessage(t,c,e)},writePackedDouble:function(t,e){this.writeMessage(t,h,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedFixed64:function(t,e){this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e){e.read=function(t,e,r,i,n){var o,a,s=8*n-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?n-1:0,d=r?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var a,s,l,u=8*o-n-1,c=(1<<u)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,n),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[r+p]=255&s,p+=f,s/=256,n-=8);for(a=a<<n|s,u+=n;u>0;t[r+p]=255&a,p+=f,a/=256,u-=8);t[r+p-f]|=128*g}},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(26),o=r(32),a=r(110),s=r(28),l=r(31),u=r(29),c=r(27),h=r(9),d=r(12),p=r(35),f=[null],g=Object(p.makeStructureNS)(f,{nd:function(t,e){e[e.length-1].ndrefs.push(t.getAttribute("ref"))},tag:_}),y=Object(p.makeStructureNS)(f,{node:function(t,e){var r=e[0],i=e[e.length-1],a=t.getAttribute("id"),s=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];i.nodes[a]=s;var l=Object(p.pushParseAndPop)({tags:{}},m,t,e);if(!Object(h.isEmpty)(l.tags)){var c=new u.default(s);Object(o.transformWithOptions)(c,!1,r);var d=new n.default(c);d.setId(a),d.setProperties(l.tags),i.features.push(d)}},way:function(t,e){var r=t.getAttribute("id"),i=Object(p.pushParseAndPop)({id:r,ndrefs:[],tags:{}},g,t,e);e[e.length-1].ways.push(i)}}),v=function(t){function e(){t.call(this),this.dataProjection=Object(d.get)("EPSG:4326")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesFromNode=function(t,e){var r=this.getReadOptions(t,e);if("osm"==t.localName){for(var a=Object(p.pushParseAndPop)({nodes:{},ways:[],features:[]},y,t,[r]),u=0;u<a.ways.length;u++){for(var h=a.ways[u],d=[],f=0,g=h.ndrefs.length;f<g;f++){var v=a.nodes[h.ndrefs[f]];Object(i.extend)(d,v)}var m=void 0;m=h.ndrefs[0]==h.ndrefs[h.ndrefs.length-1]?new c.default(d,s.default.XY,[d.length]):new l.default(d,s.default.XY),Object(o.transformWithOptions)(m,!1,r);var _=new n.default(m);_.setId(h.id),_.setProperties(h.tags),a.features.push(_)}if(a.features)return a.features}return[]},e}(a.default),m=Object(p.makeStructureNS)(f,{tag:_});function _(t,e){e[e.length-1].tags[t.getAttribute("k")]=t.getAttribute("v")}e.default=v},function(t,e,r){"use strict";r.r(e),r.d(e,"encodeDeltas",function(){return f}),r.d(e,"decodeDeltas",function(){return g}),r.d(e,"encodeFloats",function(){return y}),r.d(e,"decodeFloats",function(){return v}),r.d(e,"encodeSignedIntegers",function(){return m}),r.d(e,"decodeSignedIntegers",function(){return _}),r.d(e,"encodeUnsignedIntegers",function(){return O}),r.d(e,"decodeUnsignedIntegers",function(){return b}),r.d(e,"encodeUnsignedInteger",function(){return S});var i=r(15),n=r(26),o=r(32),a=r(234),s=r(28),l=r(31),u=r(53),c=r(471),h=r(78),d=r(12),p=function(t){function e(e){t.call(this);var r=e||{};this.dataProjection=Object(d.get)("EPSG:4326"),this.factor_=r.factor?r.factor:1e5,this.geometryLayout_=r.geometryLayout?r.geometryLayout:s.default.XY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);return new n.default(r)},e.prototype.readFeaturesFromText=function(t,e){return[this.readFeatureFromText(t,e)]},e.prototype.readGeometryFromText=function(t,e){var r=Object(u.getStrideForLayout)(this.geometryLayout_),i=g(t,r,this.factor_);Object(c.flipXY)(i,0,i.length,r,i);var n=Object(h.inflateCoordinates)(i,0,i.length,r);return Object(o.transformWithOptions)(new l.default(n,this.geometryLayout_),!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):(Object(i.assert)(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){var r=(t=Object(o.transformWithOptions)(t,!0,this.adaptOptions(e))).getFlatCoordinates(),i=t.getStride();return Object(c.flipXY)(r,0,r.length,i,r),f(r,i,this.factor_)},e}(a.default);function f(t,e,r){var i,n=r||1e5,o=new Array(e);for(i=0;i<e;++i)o[i]=0;for(var a=0,s=t.length;a<s;)for(i=0;i<e;++i,++a){var l=t[a],u=l-o[i];o[i]=l,t[a]=u}return y(t,n)}function g(t,e,r){var i,n=r||1e5,o=new Array(e);for(i=0;i<e;++i)o[i]=0;for(var a=v(t,n),s=0,l=a.length;s<l;)for(i=0;i<e;++i,++s)o[i]+=a[s],a[s]=o[i];return a}function y(t,e){for(var r=e||1e5,i=0,n=t.length;i<n;++i)t[i]=Math.round(t[i]*r);return m(t)}function v(t,e){for(var r=e||1e5,i=_(t),n=0,o=i.length;n<o;++n)i[n]/=r;return i}function m(t){for(var e=0,r=t.length;e<r;++e){var i=t[e];t[e]=i<0?~(i<<1):i<<1}return O(t)}function _(t){for(var e=b(t),r=0,i=e.length;r<i;++r){var n=e[r];e[r]=1&n?~(n>>1):n>>1}return e}function O(t){for(var e="",r=0,i=t.length;r<i;++r)e+=S(t[r]);return e}function b(t){for(var e=[],r=0,i=0,n=0,o=t.length;n<o;++n){var a=t.charCodeAt(n)-63;r|=(31&a)<<i,a<32?(e.push(r),r=0,i=0):i+=5}return e}function S(t){for(var e,r="";t>=32;)e=63+(32|31&t),r+=String.fromCharCode(e),t>>=5;return e=t+63,r+=String.fromCharCode(e)}e.default=p},function(t,e,r){"use strict";function i(t,e,r,i,n,o){var a,s;void 0!==n?(a=n,s=void 0!==o?o:0):(a=[],s=0);for(var l=e;l<r;){var u=t[l++];a[s++]=t[l++],a[s++]=u;for(var c=2;c<i;++c)a[s++]=t[l++]}return a.length=s,a}r.r(e),r.d(e,"flipXY",function(){return i})},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(32),o=r(231),a=r(31),s=r(41),l=r(55),u=r(62),c=r(29),h=r(27),d=r(12),p=function(t){function e(e){t.call(this);var r=e||{};this.layerName_=r.layerName,this.layers_=r.layers?r.layers:null,this.dataProjection=Object(d.get)(r.dataProjection?r.dataProjection:"EPSG:4326")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var r,i=t,n=null,o=null;i.transform&&(n=(r=i.transform).scale,o=r.translate);var a=i.arcs;r&&function(t,e,r){for(var i=0,n=t.length;i<n;++i)m(t[i],e,r)}(a,n,o);var s,l=[],u=i.objects,c=this.layerName_;for(var h in u)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===u[h].type?(s=u[h],l.push.apply(l,y(s,a,n,o,c,h,e))):(s=u[h],l.push(v(s,a,n,o,c,h,e))));return l}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(o.default),f={Point:function(t,e,r){var i=t.coordinates;e&&r&&_(i,e,r);return new c.default(i)},LineString:function(t,e){var r=g(t.arcs,e);return new a.default(r)},Polygon:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i)r[i]=g(t.arcs[i],e);return new h.default(r)},MultiPoint:function(t,e,r){var i=t.coordinates;if(e&&r)for(var n=0,o=i.length;n<o;++n)_(i[n],e,r);return new l.default(i)},MultiLineString:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i)r[i]=g(t.arcs[i],e);return new s.default(r)},MultiPolygon:function(t,e){for(var r=[],i=0,n=t.arcs.length;i<n;++i){for(var o=t.arcs[i],a=[],s=0,l=o.length;s<l;++s)a[s]=g(o[s],e);r[i]=a}return new u.default(r)}};function g(t,e){for(var r,i,n=[],o=0,a=t.length;o<a;++o)r=t[o],o>0&&n.pop(),i=r>=0?e[r]:e[~r].slice().reverse(),n.push.apply(n,i);for(var s=0,l=n.length;s<l;++s)n[s]=n[s].slice();return n}function y(t,e,r,i,n,o,a){for(var s=t.geometries,l=[],u=0,c=s.length;u<c;++u)l[u]=v(s[u],e,r,i,n,o,a);return l}function v(t,e,r,o,a,s,l){var u,c=t.type,h=f[c];u="Point"===c||"MultiPoint"===c?h(t,r,o):h(t,e);var d=new i.default;d.setGeometry(Object(n.transformWithOptions)(u,!1,l)),void 0!==t.id&&d.setId(t.id);var p=t.properties;return a&&(p||(p={}),p[a]=s),p&&d.setProperties(p),d}function m(t,e,r){for(var i=0,n=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=s[0],n+=s[1],s[0]=i,s[1]=n,_(s,e,r)}}function _(t,e,r){t[0]=t[0]*e[0]+r[0],t[1]=t[1]*e[1]+r[1]}e.default=p},function(t,e,r){"use strict";r.r(e),r.d(e,"writeFilter",function(){return k});var i=r(15),n=r(233),o=r(232),a=r(178),s=r(317),l=r(110),u=r(82),c=r(9),h=r(12),d=r(35),p={"http://www.opengis.net/gml":{boundedBy:Object(d.makeObjectPropertySetter)(a.default.prototype.readGeometryElement,"bounds")}},f={"http://www.opengis.net/wfs":{totalInserted:Object(d.makeObjectPropertySetter)(u.readNonNegativeInteger),totalUpdated:Object(d.makeObjectPropertySetter)(u.readNonNegativeInteger),totalDeleted:Object(d.makeObjectPropertySetter)(u.readNonNegativeInteger)}},g={"http://www.opengis.net/wfs":{TransactionSummary:Object(d.makeObjectPropertySetter)(function(t,e){return Object(d.pushParseAndPop)({},f,t,e)},"transactionSummary"),InsertResults:Object(d.makeObjectPropertySetter)(function(t,e){return Object(d.pushParseAndPop)([],j,t,e)},"insertIds")}},y={"http://www.opengis.net/wfs":{PropertyName:Object(d.makeChildAppender)(u.writeStringTextNode)}},v={"http://www.opengis.net/wfs":{Insert:Object(d.makeChildAppender)(function(t,e,r){var i=r[r.length-1],a=i.featureType,s=i.featureNS,l=i.gmlVersion,u=Object(d.createElementNS)(s,a);t.appendChild(u),2===l?n.default.prototype.writeFeatureElement(u,e,r):o.default.prototype.writeFeatureElement(u,e,r)}),Update:Object(d.makeChildAppender)(function(t,e,r){var n=r[r.length-1];Object(i.assert)(void 0!==e.getId(),27);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=I(a,o),u=e.getGeometryName();t.setAttribute("typeName",l),t.setAttributeNS(_,"xmlns:"+a,s);var c=e.getId();if(void 0!==c){for(var h=e.getKeys(),p=[],f=0,g=h.length;f<g;f++){var y=e.get(h[f]);if(void 0!==y){var m=h[f];y&&"function"==typeof y.getSimplifiedGeometry&&(m=u),p.push({name:m,value:y})}}Object(d.pushSerializeAndPop)({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},v,Object(d.makeSimpleNodeFactory)("Property"),p,r),P(t,c,r)}}),Delete:Object(d.makeChildAppender)(function(t,e,r){var n=r[r.length-1];Object(i.assert)(void 0!==e.getId(),26);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=I(a,o);t.setAttribute("typeName",l),t.setAttributeNS(_,"xmlns:"+a,s);var u=e.getId();void 0!==u&&P(t,u,r)}),Property:Object(d.makeChildAppender)(function(t,e,r){var i=Object(d.createElementNS)(b,"Name"),a=r[r.length-1].gmlVersion;if(t.appendChild(i),Object(u.writeStringTextNode)(i,e.name),void 0!==e.value&&null!==e.value){var s=Object(d.createElementNS)(b,"Value");t.appendChild(s),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===a?n.default.prototype.writeGeometryElement(s,e.value,r):o.default.prototype.writeGeometryElement(s,e.value,r):Object(u.writeStringTextNode)(s,e.value)}}),Native:Object(d.makeChildAppender)(function(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId);void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore));void 0!==e.value&&Object(u.writeStringTextNode)(t,e.value)})}},m="feature",_="http://www.w3.org/2000/xmlns/",O="http://www.opengis.net/ogc",b="http://www.opengis.net/wfs",S="http://www.opengis.net/fes",T={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},E="1.1.0",C=function(t){function e(e){t.call(this);var r=e||{};this.featureType_=r.featureType,this.featureNS_=r.featureNS,this.gmlFormat_=r.gmlFormat?r.gmlFormat:new o.default,this.schemaLocation_=r.schemaLocation?r.schemaLocation:T[E]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};Object(c.assign)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(c.assign)(r,this.getReadOptions(t,e||{}));var i=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[a.GMLNS].featureMember=Object(d.makeArrayPusher)(a.default.prototype.readFeaturesInternal);var n=Object(d.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,i,this.gmlFormat_);return n||(n=[]),n},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=Object(d.parse)(t);return this.readTransactionResponseFromDocument(e)}return Object(d.isDocument)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=Object(d.parse)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return Object(d.isDocument)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=Object(u.readNonNegativeIntegerString)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=r,Object(d.pushParseAndPop)(e,p,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return Object(d.pushParseAndPop)({},g,t,[])},e.prototype.writeGetFeature=function(t){var e,r=Object(d.createElementNS)(b,"GetFeature");if(r.setAttribute("service","WFS"),r.setAttribute("version","1.1.0"),t&&(t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams ",t.viewParams),e=t.filter,t.bbox)){Object(i.assert)(t.geometryName,12);var n=Object(s.bbox)(t.geometryName,t.bbox,t.srsName);e=e?Object(s.and)(e,n):n}r.setAttributeNS(d.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);var o={node:r};return Object(c.assign)(o,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(i.assert)(Array.isArray(t.featureTypes),11),function(t,e,r){var i=r[r.length-1],n=Object(c.assign)({},i);n.node=t,Object(d.pushSerializeAndPop)(n,R,Object(d.makeSimpleNodeFactory)("Query"),e,r)}(r,t.featureTypes,[o]),r},e.prototype.writeTransaction=function(t,e,r,i){var n,o,a=[],s=Object(d.createElementNS)(b,"Transaction"),l=i.version?i.version:E,u="1.0.0"===l?2:3;s.setAttribute("service","WFS"),s.setAttribute("version",l),i&&(n=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle));var h=T[l];s.setAttributeNS(d.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",h);var p=i.featurePrefix?i.featurePrefix:m;return t&&(o=Object(c.assign)({node:s},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:p,gmlVersion:u,hasZ:i.hasZ,srsName:i.srsName}),Object(c.assign)(o,n),Object(d.pushSerializeAndPop)(o,v,Object(d.makeSimpleNodeFactory)("Insert"),t,a)),e&&(o=Object(c.assign)({node:s},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:p,gmlVersion:u,hasZ:i.hasZ,srsName:i.srsName}),Object(c.assign)(o,n),Object(d.pushSerializeAndPop)(o,v,Object(d.makeSimpleNodeFactory)("Update"),e,a)),r&&Object(d.pushSerializeAndPop)({node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:p,gmlVersion:u,srsName:i.srsName},v,Object(d.makeSimpleNodeFactory)("Delete"),r,a),i.nativeElements&&Object(d.pushSerializeAndPop)({node:s,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:p,gmlVersion:u,srsName:i.srsName},v,Object(d.makeSimpleNodeFactory)("Native"),i.nativeElements,a),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),Object(h.get)(r.pop().srsName)}return null},e}(l.default);var x={"http://www.opengis.net/ogc":{FeatureId:Object(d.makeArrayPusher)(function(t,e){return t.getAttribute("fid")})}};var j={"http://www.opengis.net/wfs":{Feature:function(t,e){Object(d.parseNode)(x,t,e)}}};function P(t,e,r){var i=Object(d.createElementNS)(O,"Filter"),n=Object(d.createElementNS)(O,"FeatureId");i.appendChild(n),n.setAttribute("fid",e),t.appendChild(i)}function I(t,e){var r=(t=t||m)+":";return 0===e.indexOf(r)?e:r+e}var R={"http://www.opengis.net/wfs":{Query:Object(d.makeChildAppender)(function(t,e,r){var i,n=r[r.length-1],o=n.featurePrefix,a=n.featureNS,s=n.propertyNames,l=n.srsName;i=o?I(o,e):e;t.setAttribute("typeName",i),l&&t.setAttribute("srsName",l);a&&t.setAttributeNS(_,"xmlns:"+o,a);var u=Object(c.assign)({},n);u.node=t,Object(d.pushSerializeAndPop)(u,y,Object(d.makeSimpleNodeFactory)("PropertyName"),s,r);var h=n.filter;if(h){var p=Object(d.createElementNS)(O,"Filter");t.appendChild(p),L(p,h,r)}})},"http://www.opengis.net/ogc":{During:Object(d.makeChildAppender)(function(t,e,r){var i=Object(d.createElementNS)(S,"ValueReference");Object(u.writeStringTextNode)(i,e.propertyName),t.appendChild(i);var n=Object(d.createElementNS)(a.GMLNS,"TimePeriod");t.appendChild(n);var o=Object(d.createElementNS)(a.GMLNS,"begin");n.appendChild(o),D(o,e.begin);var s=Object(d.createElementNS)(a.GMLNS,"end");n.appendChild(s),D(s,e.end)}),And:Object(d.makeChildAppender)(w),Or:Object(d.makeChildAppender)(w),Not:Object(d.makeChildAppender)(function(t,e,r){var i={node:t},n=e.condition;Object(d.pushSerializeAndPop)(i,R,Object(d.makeSimpleNodeFactory)(n.getTagName()),[n],r)}),BBOX:Object(d.makeChildAppender)(function(t,e,r){r[r.length-1].srsName=e.srsName,F(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.extent,r)}),Contains:Object(d.makeChildAppender)(function(t,e,r){r[r.length-1].srsName=e.srsName,F(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,r)}),Intersects:Object(d.makeChildAppender)(function(t,e,r){r[r.length-1].srsName=e.srsName,F(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,r)}),Within:Object(d.makeChildAppender)(function(t,e,r){r[r.length-1].srsName=e.srsName,F(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,r)}),PropertyIsEqualTo:Object(d.makeChildAppender)(A),PropertyIsNotEqualTo:Object(d.makeChildAppender)(A),PropertyIsLessThan:Object(d.makeChildAppender)(A),PropertyIsLessThanOrEqualTo:Object(d.makeChildAppender)(A),PropertyIsGreaterThan:Object(d.makeChildAppender)(A),PropertyIsGreaterThanOrEqualTo:Object(d.makeChildAppender)(A),PropertyIsNull:Object(d.makeChildAppender)(function(t,e,r){F(t,e.propertyName)}),PropertyIsBetween:Object(d.makeChildAppender)(function(t,e,r){F(t,e.propertyName);var i=Object(d.createElementNS)(O,"LowerBoundary");t.appendChild(i),N(i,""+e.lowerBoundary);var n=Object(d.createElementNS)(O,"UpperBoundary");t.appendChild(n),N(n,""+e.upperBoundary)}),PropertyIsLike:Object(d.makeChildAppender)(function(t,e,r){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString());F(t,e.propertyName),N(t,""+e.pattern)})}};function L(t,e,r){var i={node:t};Object(d.pushSerializeAndPop)(i,R,Object(d.makeSimpleNodeFactory)(e.getTagName()),[e],r)}function w(t,e,r){for(var i={node:t},n=e.conditions,o=0,a=n.length;o<a;++o){var s=n[o];Object(d.pushSerializeAndPop)(i,R,Object(d.makeSimpleNodeFactory)(s.getTagName()),[s],r)}}function A(t,e,r){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),F(t,e.propertyName),N(t,""+e.expression)}function M(t,e,r){var i=Object(d.createElementNS)(O,t);Object(u.writeStringTextNode)(i,r),e.appendChild(i)}function F(t,e){M("PropertyName",t,e)}function N(t,e){M("Literal",t,e)}function D(t,e){var r=Object(d.createElementNS)(a.GMLNS,"TimeInstant");t.appendChild(r);var i=Object(d.createElementNS)(a.GMLNS,"timePosition");r.appendChild(i),Object(u.writeStringTextNode)(i,e)}function k(t){var e=Object(d.createElementNS)(O,"Filter");return L(e,t,[]),e}e.default=C},function(t,e,r){"use strict";r.r(e);var i=function(t){function e(e){t.call(this,"And",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(318).default);e.default=i},function(t,e,r){"use strict";r.r(e);var i=r(26),n=r(32),o=r(234),a=r(132),s=r(16),l=r(28),u=r(31),c=r(41),h=r(55),d=r(62),p=r(29),f=r(27),g={POINT:p.default,LINESTRING:u.default,POLYGON:f.default,MULTIPOINT:h.default,MULTILINESTRING:c.default,MULTIPOLYGON:d.default},y="EMPTY",v="Z",m="M",_=1,O=2,b=3,S=4,T=5,E=6,C={};for(var x in s.default)C[x]=s.default[x].toUpperCase();var j=function(t){this.wkt=t,this.index_=-1};j.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},j.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},j.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},j.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},j.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,i=e;if("("==e)t=O;else if(","==e)t=T;else if(")"==e)t=b;else if(this.isNumeric_(e)||"-"==e)t=S,i=this.readNumber_();else if(this.isAlpha_(e))t=_,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=E}return{position:r,value:i,type:t}},j.prototype.readNumber_=function(){var t,e=this.index_,r=!1,i=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},j.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()};var P=function(t){this.lexer_=t,this.token_,this.layout_=l.default.XY};P.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},P.prototype.isTokenType=function(t){return this.token_.type==t},P.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},P.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},P.prototype.parseGeometryLayout_=function(){var t=l.default.XY,e=this.token_;if(this.isTokenType(_)){var r=e.value;r===v?t=l.default.XYZ:r===m?t=l.default.XYM:"ZM"===r&&(t=l.default.XYZM),t!==l.default.XY&&this.consume_()}return t},P.prototype.parseGeometryCollectionText_=function(){if(this.match(O)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(T));if(this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parsePointText_=function(){if(this.match(O)){var t=this.parsePoint_();if(this.match(b))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},P.prototype.parseLineStringText_=function(){if(this.match(O)){var t=this.parsePointList_();if(this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parsePolygonText_=function(){if(this.match(O)){var t=this.parseLineStringTextList_();if(this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parseMultiPointText_=function(){var t;if(this.match(O)){if(t=this.token_.type==O?this.parsePointTextList_():this.parsePointList_(),this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parseMultiLineStringText_=function(){if(this.match(O)){var t=this.parseLineStringTextList_();if(this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parseMultiPolygonText_=function(){if(this.match(O)){var t=this.parsePolygonTextList_();if(this.match(b))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},P.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var i=this.token_;if(!this.match(S))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},P.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(T);)t.push(this.parsePoint_());return t},P.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(T);)t.push(this.parsePointText_());return t},P.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(T);)t.push(this.parseLineStringText_());return t},P.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(T);)t.push(this.parsePolygonText_());return t},P.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(_)&&this.token_.value==y;return t&&this.consume_(),t},P.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},P.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(_)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new a.default(r)}var i,n=g[e];if(!n)throw new Error("Invalid geometry type: "+e);switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return i||(i=n===g.POINT?[NaN,NaN]:[]),new n(i,this.layout_)}throw new Error(this.formatErrorMessage_())};var I=function(t){function e(e){t.call(this);var r=e||{};this.splitCollection_=void 0!==r.splitCollection&&r.splitCollection}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse_=function(t){var e=new j(t);return new P(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);if(r){var n=new i.default;return n.setGeometry(r),n}return null},e.prototype.readFeaturesFromText=function(t,e){for(var r=[],n=this.readGeometryFromText(t,e),o=[],a=0,l=(r=this.splitCollection_&&n.getType()==s.default.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;a<l;++a){var u=new i.default;u.setGeometry(r[a]),o.push(u)}return o},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return r?Object(n.transformWithOptions)(r,!1,e):null},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(t[i].getGeometry());var o=new a.default(r);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return M(Object(n.transformWithOptions)(t,!0,e))},e}(o.default);function R(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function L(t){for(var e=t.getCoordinates(),r=[],i=0,n=e.length;i<n;++i)r.push(e[i].join(" "));return r.join(",")}function w(t){for(var e=[],r=t.getLinearRings(),i=0,n=r.length;i<n;++i)e.push("("+L(r[i])+")");return e.join(",")}var A={Point:R,LineString:L,Polygon:w,MultiPoint:function(t){for(var e=[],r=t.getPoints(),i=0,n=r.length;i<n;++i)e.push("("+R(r[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),i=0,n=r.length;i<n;++i)e.push("("+L(r[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),i=0,n=r.length;i<n;++i)e.push("("+w(r[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),i=0,n=r.length;i<n;++i)e.push(M(r[i]));return e.join(",")}};function M(t){var e=t.getType(),r=(0,A[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var i=function(t){var e=t.getLayout(),r="";return e!==l.default.XYZ&&e!==l.default.XYZM||(r+=v),e!==l.default.XYM&&e!==l.default.XYZM||(r+=m),r}(t);i.length>0&&(e+=" "+i)}return 0===r.length?e+" "+y:e+"("+r+")"}e.default=I},function(t,e,r){"use strict";r.r(e);var i=r(237),n=r(238),o=r(82),a=r(35),s=[null,"http://www.opengis.net/wms"],l=Object(a.makeStructureNS)(s,{Service:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},h,t,e)}),Capability:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},u,t,e)})}),u=Object(a.makeStructureNS)(s,{Request:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},_,t,e)}),Exception:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)([],g,t,e)}),Layer:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},y,t,e)})}),c=function(t){function e(){t.call(this),this.version=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Object(a.pushParseAndPop)({version:this.version},l,t,[]);return e||null},e}(n.default),h=Object(a.makeStructureNS)(s,{Name:Object(a.makeObjectPropertySetter)(o.readString),Title:Object(a.makeObjectPropertySetter)(o.readString),Abstract:Object(a.makeObjectPropertySetter)(o.readString),KeywordList:Object(a.makeObjectPropertySetter)(I),OnlineResource:Object(a.makeObjectPropertySetter)(i.readHref),ContactInformation:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},d,t,e)}),Fees:Object(a.makeObjectPropertySetter)(o.readString),AccessConstraints:Object(a.makeObjectPropertySetter)(o.readString),LayerLimit:Object(a.makeObjectPropertySetter)(o.readNonNegativeInteger),MaxWidth:Object(a.makeObjectPropertySetter)(o.readNonNegativeInteger),MaxHeight:Object(a.makeObjectPropertySetter)(o.readNonNegativeInteger)}),d=Object(a.makeStructureNS)(s,{ContactPersonPrimary:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},p,t,e)}),ContactPosition:Object(a.makeObjectPropertySetter)(o.readString),ContactAddress:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},f,t,e)}),ContactVoiceTelephone:Object(a.makeObjectPropertySetter)(o.readString),ContactFacsimileTelephone:Object(a.makeObjectPropertySetter)(o.readString),ContactElectronicMailAddress:Object(a.makeObjectPropertySetter)(o.readString)}),p=Object(a.makeStructureNS)(s,{ContactPerson:Object(a.makeObjectPropertySetter)(o.readString),ContactOrganization:Object(a.makeObjectPropertySetter)(o.readString)}),f=Object(a.makeStructureNS)(s,{AddressType:Object(a.makeObjectPropertySetter)(o.readString),Address:Object(a.makeObjectPropertySetter)(o.readString),City:Object(a.makeObjectPropertySetter)(o.readString),StateOrProvince:Object(a.makeObjectPropertySetter)(o.readString),PostCode:Object(a.makeObjectPropertySetter)(o.readString),Country:Object(a.makeObjectPropertySetter)(o.readString)}),g=Object(a.makeStructureNS)(s,{Format:Object(a.makeArrayPusher)(o.readString)}),y=Object(a.makeStructureNS)(s,{Name:Object(a.makeObjectPropertySetter)(o.readString),Title:Object(a.makeObjectPropertySetter)(o.readString),Abstract:Object(a.makeObjectPropertySetter)(o.readString),KeywordList:Object(a.makeObjectPropertySetter)(I),CRS:Object(a.makeObjectPropertyPusher)(o.readString),EX_GeographicBoundingBox:Object(a.makeObjectPropertySetter)(function(t,e){var r=Object(a.pushParseAndPop)({},m,t,e);if(!r)return;var i=r.westBoundLongitude,n=r.southBoundLatitude,o=r.eastBoundLongitude,s=r.northBoundLatitude;if(void 0===i||void 0===n||void 0===o||void 0===s)return;return[i,n,o,s]}),BoundingBox:Object(a.makeObjectPropertyPusher)(function(t,e){var r=[Object(o.readDecimalString)(t.getAttribute("minx")),Object(o.readDecimalString)(t.getAttribute("miny")),Object(o.readDecimalString)(t.getAttribute("maxx")),Object(o.readDecimalString)(t.getAttribute("maxy"))],i=[Object(o.readDecimalString)(t.getAttribute("resx")),Object(o.readDecimalString)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:r,res:i}}),Dimension:Object(a.makeObjectPropertyPusher)(function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Object(o.readBooleanString)(t.getAttribute("multipleValues")),nearestValue:Object(o.readBooleanString)(t.getAttribute("nearestValue")),current:Object(o.readBooleanString)(t.getAttribute("current")),values:Object(o.readString)(t)}}),Attribution:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},v,t,e)}),AuthorityURL:Object(a.makeObjectPropertyPusher)(function(t,e){var r=x(t,e);if(r)return r.name=t.getAttribute("name"),r;return}),Identifier:Object(a.makeObjectPropertyPusher)(o.readString),MetadataURL:Object(a.makeObjectPropertyPusher)(function(t,e){var r=x(t,e);if(r)return r.type=t.getAttribute("type"),r;return}),DataURL:Object(a.makeObjectPropertyPusher)(x),FeatureListURL:Object(a.makeObjectPropertyPusher)(x),Style:Object(a.makeObjectPropertyPusher)(function(t,e){return Object(a.pushParseAndPop)({},T,t,e)}),MinScaleDenominator:Object(a.makeObjectPropertySetter)(o.readDecimal),MaxScaleDenominator:Object(a.makeObjectPropertySetter)(o.readDecimal),Layer:Object(a.makeObjectPropertyPusher)(function(t,e){var r=e[e.length-1],i=Object(a.pushParseAndPop)({},y,t,e);if(!i)return;var n=Object(o.readBooleanString)(t.getAttribute("queryable"));void 0===n&&(n=r.queryable);i.queryable=void 0!==n&&n;var s=Object(o.readNonNegativeIntegerString)(t.getAttribute("cascaded"));void 0===s&&(s=r.cascaded);i.cascaded=s;var l=Object(o.readBooleanString)(t.getAttribute("opaque"));void 0===l&&(l=r.opaque);i.opaque=void 0!==l&&l;var u=Object(o.readBooleanString)(t.getAttribute("noSubsets"));void 0===u&&(u=r.noSubsets);i.noSubsets=void 0!==u&&u;var c=Object(o.readDecimalString)(t.getAttribute("fixedWidth"));c||(c=r.fixedWidth);i.fixedWidth=c;var h=Object(o.readDecimalString)(t.getAttribute("fixedHeight"));h||(h=r.fixedHeight);i.fixedHeight=h,["Style","CRS","AuthorityURL"].forEach(function(t){if(t in r){var e=i[t]||[];i[t]=e.concat(r[t])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(t){if(!(t in i)){var e=r[t];i[t]=e}}),i})}),v=Object(a.makeStructureNS)(s,{Title:Object(a.makeObjectPropertySetter)(o.readString),OnlineResource:Object(a.makeObjectPropertySetter)(i.readHref),LogoURL:Object(a.makeObjectPropertySetter)(P)}),m=Object(a.makeStructureNS)(s,{westBoundLongitude:Object(a.makeObjectPropertySetter)(o.readDecimal),eastBoundLongitude:Object(a.makeObjectPropertySetter)(o.readDecimal),southBoundLatitude:Object(a.makeObjectPropertySetter)(o.readDecimal),northBoundLatitude:Object(a.makeObjectPropertySetter)(o.readDecimal)}),_=Object(a.makeStructureNS)(s,{GetCapabilities:Object(a.makeObjectPropertySetter)(j),GetMap:Object(a.makeObjectPropertySetter)(j),GetFeatureInfo:Object(a.makeObjectPropertySetter)(j)}),O=Object(a.makeStructureNS)(s,{Format:Object(a.makeObjectPropertyPusher)(o.readString),DCPType:Object(a.makeObjectPropertyPusher)(function(t,e){return Object(a.pushParseAndPop)({},b,t,e)})}),b=Object(a.makeStructureNS)(s,{HTTP:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},S,t,e)})}),S=Object(a.makeStructureNS)(s,{Get:Object(a.makeObjectPropertySetter)(x),Post:Object(a.makeObjectPropertySetter)(x)}),T=Object(a.makeStructureNS)(s,{Name:Object(a.makeObjectPropertySetter)(o.readString),Title:Object(a.makeObjectPropertySetter)(o.readString),Abstract:Object(a.makeObjectPropertySetter)(o.readString),LegendURL:Object(a.makeObjectPropertyPusher)(P),StyleSheetURL:Object(a.makeObjectPropertySetter)(x),StyleURL:Object(a.makeObjectPropertySetter)(x)}),E=Object(a.makeStructureNS)(s,{Format:Object(a.makeObjectPropertySetter)(o.readString),OnlineResource:Object(a.makeObjectPropertySetter)(i.readHref)}),C=Object(a.makeStructureNS)(s,{Keyword:Object(a.makeArrayPusher)(o.readString)});function x(t,e){return Object(a.pushParseAndPop)({},E,t,e)}function j(t,e){return Object(a.pushParseAndPop)({},O,t,e)}function P(t,e){var r=x(t,e);if(r){var i=[Object(o.readNonNegativeIntegerString)(t.getAttribute("width")),Object(o.readNonNegativeIntegerString)(t.getAttribute("height"))];return r.size=i,r}}function I(t,e){return Object(a.pushParseAndPop)([],C,t,e)}e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(13),n=r(233),o=r(110),a=r(9),s=r(35),l=function(t){function e(e){t.call(this);var r=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new n.default,this.layers_=r.layers?r.layers:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var r=t.localName,n=[];if(0===t.childNodes.length)return n;if("msGMLOutput"==r)for(var o=0,a=t.childNodes.length;o<a;o++){var l=t.childNodes[o];if(l.nodeType===Node.ELEMENT_NODE){var u=l,c=e[0],h=u.localName.replace("_layer","");if(!this.layers_||Object(i.includes)(this.layers_,h)){var d=h+"_feature";c.featureType=d,c.featureNS=this.featureNS_;var p={};p[d]=Object(s.makeArrayPusher)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var f=Object(s.makeStructureNS)([c.featureNS,null],p);u.setAttribute("namespaceURI",this.featureNS_);var g=Object(s.pushParseAndPop)([],f,u,e,this.gmlFormat_);g&&Object(i.extend)(n,g)}}}if("FeatureCollection"==r){var y=Object(s.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);y&&(n=y)}return n},e.prototype.readFeaturesFromNode=function(t,e){var r={};return e&&Object(a.assign)(r,this.getReadOptions(t,e)),this.readFeatures_(t,[r])},e}(o.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(479),o=r(237),a=r(238),s=r(82),l=r(35),u=[null,"http://www.opengis.net/wmts/1.0"],c=[null,"http://www.opengis.net/ows/1.1"],h=Object(l.makeStructureNS)(u,{Contents:Object(l.makeObjectPropertySetter)(function(t,e){return Object(l.pushParseAndPop)({},p,t,e)})}),d=function(t){function e(){t.call(this),this.owsParser_=new n.default}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version").trim(),r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=Object(l.pushParseAndPop)(r,h,t,[]))||null):null},e}(a.default),p=Object(l.makeStructureNS)(u,{Layer:Object(l.makeObjectPropertyPusher)(function(t,e){return Object(l.pushParseAndPop)({},f,t,e)}),TileMatrixSet:Object(l.makeObjectPropertyPusher)(function(t,e){return Object(l.pushParseAndPop)({},b,t,e)})}),f=Object(l.makeStructureNS)(u,{Style:Object(l.makeObjectPropertyPusher)(function(t,e){var r=Object(l.pushParseAndPop)({},g,t,e);if(!r)return;var i="true"===t.getAttribute("isDefault");return r.isDefault=i,r}),Format:Object(l.makeObjectPropertyPusher)(s.readString),TileMatrixSetLink:Object(l.makeObjectPropertyPusher)(function(t,e){return Object(l.pushParseAndPop)({},y,t,e)}),Dimension:Object(l.makeObjectPropertyPusher)(function(t,e){return Object(l.pushParseAndPop)({},_,t,e)}),ResourceURL:Object(l.makeObjectPropertyPusher)(function(t,e){var r=t.getAttribute("format"),i=t.getAttribute("template"),n=t.getAttribute("resourceType"),o={};r&&(o.format=r);i&&(o.template=i);n&&(o.resourceType=n);return o})},Object(l.makeStructureNS)(c,{Title:Object(l.makeObjectPropertySetter)(s.readString),Abstract:Object(l.makeObjectPropertySetter)(s.readString),WGS84BoundingBox:Object(l.makeObjectPropertySetter)(function(t,e){var r=Object(l.pushParseAndPop)([],O,t,e);if(2!=r.length)return;return Object(i.boundingExtent)(r)}),Identifier:Object(l.makeObjectPropertySetter)(s.readString)})),g=Object(l.makeStructureNS)(u,{LegendURL:Object(l.makeObjectPropertyPusher)(function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=Object(o.readHref)(t),r})},Object(l.makeStructureNS)(c,{Title:Object(l.makeObjectPropertySetter)(s.readString),Identifier:Object(l.makeObjectPropertySetter)(s.readString)})),y=Object(l.makeStructureNS)(u,{TileMatrixSet:Object(l.makeObjectPropertySetter)(s.readString),TileMatrixSetLimits:Object(l.makeObjectPropertySetter)(function(t,e){return Object(l.pushParseAndPop)([],v,t,e)})}),v=Object(l.makeStructureNS)(u,{TileMatrixLimits:Object(l.makeArrayPusher)(function(t,e){return Object(l.pushParseAndPop)({},m,t,e)})}),m=Object(l.makeStructureNS)(u,{TileMatrix:Object(l.makeObjectPropertySetter)(s.readString),MinTileRow:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileRow:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),MinTileCol:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileCol:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger)}),_=Object(l.makeStructureNS)(u,{Default:Object(l.makeObjectPropertySetter)(s.readString),Value:Object(l.makeObjectPropertyPusher)(s.readString)},Object(l.makeStructureNS)(c,{Identifier:Object(l.makeObjectPropertySetter)(s.readString)})),O=Object(l.makeStructureNS)(c,{LowerCorner:Object(l.makeArrayPusher)(T),UpperCorner:Object(l.makeArrayPusher)(T)}),b=Object(l.makeStructureNS)(u,{WellKnownScaleSet:Object(l.makeObjectPropertySetter)(s.readString),TileMatrix:Object(l.makeObjectPropertyPusher)(function(t,e){return Object(l.pushParseAndPop)({},S,t,e)})},Object(l.makeStructureNS)(c,{SupportedCRS:Object(l.makeObjectPropertySetter)(s.readString),Identifier:Object(l.makeObjectPropertySetter)(s.readString)})),S=Object(l.makeStructureNS)(u,{TopLeftCorner:Object(l.makeObjectPropertySetter)(T),ScaleDenominator:Object(l.makeObjectPropertySetter)(s.readDecimal),TileWidth:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),TileHeight:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixWidth:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixHeight:Object(l.makeObjectPropertySetter)(s.readNonNegativeInteger)},Object(l.makeStructureNS)(c,{Identifier:Object(l.makeObjectPropertySetter)(s.readString)}));function T(t,e){var r=Object(s.readString)(t).split(/\s+/);if(r&&2==r.length){var i=+r[0],n=+r[1];if(!isNaN(i)&&!isNaN(n))return[i,n]}}e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(237),n=r(238),o=r(82),a=r(35),s=[null,"http://www.opengis.net/ows/1.1"],l=Object(a.makeStructureNS)(s,{ServiceIdentification:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},b,t,e)}),ServiceProvider:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},S,t,e)}),OperationsMetadata:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},v,t,e)})}),u=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=Object(a.pushParseAndPop)({},l,t,[]);return e||null},e}(n.default),c=Object(a.makeStructureNS)(s,{DeliveryPoint:Object(a.makeObjectPropertySetter)(o.readString),City:Object(a.makeObjectPropertySetter)(o.readString),AdministrativeArea:Object(a.makeObjectPropertySetter)(o.readString),PostalCode:Object(a.makeObjectPropertySetter)(o.readString),Country:Object(a.makeObjectPropertySetter)(o.readString),ElectronicMailAddress:Object(a.makeObjectPropertySetter)(o.readString)}),h=Object(a.makeStructureNS)(s,{Value:Object(a.makeObjectPropertyPusher)(function(t,e){return Object(o.readString)(t)})}),d=Object(a.makeStructureNS)(s,{AllowedValues:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},h,t,e)})}),p=Object(a.makeStructureNS)(s,{Phone:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},m,t,e)}),Address:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},c,t,e)})}),f=Object(a.makeStructureNS)(s,{HTTP:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},g,t,e)})}),g=Object(a.makeStructureNS)(s,{Get:Object(a.makeObjectPropertyPusher)(function(t,e){var r=Object(i.readHref)(t);if(!r)return;return Object(a.pushParseAndPop)({href:r},_,t,e)}),Post:void 0}),y=Object(a.makeStructureNS)(s,{DCP:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},f,t,e)})}),v=Object(a.makeStructureNS)(s,{Operation:function(t,e){var r=t.getAttribute("name"),i=Object(a.pushParseAndPop)({},y,t,e);if(!i)return;e[e.length-1][r]=i}}),m=Object(a.makeStructureNS)(s,{Voice:Object(a.makeObjectPropertySetter)(o.readString),Facsimile:Object(a.makeObjectPropertySetter)(o.readString)}),_=Object(a.makeStructureNS)(s,{Constraint:Object(a.makeObjectPropertyPusher)(function(t,e){var r=t.getAttribute("name");if(!r)return;return Object(a.pushParseAndPop)({name:r},d,t,e)})}),O=Object(a.makeStructureNS)(s,{IndividualName:Object(a.makeObjectPropertySetter)(o.readString),PositionName:Object(a.makeObjectPropertySetter)(o.readString),ContactInfo:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},p,t,e)})}),b=Object(a.makeStructureNS)(s,{Abstract:Object(a.makeObjectPropertySetter)(o.readString),AccessConstraints:Object(a.makeObjectPropertySetter)(o.readString),Fees:Object(a.makeObjectPropertySetter)(o.readString),Title:Object(a.makeObjectPropertySetter)(o.readString),ServiceTypeVersion:Object(a.makeObjectPropertySetter)(o.readString),ServiceType:Object(a.makeObjectPropertySetter)(o.readString)}),S=Object(a.makeStructureNS)(s,{ProviderName:Object(a.makeObjectPropertySetter)(o.readString),ProviderSite:Object(a.makeObjectPropertySetter)(i.readHref),ServiceContact:Object(a.makeObjectPropertySetter)(function(t,e){return Object(a.pushParseAndPop)({},O,t,e)})});e.default=u},function(t,e,r){"use strict";r.r(e);var i=r(8),n=r(19),o=r(18),a=r(80),s=r(14),l=r(9),u=r(68),c=r(235),h=r(71),d={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},p=["#00f","#0ff","#0f0","#ff0","#f00"],f=function(t){function e(e){var r=e||{},o=Object(l.assign)({},r);delete o.gradient,delete o.radius,delete o.blur,delete o.shadow,delete o.weight,t.call(this,o),this.gradient_=null,this.shadow_=void 0!==r.shadow?r.shadow:250,this.circleImage_=void 0,this.styleCache_=null,Object(i.listen)(this,Object(n.getChangeEventType)(d.GRADIENT),this.handleGradientChanged_,this),this.setGradient(r.gradient?r.gradient:p),this.setBlur(void 0!==r.blur?r.blur:15),this.setRadius(void 0!==r.radius?r.radius:8),Object(i.listen)(this,Object(n.getChangeEventType)(d.BLUR),this.handleStyleChanged_,this),Object(i.listen)(this,Object(n.getChangeEventType)(d.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var a,f=r.weight?r.weight:"weight";a="string"==typeof f?function(t){return t.get(f)}:f,this.setStyle(function(t,e){var r=a(t),i=void 0!==r?Object(s.clamp)(r,0,1):1,n=255*i|0,o=this.styleCache_[n];return o||(o=[new h.default({image:new c.default({opacity:i,src:this.circleImage_})})],this.styleCache_[n]=o),o}.bind(this)),this.setRenderOrder(null),Object(i.listen)(this,u.default.RENDER,this.handleRender_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),r=t+e+1,i=2*r,n=Object(o.createCanvasContext2D)(i,i);n.shadowOffsetX=n.shadowOffsetY=this.shadow_,n.shadowBlur=e,n.shadowColor="#000",n.beginPath();var a=r-this.shadow_;return n.arc(a,a,t,0,2*Math.PI,!0),n.fill(),n.canvas.toDataURL()},e.prototype.getBlur=function(){return this.get(d.BLUR)},e.prototype.getGradient=function(){return this.get(d.GRADIENT)},e.prototype.getRadius=function(){return this.get(d.RADIUS)},e.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=Object(o.createCanvasContext2D)(1,256),r=e.createLinearGradient(0,0,1,256),i=1/(t.length-1),n=0,a=t.length;n<a;++n)r.addColorStop(n*i,t[n]);return e.fillStyle=r,e.fillRect(0,0,1,256),e.getImageData(0,0,1,256).data}(this.getGradient())},e.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},e.prototype.handleRender_=function(t){for(var e=t.context,r=e.canvas,i=e.getImageData(0,0,r.width,r.height),n=i.data,o=0,a=n.length;o<a;o+=4){var s=4*n[o+3];s&&(n[o]=this.gradient_[s],n[o+1]=this.gradient_[s+1],n[o+2]=this.gradient_[s+2])}e.putImageData(i,0,0)},e.prototype.setBlur=function(t){this.set(d.BLUR,t)},e.prototype.setGradient=function(t){this.set(d.GRADIENT,t)},e.prototype.setRadius=function(t){this.set(d.RADIUS,t)},e}(a.default);e.default=f},function(t,e,r){"use strict";r.r(e);var i=r(52),n=r(15),o=r(335),a=r(80),s=r(300),l=r(9),u=function(t){function e(e){var r=e||{},o=r.renderMode||s.default.HYBRID;Object(n.assert)(void 0==o||o==s.default.IMAGE||o==s.default.HYBRID||o==s.default.VECTOR,28),r.declutter&&o==s.default.IMAGE&&(o=s.default.HYBRID),r.renderMode=o;var a=Object(l.assign)({},r);delete a.preload,delete a.useInterimTilesOnError,t.call(this,a),this.setPreload(r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=i.default.VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o.default.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(o.default.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(a.default);u.prototype.getSource,e.default=u},function(t,e,r){"use strict";r.r(e);var i=r(112),n=r(1),o=r(239),a=r(12),s=r(48),l=r(43),u=r(42),c=r(81),h=function(t){function e(e){var r=void 0!==e.hidpi&&e.hidpi;t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(a.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:s.default.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.hidpi_=r,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;var i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;Object(o.jsonp)(i,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],r=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,o=this.getProjection(),l=Object(c.extentFromProjection)(o),h=this.hidpi_?2:1,d=e.imageWidth==e.imageHeight?e.imageWidth/h:[e.imageWidth/h,e.imageHeight/h],p=Object(c.createXYZ)({extent:l,minZoom:e.zoomMin,maxZoom:r,tileSize:d});this.tileGrid=p;var f=this.culture_,g=this.hidpi_;if(this.tileUrlFunction=Object(i.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(t){var r=[0,0,0],i=e.imageUrl.replace("{subdomain}",t).replace("{culture}",f);return function(t,e,n){if(t){Object(u.createOrUpdate)(t[0],t[1],-t[2]-1,r);var o=i;return g&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",Object(u.quadKey)(r))}}})),e.imageryProviders){var y=Object(a.getTransformFromProjections)(Object(a.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var r=[],i=t.viewState,o=this.getTileGrid().getTileCoordForCoordAndResolution(i.center,i.resolution)[0];return e.imageryProviders.map(function(e){for(var i=!1,a=e.coverageAreas,s=0,l=a.length;s<l;++s){var u=a[s];if(o>=u.zoomMin&&o<=u.zoomMax){var c=u.bbox,h=[c[1],c[0],c[3],c[2]],d=Object(n.applyTransform)(h,y);if(Object(n.intersects)(d,t.extent)){i=!0;break}}}i&&r.push(e.attribution)}),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),r}.bind(this))}this.setState(s.default.READY)}else this.setState(s.default.ERROR)},e}(l.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(105),n=r(60),o=r(30),a=r(8),s=r(10),l=r(1),u=r(14),c=r(180),h=r(336),d=function(t){function e(e,r,n,a,s,d,p,f,g,y,v){t.call(this,s,o.default.IDLE),this.renderEdges_=void 0!==v&&v,this.pixelRatio_=p,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=a,this.wrappedTileCoord_=d||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var m=a.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent(),O=this.sourceTileGrid_.getExtent(),b=_?Object(l.getIntersection)(m,_):m;if(0!==Object(l.getArea)(b)){var S=e.getExtent();S&&(O=O?Object(l.getIntersection)(O,S):S);var T=a.getResolution(this.wrappedTileCoord_[0]),E=Object(l.getCenter)(b),C=Object(c.calculateSourceResolution)(e,n,E,T);if(!isFinite(C)||C<=0)this.state=o.default.EMPTY;else{var x=void 0!==y?y:i.ERROR_THRESHOLD;if(this.triangulation_=new h.default(e,n,b,O,C*x),0!==this.triangulation_.getTriangles().length){this.sourceZ_=r.getZForResolution(C);var j=this.triangulation_.calculateSourceExtent();if(O&&(e.canWrapX()?(j[1]=Object(u.clamp)(j[1],O[1],O[3]),j[3]=Object(u.clamp)(j[3],O[1],O[3])):j=Object(l.getIntersection)(j,O)),Object(l.getArea)(j)){for(var P=r.getTileRangeForExtentAndZ(j,this.sourceZ_),I=P.minX;I<=P.maxX;I++)for(var R=P.minY;R<=P.maxY;R++){var L=g(this.sourceZ_,I,R,p);L&&this.sourceTiles_.push(L)}0===this.sourceTiles_.length&&(this.state=o.default.EMPTY)}else this.state=o.default.EMPTY}else this.state=o.default.EMPTY}}else this.state=o.default.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,i){e&&e.getState()==o.default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.default.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i="number"==typeof r?r:r[0],n="number"==typeof r?r:r[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(c.render)(i,n,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,i){var n=e.getState();if(n==o.default.IDLE||n==o.default.LOADING){t++;var l=Object(a.listen)(e,s.default.CHANGE,function(r){var i=e.getState();i!=o.default.LOADED&&i!=o.default.ERROR&&i!=o.default.EMPTY||(Object(a.unlistenByKey)(l),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(l)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,r){t.getState()==o.default.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null},e}(n.default);e.default=d},function(t,e,r){"use strict";r.r(e),e.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,r){"use strict";r.r(e);var i=r(9),n=r(48),o=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX}),this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},this.initializeMap_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){Object(i.assign)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,t)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",e),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var r=e.target;if(!r.status||r.status>=200&&r.status<300){var i;try{i=JSON.parse(r.responseText)}catch(t){return void this.setState(n.default.ERROR)}this.applyTemplate_(i),this.templateCache_[t]=i,this.setState(n.default.READY)}else this.setState(n.default.ERROR)},e.prototype.handleInitError_=function(t){this.setState(n.default.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(r(181).default);e.default=o},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(15),o=r(26),a=r(16),s=r(39),l=r(8),u=r(10),c=r(1),h=r(29),d=function(t){function e(e){t.call(this,{attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(n.assert)(e.getType()==a.default.POINT,10),e},this.source=e.source,Object(l.listen)(this.source,u.default.CHANGE,this.refresh,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,r){this.source.loadFeatures(t,e,r),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),t.prototype.refresh.call(this)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=Object(c.createEmpty)(),e=this.distance*this.resolution,r=this.source.getFeatures(),n={},o=0,a=r.length;o<a;o++){var s=r[o];if(!(Object(i.getUid)(s)in n)){var l=this.geometryFunction(s);if(l){var u=l.getCoordinates();Object(c.createOrUpdateFromCoordinate)(u,t),Object(c.buffer)(t,e,t);var h=this.source.getFeaturesInExtent(t);h=h.filter(function(t){var e=Object(i.getUid)(t);return!(e in n)&&(n[e]=!0,!0)}),this.features.push(this.createCluster(h))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],r=t.length-1;r>=0;--r){var i=this.geometryFunction(t[r]);i?Object(s.add)(e,i.getCoordinates()):t.splice(r,1)}Object(s.scale)(e,1/t.length);var n=new o.default(new h.default(e));return n.set("features",t),n},e}(r(89).default);e.default=d},function(t,e,r){"use strict";r.r(e);var i=r(105),n=r(117),o=r(59),a=r(8),s=r(10),l=r(1),u=r(180),c=r(336),h=function(t){function e(e,r,n,a,s,h){var d=e.getExtent(),p=r.getExtent(),f=p?Object(l.getIntersection)(n,p):n,g=Object(l.getCenter)(f),y=Object(u.calculateSourceResolution)(e,r,g,a),v=i.ERROR_THRESHOLD,m=new c.default(e,r,f,d,y*v),_=h(m.calculateSourceExtent(),y,s),O=o.default.LOADED;_&&(O=o.default.IDLE);var b=_?_.getPixelRatio():1;t.call(this,n,a,b,O),this.targetProj_=r,this.maxSourceExtent_=d,this.triangulation_=m,this.targetResolution_=a,this.targetExtent_=n,this.sourceImage_=_,this.sourcePixelRatio_=b,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==o.default.LOADED){var e=Object(l.getWidth)(this.targetExtent_)/this.targetResolution_,r=Object(l.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(u.render)(e,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==o.default.LOADED||t==o.default.ERROR?this.reproject_():(this.sourceListenerKey_=Object(a.listen)(this.sourceImage_,s.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=o.default.LOADED&&e!=o.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(a.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(n.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(69),n=r(15),o=r(8),a=r(10),s=r(1),l=r(9),u=r(72),c=r(65),h=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions}),this.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,this.hidpi_=void 0===r.hidpi||r.hidpi,this.url_=r.url,this.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:u.defaultImageLoadFunction,this.params_=r.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==r.ratio?r.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,n){if(void 0===this.url_)return null;e=this.findNearestResolution(e),r=this.hidpi_?r:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==e&&u.getPixelRatio()==r&&Object(s.containsExtent)(u.getExtent(),t))return u;var c={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(l.assign)(c,this.params_);var h=((t=t.slice())[0]+t[2])/2,d=(t[1]+t[3])/2;if(1!=this.ratio_){var p=this.ratio_*Object(s.getWidth)(t)/2,f=this.ratio_*Object(s.getHeight)(t)/2;t[0]=h-p,t[1]=d-f,t[2]=h+p,t[3]=d+f}var g=e/r,y=Math.ceil(Object(s.getWidth)(t)/g),v=Math.ceil(Object(s.getHeight)(t)/g);t[0]=h-g*y/2,t[2]=h+g*y/2,t[1]=d-g*v/2,t[3]=d+g*v/2,this.imageSize_[0]=y,this.imageSize_[1]=v;var m=this.getRequestUrl_(t,this.imageSize_,r,n,c);return this.image_=new i.default(t,e,r,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(o.listen)(this.image_,a.default.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,i,o){var a=i.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=t.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(90*r);var s=this.url_,l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return l==s&&Object(n.assert)(!1,50),Object(c.appendParams)(l,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(l.assign)(this.params_,t),this.image_=null,this.changed()},e}(u.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(125),n=r(1),o=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions,state:r.state}),this.canvasFunction_=r.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==r.ratio?r.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageInternal=function(t,e,r,o){e=this.findNearestResolution(e);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==e&&a.getPixelRatio()==r&&Object(n.containsExtent)(a.getExtent(),t))return a;t=t.slice(),Object(n.scaleFromCenter)(t,this.ratio_);var s=[Object(n.getWidth)(t)/e*r,Object(n.getHeight)(t)/e*r],l=this.canvasFunction_.call(this,t,e,r,s,o);return l&&(a=new i.default(t,e,r,l)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a},e}(r(72).default);e.default=o},function(t,e,r){"use strict";r.r(e);var i=r(69),n=r(8),o=r(10),a=r(1),s=r(9),l=r(72),u=r(65),c=function(t){function e(e){t.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:l.defaultImageLoadFunction,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,s){e=this.findNearestResolution(e),r=this.hidpi_?r:1;var l=this.image_;if(l&&this.renderedRevision_==this.getRevision()&&l.getResolution()==e&&l.getPixelRatio()==r&&Object(a.containsExtent)(l.getExtent(),t))return l;1!=this.ratio_&&(t=t.slice(),Object(a.scaleFromCenter)(t,this.ratio_));var u=[Object(a.getWidth)(t)/e*r,Object(a.getHeight)(t)/e*r];if(void 0!==this.url_){var c=this.getUrl(this.url_,this.params_,t,u,s);l=new i.default(t,e,r,c,this.crossOrigin_,this.imageLoadFunction_),Object(n.listen)(l,o.default.CHANGE,this.handleImageChange,this)}else l=null;return this.image_=l,this.renderedRevision_=this.getRevision(),l},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){Object(s.assign)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,r,i,n){var o=function(t,e,r,i){var n=Object(a.getWidth)(t),o=Object(a.getHeight)(t),s=e[0],l=e[1],u=.0254/i;return l*n>s*o?n*r/(s*u):o*r/(l*u)}(r,i,this.metersPerUnit_,this.displayDpi_),l=Object(a.getCenter)(r),c={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:o,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};return Object(s.assign)(c,e),Object(u.appendParams)(t,c)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(l.default);e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(69),n=r(59),o=r(18),a=r(8),s=r(10),l=r(1),u=r(12),c=r(72),h=function(t){function e(e){var r=void 0!==e.crossOrigin?e.crossOrigin:null,n=void 0!==e.imageLoadFunction?e.imageLoadFunction:c.defaultImageLoadFunction;t.call(this,{attributions:e.attributions,projection:Object(u.get)(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image_=new i.default(this.imageExtent_,void 0,1,this.url_,r,n),this.imageSize_=e.imageSize?e.imageSize:null,Object(a.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,r,i){return Object(l.intersects)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==n.default.LOADED){var r,i,a=this.image_.getExtent(),s=this.image_.getImage();this.imageSize_?(r=this.imageSize_[0],i=this.imageSize_[1]):(r=s.width,i=s.height);var u=Object(l.getHeight)(a)/i,c=Math.ceil(Object(l.getWidth)(a)/u);if(c!=r){var h=Object(o.createCanvasContext2D)(c,i),d=h.canvas;h.drawImage(s,0,0,r,i,0,0,d.width,d.height),this.image_.setImage(d)}}t.prototype.handleImageChange.call(this,e)},e}(c.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(337),n=r(69),o=r(15),a=r(8),s=r(10),l=r(1),u=r(9),c=r(12),h=r(180),d=r(72),p=r(338),f=r(146),g=r(65),y=[101,101],v=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions}),this.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,this.url_=r.url,this.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:d.defaultImageLoadFunction,this.params_=r.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=r.serverType,this.hidpi_=void 0===r.hidpi||r.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==r.ratio?r.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,r,n){if(void 0!==this.url_){var o=Object(c.get)(r),a=this.getProjection();a&&a!==o&&(e=Object(h.calculateSourceResolution)(a,o,t,e),t=Object(c.transform)(t,o,a));var s=Object(l.getForViewAndSize)(t,e,0,y),d={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(u.assign)(d,this.params_,n);var p=Math.floor((t[0]-s[0])/e),f=Math.floor((s[3]-t[1])/e);return d[this.v13_?"I":"X"]=p,d[this.v13_?"J":"Y"]=f,this.getRequestUrl_(s,y,1,a||o,d)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,r,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var c=e/r,h=Object(l.getCenter)(t),d=Math.ceil(Object(l.getWidth)(t)/c),p=Math.ceil(Object(l.getHeight)(t)/c),f=Object(l.getForViewAndSize)(h,c,0,[d,p]),g=Math.ceil(this.ratio_*Object(l.getWidth)(t)/c),y=Math.ceil(this.ratio_*Object(l.getHeight)(t)/c),v=Object(l.getForViewAndSize)(h,c,0,[g,y]),m=this.image_;if(m&&this.renderedRevision_==this.getRevision()&&m.getResolution()==e&&m.getPixelRatio()==r&&Object(l.containsExtent)(m.getExtent(),f))return m;var _={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(u.assign)(_,this.params_),this.imageSize_[0]=Math.round(Object(l.getWidth)(v)/c),this.imageSize_[1]=Math.round(Object(l.getHeight)(v)/c);var O=this.getRequestUrl_(v,this.imageSize_,r,o,_);return this.image_=new n.default(v,e,r,O,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(a.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,r,i,n){if(Object(o.assert)(void 0!==this.url_,9),n[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=r)switch(this.serverType_){case p.default.GEOSERVER:var a=90*r+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+a:n.FORMAT_OPTIONS="dpi:"+a;break;case p.default.MAPSERVER:n.MAP_RESOLUTION=90*r;break;case p.default.CARMENTA_SERVER:case p.default.QGIS:n.DPI=90*r;break;default:Object(o.assert)(!1,8)}n.WIDTH=e[0],n.HEIGHT=e[1];var s,l=i.getAxisOrientation();return s=this.v13_&&"ne"==l.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,n.BBOX=s.join(","),Object(g.appendParams)(this.url_,n)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(u.assign)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.DEFAULT_WMS_VERSION;this.v13_=Object(f.compareVersions)(t,"1.3")>=0},e}(d.default);e.default=v},function(t,e,r){"use strict";r.r(e);var i=r(7),n=r(125),o=r(152),a=r(18),s=r(8),l=r(21),u=r(10),c=r(494),h=r(1),d=r(52),p=r(179),f=r(91),g=r(9),y=r(219),v=r(171),m=r(72),_=r(48),O=r(23),b="beforeoperations",S="afteroperations",T={PIXEL:"pixel",IMAGE:"image"},E=function(t){function e(e,r,i){t.call(this,e),this.extent=r.extent,this.resolution=r.viewState.resolution/r.pixelRatio,this.data=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l.default),C=function(t){function e(e){t.call(this,{projection:null}),this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:T.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=function(t){for(var e=t.length,r=new Array(e),i=0;i<e;++i)r[i]=P(t[i]);return r}(e.sources);for(var r=0,n=this.renderers_.length;r<n;++r)Object(s.listen)(this.renderers_[r],u.default.CHANGE,this.changed,this);this.tileQueue_=new o.default(function(){return 1},this.changed.bind(this));for(var a=function(t){return t.map(function(t){return t.getLayer().getLayerState()})}(this.renderers_),l={},c=0,h=a.length;c<h;++c)l[Object(i.getUid)(a[c].layer)]=a[c];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Object(O.create)(),extent:null,focus:null,index:0,layerStates:l,layerStatesArray:a,pixelRatio:1,pixelToCoordinateTransform:Object(O.create)(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},void 0!==e.operation&&this.setOperation(e.operation,e.lib)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setOperation=function(t,e){this.worker_=new c.Processor({operation:t,imageOps:this.operationType_===T.IMAGE,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,r){var i=Object(g.assign)({},this.frameState_);i.viewState=Object(g.assign)({},i.viewState);var n=Object(h.getCenter)(t);i.extent=t.slice(),i.focus=n,i.size[0]=Math.round(Object(h.getWidth)(t)/e),i.size[1]=Math.round(Object(h.getHeight)(t)/e),i.time=Date.now(),i.animate=!1;var o=i.viewState;return o.center=n,o.projection=r,o.resolution=e,i},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,r=this.renderers_.length;e<r;++e)if(this.renderers_[e].getLayer().getSource().getState()!==_.default.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,r,i){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(t,e,i);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&Object(h.equals)(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.renderers_.length,r=new Array(e),i=0;i<e;++i){var n=j(this.renderers_[i],t,t.layerStatesArray[i]);if(!n)return;r[i]=n}var o={};this.dispatchEvent(new E(b,t,o)),this.worker_.process(r,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,r,i){if(!e&&r){var o=t.extent,s=t.viewState.resolution;if(s===this.requestedFrameState_.viewState.resolution&&Object(h.equals)(o,this.requestedFrameState_.extent)){var l;if(this.renderedImageCanvas_)l=this.renderedImageCanvas_.getImage().getContext("2d");else{var u=Math.round(Object(h.getWidth)(o)/s),c=Math.round(Object(h.getHeight)(o)/s);l=Object(a.createCanvasContext2D)(u,c),this.renderedImageCanvas_=new n.default(o,s,1,l.canvas)}l.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new E(S,t,i))}}},e.prototype.getImageInternal=function(){return null},e}(m.default),x=null;function j(t,e,r){if(!t.prepareFrame(e,r))return null;var i=e.size[0],n=e.size[1];if(x){var o=x.canvas;o.width!==i||o.height!==n?x=Object(a.createCanvasContext2D)(i,n):x.clearRect(0,0,i,n)}else x=Object(a.createCanvasContext2D)(i,n);return t.composeFrame(e,r,x),x.getImageData(0,0,i,n)}function P(t){var e=t,r=t,i=t,n=null;return"function"==typeof e.getTile?n=function(t){var e=new f.default({source:t});return new v.default(e)}(e):"function"==typeof r.getImage?n=function(t){var e=new p.default({source:t});return new y.default(e)}(r):i.getType()===d.default.TILE?n=new v.default(i):i.getType()!=d.default.IMAGE&&i.getType()!=d.default.VECTOR||(n=new y.default(i)),n}e.default=C},function(t,e,r){var i=r(495);e.Processor=i},function(t,e,r){var i=r(496).newImageData;function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function r(t,r,i){return e?new ImageData(t,r,i):{data:t,width:r,height:i}}return function(e){var i,n,o=e.buffers,a=e.meta,s=e.imageOps,l=e.width,u=e.height,c=o.length,h=o[0].byteLength;if(s){var d=new Array(c);for(n=0;n<c;++n)d[n]=r(new Uint8ClampedArray(o[n]),l,u);i=t(d,a).data}else{i=new Uint8ClampedArray(h);var p=new Array(c),f=new Array(c);for(n=0;n<c;++n)p[n]=new Uint8ClampedArray(o[n]),f[n]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var y=0;y<c;++y){var v=p[y];f[y][0]=v[g],f[y][1]=v[g+1],f[y][2]=v[g+2],f[y][3]=v[g+3]}var m=t(f,a);i[g]=m[0],i[g+1]=m[1],i[g+2]=m[2],i[g+3]=m[3]}}return i.buffer}}function o(t,e){var r=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),i=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(i),a=new Worker(o);return a.addEventListener("message",e),a}function a(t){var e;this._imageOps=!!t.imageOps;var r=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var i=0;i<e;++i)r[i]=o(t,this._onWorkerMessage.bind(this,i));else r[0]=function(t,e){var r=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:r(t),meta:t.meta}})},0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(t,e,r){this._enqueue({inputs:t,meta:e,callback:r}),this._dispatch()},a.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},a.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,r=t.inputs[0].height,i=t.inputs.map(function(t){return t.data.buffer}),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:i,meta:t.meta,imageOps:this._imageOps,width:e,height:r},i);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/n),s=0;s<n;++s){for(var l=s*a,u=[],c=0,h=i.length;c<h;++c)u.push(i[s].slice(l,l+a));this._workers[s].postMessage({buffers:u,meta:t.meta,imageOps:this._imageOps,width:e,height:r},u)}}},a.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var t,e,r=this._job,n=this._workers.length;if(1===n)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=r.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/n),s=0;s<n;++s){var l=this._dataLookup[s].buffer,u=s*a;t.set(new Uint8ClampedArray(l),u),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,i(t,r.inputs[0].width,r.inputs[0].height),e),this._dispatch()},t.exports=a},function(t,e){var r=!0;try{new ImageData(10,10)}catch(t){r=!1}var i=document.createElement("canvas").getContext("2d");e.newImageData=function(t,e,n){if(r)return new ImageData(t,e,n);var o=i.createImageData(e,n);return o.data.set(t),o}},function(t,e,r){"use strict";r.r(e);var i=r(339),n=r(181),o=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',i.ATTRIBUTION],a={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},s={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},l=function(t){function e(e){var r=e.layer.indexOf("-"),i=-1==r?e.layer:e.layer.slice(0,r),n=s[i],l=a[e.layer],u=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+l.extension;t.call(this,{attributions:o,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:n.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:n.minZoom,opaque:l.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:u,wrapX:e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default);e.default=l},function(t,e,r){"use strict";r.r(e);var i=r(1),n=r(14),o=r(9),a=r(49),s=r(43),l=r(42),u=r(65),c=function(t){function e(e){var r=e||{};t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:h,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition}),this.params_=r.params||{},this.tmpExtent_=Object(i.createEmpty)(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,i,o,a){var s=this.urls;if(s){var c,h=o.getCode().split(":").pop();if(a.SIZE=e[0]+","+e[1],a.BBOX=r.join(","),a.BBOXSR=h,a.IMAGESR=h,a.DPI=Math.round(a.DPI?a.DPI*i:90*i),1==s.length)c=s[0];else c=s[Object(n.modulo)(Object(l.hash)(t),s.length)];var d=c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Object(u.appendParams)(d,a)}},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.updateParams=function(t){Object(o.assign)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(s.default);function h(t,e,r){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),!(i.getResolutions().length<=t[0])){var n=i.getTileCoordExtent(t,this.tmpExtent_),s=Object(a.toSize)(i.getTileSize(t[0]),this.tmpSize);1!=e&&(s=Object(a.scale)(s,e,this.tmpSize));var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(o.assign)(l,this.params_),this.getRequestUrl_(t,s,n,e,r,l)}}e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(60),n=r(30),o=r(18),a=r(49),s=r(109),l=r(42),u=function(t){function e(e,r,i){t.call(this,e,n.default.LOADED),this.tileSize_=r,this.text_=i,this.canvas_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=Object(o.createCanvasContext2D)(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(i.default),c=function(t){function e(e){t.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTile=function(t,e,r){var i=Object(l.getKeyZXY)(t,e,r);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var n=Object(a.toSize)(this.tileGrid.getTileSize(t)),o=[t,e,r],s=this.getTileCoordForTileUrlFunction(o),c=s?this.getTileCoordForTileUrlFunction(s).toString():"",h=new u(o,n,c);return this.tileCache.set(i,h),h},e}(s.default);e.default=c},function(t,e,r){"use strict";r.r(e);var i=r(112),n=r(15),o=r(1),a=r(239),s=r(12),l=r(48),u=r(43),c=r(81),h=function(t){function e(e){if(t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:Object(s.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:l.default.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.tileJSON_=null,e.url)if(e.jsonp)Object(a.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var r=new XMLHttpRequest;r.addEventListener("load",this.onXHRLoad_.bind(this)),r.addEventListener("error",this.onXHRError_.bind(this)),r.open("GET",e.url),r.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(n.assert)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,r=Object(s.get)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var a=Object(s.getTransformFromProjections)(r,n);e=Object(o.applyTransform)(t.bounds,a)}var u=t.minzoom||0,h=t.maxzoom||22,d=Object(c.createXYZ)({extent:Object(c.extentFromProjection)(n),maxZoom:h,minZoom:u});if(this.tileGrid=d,this.tileUrlFunction=Object(i.createFromTemplates)(t.tiles,d),void 0!==t.attribution&&!this.getAttributions()){var p=void 0!==e?e:r.getExtent();this.setAttributions(function(e){return Object(o.intersects)(p,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(l.default.READY)},e.prototype.handleTileJSONError=function(){this.setState(l.default.ERROR)},e}(u.default);e.default=h},function(t,e,r){"use strict";r.r(e);var i=r(337),n=r(15),o=r(1),a=r(9),s=r(14),l=r(12),u=r(180),c=r(49),h=r(43),d=r(338),p=r(42),f=r(146),g=r(65),y=function(t){function e(e){var r=e||{},i=r.params||{},n=!("TRANSPARENT"in i)||i.TRANSPARENT;t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:!n,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:r.tileClass,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:v,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition}),this.gutter_=void 0!==r.gutter?r.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=r.serverType,this.hidpi_=void 0===r.hidpi||r.hidpi,this.tmpExtent_=Object(o.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,r,n){var s=Object(l.get)(r),h=this.getProjection(),d=this.getTileGrid();d||(d=this.getTileGridForProjection(s));var p=d.getTileCoordForCoordAndResolution(t,e);if(!(d.getResolutions().length<=p[0])){var f=d.getResolution(p[0]),g=d.getTileCoordExtent(p,this.tmpExtent_),y=Object(c.toSize)(d.getTileSize(p[0]),this.tmpSize),v=this.gutter_;0!==v&&(y=Object(c.buffer)(y,v,this.tmpSize),g=Object(o.buffer)(g,f*v,g)),h&&h!==s&&(f=Object(u.calculateSourceResolution)(h,s,t,f),g=Object(l.transformExtent)(g,s,h),t=Object(l.transform)(t,s,h));var m={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(a.assign)(m,this.params_,n);var _=Math.floor((t[0]-g[0])/f),O=Math.floor((g[3]-t[1])/f);return m[this.v13_?"I":"X"]=_,m[this.v13_?"J":"Y"]=O,this.getRequestUrl_(p,y,g,1,h||s,m)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,r,i,o,a){var l=this.urls;if(l){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=i)switch(this.serverType_){case d.default.GEOSERVER:var u=90*i+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+u:a.FORMAT_OPTIONS="dpi:"+u;break;case d.default.MAPSERVER:a.MAP_RESOLUTION=90*i;break;case d.default.CARMENTA_SERVER:case d.default.QGIS:a.DPI=90*i;break;default:Object(n.assert)(!1,52)}var c,h,f=o.getAxisOrientation(),y=r;if(this.v13_&&"ne"==f.substr(0,2))c=r[0],y[0]=r[1],y[1]=c,c=r[2],y[2]=r[3],y[3]=c;if(a.BBOX=y.join(","),1==l.length)h=l[0];else h=l[Object(s.modulo)(Object(p.hash)(t),l.length)];return Object(g.appendParams)(h,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var r in this.params_)e[t++]=r+"-"+this.params_[r];return e.join("/")},e.prototype.updateParams=function(t){Object(a.assign)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||i.DEFAULT_WMS_VERSION;this.v13_=Object(f.compareVersions)(t,"1.3")>=0},e}(h.default);function v(t,e,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var s=n.getResolution(t[0]),l=n.getTileCoordExtent(t,this.tmpExtent_),u=Object(c.toSize)(n.getTileSize(t[0]),this.tmpSize),h=this.gutter_;0!==h&&(u=Object(c.buffer)(u,h,this.tmpSize),l=Object(o.buffer)(l,s*h,l)),1!=e&&(u=Object(c.scale)(u,e,this.tmpSize));var d={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(a.assign)(d,this.params_),this.getRequestUrl_(t,u,l,e,r,d)}}e.default=y},function(t,e,r){"use strict";r.r(e),r.d(e,"CustomTile",function(){return y});var i=r(60),n=r(30),o=r(112),a=r(15),s=r(8),l=r(10),u=r(1),c=r(239),h=r(12),d=r(48),p=r(109),f=r(42),g=r(81),y=function(t){function e(e,r,i,n,o,a){t.call(this,e,r),this.src_=i,this.extent_=n,this.preemptive_=o,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),i=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof i)return null;var n=i.charCodeAt(Math.floor(e*i.length));n>=93&&n--,n>=35&&n--;var o=null;if((n-=32)in this.keys_){var a=this.keys_[n];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,r,i){this.state==n.default.IDLE&&!0===i?(Object(s.listenOnce)(this,l.default.CHANGE,function(i){e.call(r,this.getData(t))},this),this.loadInternal_()):!0===i?setTimeout(function(){e.call(r,this.getData(t))}.bind(this),0):e.call(r,this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=n.default.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=n.default.EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==n.default.IDLE)if(this.state=n.default.LOADING,this.jsonp_)Object(c.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(i.default),v=function(t){function e(e){if(t.call(this,{projection:Object(h.get)("EPSG:3857"),state:d.default.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=o.nullTileUrlFunction,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)Object(c.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var r=new XMLHttpRequest;r.addEventListener("load",this.onXHRLoad_.bind(this)),r.addEventListener("error",this.onXHRError_.bind(this)),r.open("GET",e.url),r.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(a.assert)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r;try{r=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,r,i){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(t,e);this.getTile(n[0],n[1],n[2],1,this.getProjection()).forDataAtCoordinate(t,r,null,i)}else!0===i?setTimeout(function(){r(null)},0):r(null)},e.prototype.handleTileJSONError=function(){this.setState(d.default.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,r=Object(h.get)("EPSG:4326"),i=this.getProjection();if(void 0!==t.bounds){var n=Object(h.getTransformFromProjections)(r,i);e=Object(u.applyTransform)(t.bounds,n)}var a=t.minzoom||0,s=t.maxzoom||22,l=Object(g.createXYZ)({extent:Object(g.extentFromProjection)(i),maxZoom:s,minZoom:a});this.tileGrid=l,this.template_=t.template;var c=t.grids;if(c){if(this.tileUrlFunction_=Object(o.createFromTemplates)(c,l),void 0!==t.attribution){var p=void 0!==e?e:r.getExtent();this.setAttributions(function(e){return Object(u.intersects)(p,e.extent)?[t.attribution]:null})}this.setState(d.default.READY)}else this.setState(d.default.ERROR)},e.prototype.getTile=function(t,e,r,i,o){var a=Object(f.getKeyZXY)(t,e,r);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[t,e,r],l=this.getTileCoordForTileUrlFunction(s,o),u=this.tileUrlFunction_(l,i,o),c=new y(s,void 0!==u?n.default.IDLE:n.default.EMPTY,void 0!==u?u:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(a,c),c},e.prototype.useTile=function(t,e,r){var i=Object(f.getKeyZXY)(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(p.default);e.default=v},function(t,e,r){"use strict";r.r(e);var i=r(30),n=r(241),o=r(173),a=r(49),s=r(240),l=r(42),u=r(81),c=function(t){function e(e){var r=e.projection||"EPSG:3857",i=e.extent||Object(u.extentFromProjection)(r),a=e.tileGrid||Object(u.createXYZ)({extent:i,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});t.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,opaque:!1,projection:r,state:e.state,tileGrid:a,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:n.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:o.default,this.tileGrids_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},e.prototype.getTile=function(t,e,r,o,a){var s=Object(l.getKeyZXY)(t,e,r);if(this.tileCache.containsKey(s))return this.tileCache.get(s);var u=[t,e,r],c=this.getTileCoordForTileUrlFunction(u,a),h=new n.default(u,null!==c?i.default.IDLE:i.default.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,c,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(a),this.sourceTiles_,o,a,this.tileClass,this.handleTileChange.bind(this),u[0]);return this.tileCache.set(s,h),h},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),r=this.tileGrids_[e];if(!r){var i=this.tileGrid;r=this.tileGrids_[e]=Object(u.createForProjection)(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0)}return r},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,r){var i=this.getTileGridForProjection(r),n=Object(a.toSize)(i.getTileSize(t),this.tmpSize);return[Math.round(n[0]*e),Math.round(n[1]*e)]},e}(s.default);e.default=c},function(t,e,r){"use strict";r.r(e),r.d(e,"optionsFromCapabilities",function(){return p});var i=r(112),n=r(13),o=r(1),a=r(9),s=r(12),l=r(43),u=r(505),c=r(340),h=r(65),d=function(t){function e(e){var r=void 0!==e.requestEncoding?e.requestEncoding:u.default.KVP,n=e.tileGrid,o=e.urls;void 0===o&&void 0!==e.url&&(o=Object(i.expandUrl)(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:i.nullTileUrlFunction,urls:o,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=r,this.setKey(this.getKeyForDimensions_()),o&&o.length>0&&(this.tileUrlFunction=Object(i.createFromTileUrlFunctions)(o.map(f.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(Object(i.createFromTileUrlFunctions)(t.map(f.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var r in this.dimensions_)e[t++]=r+"-"+this.dimensions_[r];return e.join("/")},e.prototype.updateDimensions=function(t){Object(a.assign)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(l.default);function p(t,e){var r=t.Contents.Layer,i=Object(n.find)(r,function(t,r,i){return t.Identifier==e.layer});if(null===i)return null;var a,l=t.Contents.TileMatrixSet;(a=i.TileMatrixSetLink.length>1?"projection"in e?Object(n.findIndex)(i.TileMatrixSetLink,function(t,r,i){var o=Object(n.find)(l,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS,a=Object(s.get)(o.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.get)(o),u=Object(s.get)(e.projection);return a&&u?Object(s.equivalent)(a,u):o==e.projection}):Object(n.findIndex)(i.TileMatrixSetLink,function(t,r,i){return t.TileMatrixSet==e.matrixSet}):0)<0&&(a=0);var h=i.TileMatrixSetLink[a].TileMatrixSet,d=i.TileMatrixSetLink[a].TileMatrixSetLimits,p=i.Format[0];"format"in e&&(p=e.format),(a=Object(n.findIndex)(i.Style,function(t,r,i){return"style"in e?t.Title==e.style:t.isDefault}))<0&&(a=0);var f=i.Style[a].Identifier,g={};"Dimension"in i&&i.Dimension.forEach(function(t,e,r){var i=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),g[i]=n});var y,v=t.Contents.TileMatrixSet,m=Object(n.find)(v,function(t,e,r){return t.Identifier==h}),_=m.SupportedCRS;if(_&&(y=Object(s.get)(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(s.get)(_)),"projection"in e){var O=Object(s.get)(e.projection);O&&(y&&!Object(s.equivalent)(O,y)||(y=O))}var b,S,T=i.WGS84BoundingBox;if(void 0!==T){var E=Object(s.get)("EPSG:4326").getExtent();S=T[0]==E[0]&&T[2]==E[2],b=Object(s.transformExtent)(T,"EPSG:4326",y);var C=y.getExtent();C&&(Object(o.containsExtent)(C,b)||(b=void 0))}var x=Object(c.createFromCapabilitiesMatrixSet)(m,b,d),j=[],P=e.requestEncoding;if(P=void 0!==P?P:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var I=t.OperationsMetadata.GetTile.DCP.HTTP.Get,R=0,L=I.length;R<L;++R)if(I[R].Constraint){var w=Object(n.find)(I[R].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===P&&(P=w[0]),P!==u.default.KVP)break;Object(n.includes)(w,u.default.KVP)&&j.push(I[R].href)}else I[R].href&&(P=u.default.KVP,j.push(I[R].href));return 0===j.length&&(P=u.default.REST,i.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(p=t.format,j.push(t.template))})),{urls:j,layer:e.layer,matrixSet:h,format:p,projection:y,requestEncoding:P,tileGrid:x,style:f,dimensions:g,wrapX:S,crossOrigin:e.crossOrigin}}function f(t){var e=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==u.default.KVP&&Object(a.assign)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==u.default.KVP?Object(h.appendParams)(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t});var i=this.tileGrid,n=this.dimensions_;return function(r,o,s){if(r){var l={TileMatrix:i.getMatrixId(r[0]),TileCol:r[1],TileRow:-r[2]-1};Object(a.assign)(l,n);var c=t;return c=e==u.default.KVP?Object(h.appendParams)(c,l):c.replace(/\{(\w+?)\}/g,function(t,e){return l[e]})}}}e.default=d},function(t,e,r){"use strict";r.r(e),e.default={KVP:"KVP",REST:"REST"}},function(t,e,r){"use strict";r.r(e),r.d(e,"CustomTile",function(){return f});var i=r(153),n=r(103),o=r(30),a=r(112),s=r(15),l=r(18),u=r(1),c=r(49),h=r(43),d=r(64),p={DEFAULT:"default",TRUNCATED:"truncated"},f=function(t){function e(e,r,i,n,o,a,s){t.call(this,r,i,n,o,a,s),this.zoomifyImage_=null,this.tileSize_=Object(c.toSize)(e.getTileSize(r[0]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==o.default.LOADED){var r=this.tileSize_;if(e.width==r[0]&&e.height==r[1])return this.zoomifyImage_=e,e;var i=Object(l.createCanvasContext2D)(r[0],r[1]);return i.drawImage(e,0,0),this.zoomifyImage_=i.canvas,i.canvas}return e},e}(n.default),g=function(t){function e(e){var r=e||{},n=r.size,o=void 0!==r.tierSizeCalculation?r.tierSizeCalculation:p.DEFAULT,l=n[0],c=n[1],h=r.extent||[0,-n[1],n[0],0],g=[],y=r.tileSize||i.DEFAULT_TILE_SIZE,v=y;switch(o){case p.DEFAULT:for(;l>v||c>v;)g.push([Math.ceil(l/v),Math.ceil(c/v)]),v+=v;break;case p.TRUNCATED:for(var m=l,_=c;m>v||_>v;)g.push([Math.ceil(m/v),Math.ceil(_/v)]),m>>=1,_>>=1;break;default:Object(s.assert)(!1,53)}g.push([1,1]),g.reverse();for(var O=[1],b=[0],S=1,T=g.length;S<T;S++)O.push(1<<S),b.push(g[S-1][0]*g[S-1][1]+b[S-1]);O.reverse();var E=new d.default({tileSize:y,extent:h,origin:Object(u.getTopLeft)(h),resolutions:O}),C=r.url;C&&-1==C.indexOf("{TileGroup}")&&-1==C.indexOf("{tileIndex}")&&(C+="{TileGroup}/{z}-{x}-{y}.jpg");var x=Object(a.expandUrl)(C);var j=Object(a.createFromTileUrlFunctions)(x.map(function(t){return function(e,r,i){if(e){var n=e[0],o=e[1],a=-e[2]-1,s=o+a*g[n][0],l=E.getTileSize(n),u=Array.isArray(l)?l[0]:l,c={z:n,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+b[n])/u|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return c[e]})}}})),P=f.bind(null,E);t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:P,tileGrid:E,tileUrlFunction:j,transition:r.transition})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default);e.default=g},function(t,e,r){"use strict";r.r(e);var i=r(142);r.d(e,"AssertionError",function(){return i.default});var n=r(46);r.d(e,"Collection",function(){return n.default});var o=r(98);r.d(e,"Disposable",function(){return o.default});var a=r(26);r.d(e,"Feature",function(){return a.default});var s=r(192);r.d(e,"Geolocation",function(){return s.default});var l=r(196);r.d(e,"Graticule",function(){return l.default});var u=r(69);r.d(e,"Image",function(){return u.default});var c=r(117);r.d(e,"ImageBase",function(){return c.default});var h=r(125);r.d(e,"ImageCanvas",function(){return h.default});var d=r(103);r.d(e,"ImageTile",function(){return d.default});var p=r(147);r.d(e,"Kinetic",function(){return p.default});var f=r(148);r.d(e,"Map",function(){return f.default});var g=r(119);r.d(e,"MapBrowserEvent",function(){return g.default});var y=r(199);r.d(e,"MapBrowserEventHandler",function(){return y.default});var v=r(120);r.d(e,"MapBrowserPointerEvent",function(){return v.default});var m=r(149);r.d(e,"MapEvent",function(){return m.default});var _=r(19);r.d(e,"Object",function(){return _.default});var O=r(97);r.d(e,"Observable",function(){return O.default});var b=r(172);r.d(e,"Overlay",function(){return b.default});var S=r(118);r.d(e,"PluggableMap",function(){return S.default});var T=r(60);r.d(e,"Tile",function(){return T.default});var E=r(177);r.d(e,"TileCache",function(){return E.default});var C=r(152);r.d(e,"TileQueue",function(){return C.default});var x=r(127);r.d(e,"TileRange",function(){return x.default});var j=r(241);r.d(e,"VectorImageTile",function(){return j.default});var P=r(173);r.d(e,"VectorTile",function(){return P.default});var I=r(121);r.d(e,"View",function(){return I.default});var R=r(223);r.d(e,"WebGLMap",function(){return R.default});var L=r(7);r.d(e,"getUid",function(){return L.getUid}),r.d(e,"inherits",function(){return L.inherits}),r.d(e,"VERSION",function(){return L.VERSION})},function(t,e,r){"use strict";r.r(e),r.d(e,"register",function(){return a});var i=r(12),n=r(277),o=r(88);function a(t){var e,r,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var l=a[e];if(!Object(i.get)(l)){var u=t.defs(l);Object(i.addProjection)(new o.default({code:l,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:u.units}))}}for(e=0;e<s;++e){var c=a[e],h=Object(i.get)(c);for(r=0;r<s;++r){var d=a[r],p=Object(i.get)(d);if(!Object(n.get)(c,d))if(t.defs[c]===t.defs[d])Object(i.addEquivalentProjections)([h,p]);else{var f=t(c,d);Object(i.addCoordinateTransforms)(h,p,f.forward,f.inverse)}}}}},function(t,e,r){"use strict";r.r(e),r.d(e,"toContext",function(){return a});var i=r(38),n=r(23),o=r(170);function a(t,e){var r=t.canvas,a=e||{},s=a.pixelRatio||i.DEVICE_PIXEL_RATIO,l=a.size;l&&(r.width=l[0]*s,r.height=l[1]*s,r.style.width=l[0]+"px",r.style.height=l[1]+"px");var u=[0,0,r.width,r.height],c=Object(n.scale)(Object(n.create)(),s,s);return new o.default(t,s,u,c,0)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenStreetLayerType=e.ArcGISLayerType=e.GoogleLayerType=e.TiandituType=e.OpenStreetLayer=e.OpenStreetMapSource=e.ArcGISLayer=e.ArcGISMapSource=e.GoogleLayer=e.GoogleMapSource=e.TianDiTu=e.TiandituMapSource=e.GaoDeLayer=e.GaodeMapSource=e.BaiDuLayer=e.BaiduMapSource=e.ZDTileDebug=e.Layer=e.MapLayerSource=e.GdbpLayer=e.MapLayerTileSource=e.TileLayer_mapgis=e.TileLayerSource=e.CacheTileLayer=e.CacheTileLayerSource=e.Doc=e.MapDocSource=e.MapDocTileLayer=e.MapDocTileSource=void 0;var i=r(511),n=r(538),o=r(359),a=r(539),s=r(540),l=r(541),u=r(542),c=r(552);e.MapDocTileSource=i.MapDocTileSource,e.MapDocTileLayer=i.MapDocTileLayer,e.MapDocSource=n.MapDocSource,e.Doc=n.Doc,e.CacheTileLayerSource=o.CacheTileLayerSource,e.CacheTileLayer=o.CacheTileLayer,e.TileLayerSource=a.TileLayerSource,e.TileLayer_mapgis=a.TileLayer_mapgis,e.MapLayerTileSource=s.MapLayerTileSource,e.GdbpLayer=s.GdbpLayer,e.MapLayerSource=l.MapLayerSource,e.Layer=l.Layer,e.ZDTileDebug=u.ZDTileDebug,e.BaiduMapSource=c.BaiduMapSource,e.BaiDuLayer=c.BaiDuLayer,e.GaodeMapSource=c.GaodeMapSource,e.GaoDeLayer=c.GaoDeLayer,e.TiandituMapSource=c.TiandituMapSource,e.TianDiTu=c.TianDiTu,e.GoogleMapSource=c.GoogleMapSource,e.GoogleLayer=c.GoogleLayer,e.ArcGISMapSource=c.ArcGISMapSource,e.ArcGISLayer=c.ArcGISLayer,e.OpenStreetMapSource=c.OpenStreetMapSource,e.OpenStreetLayer=c.OpenStreetLayer,e.TiandituType=c.TiandituType,e.GoogleLayerType=c.GoogleLayerType,e.ArcGISLayerType=c.ArcGISLayerType,e.OpenStreetLayerType=c.OpenStreetLayerType},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapDocTileLayer=e.MapDocTileSource=void 0;var i=p(r(24)),n=r(0),o=r(6),a=p(r(43)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),l=p(r(64)),u=r(7),c=r(9),h=r(65),d=p(r(91));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){var e=void 0!==t?t:{};a.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.name=void 0!==e.name?e.name:null,this.maxResolution=void 0!==e.maxResolution?e.maxResolution:null;var r=void 0!==e.projection?e.projection:null,i=[-180,-90,180,90];null!=r&&(i=r.getExtent()),this.extent=void 0!==e.extent?e.extent:i,this.maxZoom=void 0!==e.maxZoom?e.maxZoom:16,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.origin=void 0!==e.origin?e.origin:s.getTopLeft(this.extent),this.rlt=Math.random(),this.f=void 0!==e.f?e.f:"png",this.layers=void 0!=e.layers?e.layers:null,this.filters=void 0!=e.filters?e.filters:null,this.style=void 0!=e.style?e.style:null,this.proj=void 0!=e.proj?e.proj:null,this.guid=void 0!==e.guid?e.guid:(0,o.newGuid)(),this.cache=!1,this.tileGrid=new l.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend,this.url_="http://"+this.ip+":"+this.port+"/igs/rest/mrms/docs/"+this.name};(0,u.inherits)(f,a.default),f.prototype.getResolutions=function(){if(null==this.maxResolution){var t=s.getWidth(this.extent),e=s.getHeight(this.extent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},f.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var n=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],n);if(!n.contains(t))return}null!=this.maxResolution&&(this.maxResolution,Math.pow(2,t[0]));var o={f:this.f,cache:!1,rlt:this.rlt,guid:this.guid};null!=this.style&&(o.style=(0,i.default)(this.style)),null!=this.proj&&(o.proj=(0,i.default)(this.proj)),null!=this.layers&&(o.layers=this.layers),null!=this.filters&&(o.filters=this.filters);var a={minX:t[1],maxX:t[1],minY:t[2],maxY:t[2]},s=this.tileGrid.getTileRangeExtent(t[0],a,null);return o.w=this.tileSize,o.h=this.tileSize,o.bbox=s.join(","),(0,h.appendParams)(this.url_,o)},e.MapDocTileSource=f,n.Zondy.Source.MapDocTileSource=f;var g=function(t,e,r){var i=void 0!==r?r:{};i.layerName=t,i.name=e,i.source=i.source?i.source:new f(i);var n=(0,c.assign)({},i);n.maxResolution=1/0,d.default.call(this,n),this.options={},(0,c.assign)(this.options,i),(0,c.assign)(this,i)};(0,u.inherits)(g,d.default),g.prototype.refresh=function(){this.setSource(null);var t=this.options.source.guid;(0,c.assign)(this.options,{guid:t}),this.options.source=new f(this.options),this.setSource(this.options.source)},g.prototype.getStyle=function(){return void 0!==this.options.style?this.options.style:null},g.prototype.setStyle=function(t){void 0!==t&&null!==t&&(0,c.assign)(this.options,{style:t})},g.prototype.setLayerStatus=function(t,e){if(null!=t&&null!=e){var r=e+":"+t;(0,c.assign)(this.options,{layers:r}),this.refresh()}},g.prototype.setFilters=function(t){null!=t&&""!=t.toString()&&(0,c.assign)(this.options,{filters:t})},e.MapDocTileLayer=g,n.Zondy.Map.MapDocTileLayer=g},function(t,e,r){var i=r(25),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,r){r(514);var i=r(25).Object;t.exports=function(t,e,r){return i.defineProperty(t,e,r)}},function(t,e,r){var i=r(66);i(i.S+i.F*!r(84),"Object",{defineProperty:r(83).f})},function(t,e,r){r(516);var i=r(25).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,r){var i=r(94),n=r(246).f;r(184)("getOwnPropertyDescriptor",function(){return function(t,e){return n(i(t),e)}})},function(t,e,r){var i=r(137);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,r){t.exports={default:r(519),__esModule:!0}},function(t,e,r){r(343),t.exports=r(25).Object.getOwnPropertySymbols},function(t,e,r){var i=r(251),n=r(348),o=r(247);t.exports=function(t){var e=i(t),r=n.f;if(r)for(var a,s=r(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,r){var i=r(94),n=r(347),o=r(522);t.exports=function(t){return function(e,r,a){var s,l=i(e),u=n(l.length),c=o(a,u);if(t&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===r)return t||c||0;return!t&&-1}}},function(t,e,r){var i=r(252),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},function(t,e,r){var i=r(137);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,r){var i=r(83),n=r(73),o=r(251);t.exports=r(84)?Object.defineProperties:function(t,e){n(t);for(var r,a=o(e),s=a.length,l=0;s>l;)i.f(t,r=a[l++],e[r]);return t}},function(t,e,r){r(526);var i=r(25).Object;t.exports=function(t){return i.getOwnPropertyNames(t)}},function(t,e,r){r(184)("getOwnPropertyNames",function(){return r(350).f})},function(t,e,r){t.exports={default:r(528),__esModule:!0}},function(t,e,r){r(353),r(357),t.exports=r(249).f("iterator")},function(t,e,r){var i=r(252),n=r(245);t.exports=function(t){return function(e,r){var o,a,s=String(n(e)),l=i(r),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,r){"use strict";var i=r(255),n=r(183),o=r(186),a={};r(92)(a,r(44)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(a,{next:n(1,r)}),o(t,e+" Iterator")}},function(t,e,r){"use strict";var i=r(532),n=r(533),o=r(139),a=r(94);t.exports=r(354)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){t.exports={default:r(535),__esModule:!0}},function(t,e,r){r(343),r(358),r(536),r(537),t.exports=r(25).Symbol},function(t,e,r){r(250)("asyncIterator")},function(t,e,r){r(250)("observable")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Doc=e.MapDocSource=void 0;var i=r(0),n=r(6),o=r(72),a=y(o),s=y(r(179)),l=y(r(69)),u=g(r(1)),c=g(r(8)),h=g(r(10)),d=r(7),p=r(9),f=r(65);function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function y(t){return t&&t.__esModule?t:{default:t}}var v=function(t){var e=t||{};a.default.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions}),this.token=e.token,this.mode=void 0!==e.mode?e.mode:"normal",this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.name=void 0!==e.name?e.name:null,this.f=void 0!==e.f?e.f:"png",this.layers=void 0!==e.layers?e.layers:null,this.filters=void 0!==e.filters?e.filters:null,this.style=void 0!==e.style?e.style:null,this.proj=void 0!==e.proj?e.proj:null,this.guid=void 0!==e.guid?e.guid:(0,n.newGuid)(),this.rlt=Math.random(),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:o.defaultImageLoadFunction,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.2,this.isAntialiasing=void 0!==e.isAntialiasing?e.isAntialiasing:null,this.url_="http://"+this.ip+":"+this.port+"/igs/rest/mrms/docs/"+this.name};(0,d.inherits)(v,a.default),v.prototype.getImage=function(t,e,r,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e);var o=this.image_;if(o&&this.renderedRevision_===this.getRevision()&&o.getResolution()===e&&o.getPixelRatio()===r&&u.containsExtent(o.getExtent(),t))return o;null===this.guid&&(this.guid=(0,n.newGuid)());var a={f:this.f,cache:!1,rlt:this.rlt,guid:this.guid};null!==this.style&&(0,p.assign)(a,{style:$.toJSON(this.style)}),null!==this.proj&&(0,p.assign)(a,{proj:$.toJSON(this.proj)}),null!==this.layers&&(0,p.assign)(a,{layers:this.layers}),null!==this.filters&&(0,p.assign)(a,{filters:this.filters}),null!==this.mode&&(0,p.assign)(a,{mode:this.mode}),null!==this.isAntialiasing&&(0,p.assign)(a,{isAntialiasing:this.isAntialiasing});var s=((t=t.slice())[0]+t[2])/2,d=(t[1]+t[3])/2;if(1!==this.ratio_){var f=this.ratio_*u.getWidth(t)/2,g=this.ratio_*u.getHeight(t)/2;t[0]=s-f,t[1]=d-g,t[2]=s+f,t[3]=d+g}var y=e/r,v=Math.ceil(u.getWidth(t)/y),m=Math.ceil(u.getHeight(t)/y);t[0]=s-y*v/2,t[2]=s+y*v/2,t[1]=d-y*m/2,t[3]=d+y*m/2,this.imageSize_[0]=v,this.imageSize_[1]=m;var _=this.getRequestUrl_(t,this.imageSize_,r,i,a);return this.image_=new l.default(t,e,r,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),c.listen(this.image_,h.default.CHANGE,this.handleImageChange,this),this.image_},v.prototype.getRequestUrl_=function(t,e,r,i,n){(0,p.assign)(n,{w:e[0]}),(0,p.assign)(n,{h:e[1]}),null!==this.layers&&(0,p.assign)(n,{layers:this.layers});i.getAxisOrientation();return(0,p.assign)(n,{bbox:t.join(",")}),this.token&&(0,p.assign)(n,{token:this.token}),(0,f.appendParams)(this.url_,n)},e.MapDocSource=v,i.Zondy.Source.MapDocSource=v;var m=function(t,e,r){this.options=r||{},(0,p.assign)(this.options,{layerName:t}),(0,p.assign)(this.options,{name:e}),s.default.call(this,this.options),this.style=void 0!==this.options.style?this.options.style:null,this.filters=void 0!==this.options.filters?this.options.filters:null,this.layers=void 0!==this.options.layers?this.options.layers:null,this.isAntialiasing=void 0!==this.options.isAntialiasing?this.options.isAntialiasing:null,this.source=void 0!==this.options.source?this.options.source:null,null===this.source&&(this.source=new i.Zondy.Source.MapDocSource(this.options)),this.setSource(this.source),(0,p.assign)(this,this.options)};(0,d.inherits)(m,s.default),m.prototype.refresh=function(){this.setSource(null);var t=this.source.guid;(0,p.assign)(this.options,{guid:t}),void 0!==this.style&&null!==this.style&&(0,p.assign)(this.options,{style:this.style}),void 0!==this.filters&&null!==this.filters&&(0,p.assign)(this.options,{filters:this.filters}),void 0!==this.layers&&null!==this.layers&&(0,p.assign)(this.options,{layers:this.layers}),void 0!==this.isAntialiasing&&null!==this.isAntialiasing&&(0,p.assign)(this.options,{isAntialiasing:this.isAntialiasing}),this.source=new i.Zondy.Source.MapDocSource(this.options),this.setSource(this.source)},m.prototype.getStyle=function(){return void 0!==this.options.style?this.options.style:null},m.prototype.setStyle=function(t){void 0!==t&&null!==t&&(this.style=t)},m.prototype.setLayerStatus=function(t,e){if(null!==t&&null!==e){var r=e+":"+t;this.layers=r,this.refresh()}},m.prototype.setFilters=function(t){null!==t&&""!==t.toString()&&(this.filters=t)},e.Doc=m,i.Zondy.Map.Doc=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer_mapgis=e.TileLayerSource=void 0;var i=r(0),n=(r(6),h(r(43))),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),a=h(r(64)),s=r(7),l=r(9),u=h(r(91)),c=r(359);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){var e=t||{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:void 0!==e.wrapX&&e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.name=void 0!==e.name?e.name:null,this.maxResolution=void 0!==e.maxResolution?e.maxResolution:null;var r=void 0!==e.projection?e.projection:null,i=[-180,-90,180,90];null!=r&&(i=r.getExtent()),this.extent=void 0!==e.extent?e.extent:i,this.maxZoom=void 0!==e.maxZoom?e.maxZoom:16,this.tileOriginType=void 0!==e.tileOriginType?e.tileOriginType:"leftTop",this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=void 0!==e.resolutions?e.resolutions:this.getResolutions(),this.origin=void 0!==e.origin?e.origin:o.getTopLeft(this.extent),this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!=e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(d,n.default),d.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.extent),e=o.getHeight(this.extent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},d.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}var n="http://"+this.ip+":"+this.port+"/igs/rest/mrms/tile/"+this.name+"/{z}/{y}/{x}?size="+this.tileSize,o=(this.extent[3]-this.extent[1])/2+this.extent[1];if("lefttop"==this.tileOriginType.toLowerCase()||this.origin[1]>=o)var a=t[0],s=t[1],l=-(t[2]+1);else{a=t[0],s=t[1],l=t[2];if(s>=Math.pow(2,a)||l>=Math.pow(2,a))return}return n.replace("{x}",s.toString()).replace("{y}",l.toString()).replace("{z}",a.toString())},e.TileLayerSource=d,i.Zondy.Source.TileLayerSource=d;var p=function(t,e,r){var n=r||{};(0,l.assign)(n,{layerName:t}),(0,l.assign)(n,{name:e});var o=(0,l.assign)({},n);(o.maxResolution=1/0,u.default.call(this,o),this.isAutoConfig=void 0===n.isAutoConfig||null==n.isAutoConfig||n.isAutoConfig,this.cache=void 0!==n.cache&&n.cache,this.source=void 0!==n.source?n.source:null,null==this.source)&&(this.isAutoConfig?new i.Zondy.Service.GetMapInfoService({ip:n.ip,port:n.port,mapName:e,layerObj:this,paraObj:n}).GetMapInfo(function(t){var e=(0,l.assign)({},this.paraObj);e.name=t.name,e.extent=[t.xMin,t.yMin,t.xMax,t.yMax],e.tileOriginType=t.originType,e.resolutions=t.resolutions,e.tileSize=t.tileWidth,e.origin=[t.originX,t.originY],e.maxZoom=t.endLevel,"dtile"==t.type.toLowerCase()&&(this.layerObj.cache=!0),t.xMax-t.xMin<=1e-6&&t.yMax-t.yMin<=1e-6?alert(""):(this.layerObj.cache?this.layerObj.source=new c.CacheTileLayerSource(e):this.layerObj.source=new d(e),this.layerObj.setSource(this.layerObj.source))},function(){alert("")},null):(this.cache?this.source=new c.CacheTileLayerSource(n):this.source=new d(n),this.setSource(this.source)));(0,l.assign)(this,n)};(0,s.inherits)(p,u.default),e.TileLayer_mapgis=p,i.Zondy.Map.TileLayer=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GdbpLayer=e.MapLayerTileSource=void 0;var i=p(r(24)),n=r(0),o=r(6),a=p(r(43)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),l=p(r(64)),u=r(7),c=r(9),h=r(65),d=p(r(91));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){var e=void 0!==t?t:{};if(a.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,projection:e.projection,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.gdbps=void 0!==e.gdbps?e.gdbps:null,null!=this.gdbps){this.maxResolution=void 0!==e.maxResolution?e.maxResolution:null;var r=void 0!==e.projection?e.projection:null,i=[-180,-90,180,90];null!=r&&(i=r.getExtent()),this.extent=void 0!==e.extent?e.extent:i,this.maxZoom=void 0!==e.maxZoom?e.maxZoom:16,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.origin=void 0!==e.origin?e.origin:s.getTopLeft(this.extent),this.rlt=Math.random(),this.f=void 0!==e.f?e.f:"png",this.filters=void 0!=e.filters?e.filters:null,this.style=void 0!=e.style?e.style:null,this.guid=void 0!==e.guid?e.guid:(0,o.newGuid)(),this.tileGrid=new l.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend,this.proj=e.proj,this.url_="http://"+this.ip+":"+this.port+"/igs/rest/mrms/layers"}else alert("")};(0,u.inherits)(f,a.default),f.prototype.getResolutions=function(){if(null==this.maxResolution){var t=s.getWidth(this.extent),e=s.getHeight(this.extent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},f.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var n=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],n);if(!n.contains(t))return}null!=this.maxResolution&&(this.maxResolution,Math.pow(2,t[0]));var o={f:this.f,rlt:this.rlt,guid:this.guid};null!=this.gdbps&&""!=this.gdbps&&(0,c.assign)(o,{gdbps:this.gdbps.join(",")}),null!=this.style&&(0,c.assign)(o,{style:(0,i.default)(this.style)}),null!=this.filters&&(0,c.assign)(o,{filters:this.filters}),null!=this.proj&&(0,c.assign)(o,{proj:this.proj});var a={minX:t[1],maxX:t[1],minY:t[2],maxY:t[2]},s=this.tileGrid.getTileRangeExtent(t[0],a,null);return o.w=this.tileSize,o.h=this.tileSize,o.bbox=s.join(","),(0,h.appendParams)(this.url_,o)},e.MapLayerTileSource=f,n.Zondy.Source.MapLayerTileSource=f;var g=function(t,e,r){var i=r||{};(0,c.assign)(i,{layerName:t}),(0,c.assign)(i,{gdbps:e}),(0,c.assign)(i,{source:i.source?i.source:new f(i)}),d.default.call(this,i),this.options={},(0,c.assign)(this.options,i),(0,c.assign)(this,i)};(0,u.inherits)(g,d.default),g.prototype.refresh=function(){this.setSource(null);var t=this.options.source.guid;(0,c.assign)(this.options,{guid:t}),void 0!==this.style&&null!==this.style&&(0,c.assign)(this.options,{style:this.style}),void 0!==this.filters&&null!==this.filters&&(0,c.assign)(this.options,{filters:this.filters}),this.options.source=new f(this.options),this.setSource(this.options.source)},g.prototype.getStyle=function(){return void 0!==this.options.style?this.options.style:null},g.prototype.setStyle=function(t){void 0!==t&&null!==t&&(this.style=t,(0,c.assign)(this.options,{style:t}))},g.prototype.setFilters=function(t){null!=t&&""!=t.toString()&&(this.filters=t,(0,c.assign)(this.options,{filters:t}))},e.GdbpLayer=g,n.Zondy.Map.GdbpLayer=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=e.MapLayerSource=void 0;var i=r(0),n=r(6),o=p(r(72)),a=r(1),s=(p(a),d(r(64)),r(7)),l=d(r(69)),u=r(9),c=r(65),h=d(r(179));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var f=function(t){var e=t||{};ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions}),this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.gdbps=void 0!==e.gdbps?e.gdbps:null,null!=this.gdbps?(this.f=void 0!==e.f?e.f:"png",this.rlt=Math.random(),this.filters=void 0!==e.filters?e.filters:null,this.style=void 0!==e.style?e.style:null,this.guid=void 0!==e.guid?e.guid:i.Zondy.Util.newGuid(),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:o.defaultImageLoadFunction,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5,this.url_="http://"+this.ip+":"+this.port+"/igs/rest/mrms/layers"):alert("")};(0,s.inherits)(f,o.default),f.prototype.getImage=function(t,e,r,i){if(void 0==this.url_)return null;e=this.findNearestResolution(e);var o=this.image_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==r&&(0,a.containsExtent)(o.getExtent(),t))return o;null==this.guid&&(this.guid=(0,n.newGuid)());var s={f:this.f,rlt:this.rlt,guid:this.guid};null!=this.gdbps&&""!=this.gdbps&&(0,u.assign)(s,{gdbps:this.gdbps.join(",")}),null!=this.style&&(0,u.assign)(s,{style:$.toJSON(this.style)}),null!=this.filters&&(0,u.assign)(s,{filters:this.filters});var c=((t=t.slice())[0]+t[2])/2,h=(t[1]+t[3])/2;if(1!=this.ratio_){var d=this.ratio_*(0,a.getWidth)(t)/2,p=this.ratio_*(0,a.getHeight)(t)/2;t[0]=c-d,t[1]=h-p,t[2]=c+d,t[3]=h+p}var f=e/r,g=Math.ceil((0,a.getWidth)(t)/f),y=Math.ceil((0,a.getHeight)(t)/f);t[0]=c-f*g/2,t[2]=c+f*g/2,t[1]=h-f*y/2,t[3]=h+f*y/2,this.imageSize_[0]=g,this.imageSize_[1]=y;var v=this.getRequestUrl_(t,this.imageSize_,r,i,s);return this.image_=new l.default(t,e,r,v,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_},f.prototype.getRequestUrl_=function(t,e,r,i,n){(0,u.assign)(n,{w:e[0]}),(0,u.assign)(n,{h:e[1]}),null!=this.layers&&(0,u.assign)(n,{layers:this.layers});i.getAxisOrientation();var o=t;return(0,u.assign)(n,{bbox:o.join(",")}),(0,c.appendParams)(this.url_,n)},f.prototype.getUrl=function(){return this.url_},f.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.MapLayerSource=f,i.Zondy.Source.MapLayerSource=f;var g=function(t,e,r){this.options=r||{},ol.layer.Image.call(this,this.options),(0,u.assign)(this.options,{layerName:t}),(0,u.assign)(this.options,{gdbps:e}),this.style=void 0!==this.options.style?this.options.style:null,this.filters=void 0!==this.options.filters?this.options.filters:null,this.source=void 0!==this.options.source?this.options.source:null,null==this.source&&(this.source=new i.Zondy.Source.MapLayerSource(this.options)),this.setSource(this.source),(0,u.assign)(this,this.options)};(0,s.inherits)(g,h.default),g.prototype.refresh=function(){this.setSource(null);var t=this.source.guid;(0,u.assign)(this.options,{guid:t}),void 0!==this.style&&null!==this.style&&(0,u.assign)(this.options,{style:this.style}),void 0!==this.filters&&null!==this.filters&&(0,u.assign)(this.options,{filters:this.filters}),this.source=new i.Zondy.Source.MapLayerSource(this.options),this.setSource(this.source)},g.prototype.getStyle=function(){return void 0!==this.options.style?this.options.style:null},g.prototype.setStyle=function(t){void 0!==t&&null!==t&&(this.style=t)},g.prototype.setFilters=function(t){null!=t&&""!=t.toString()&&(this.filters=t)},e.Layer=g,i.Zondy.Map.Layer=g},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZDTileDebug=void 0;var i=g(r(3)),n=g(r(2)),o=g(r(11)),a=g(r(4)),s=g(r(5)),l=r(0),u=g(r(60)),c=g(r(30)),h=r(18),d=r(49),p=g(r(109)),f=r(42);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,r,o){(0,n.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,c.default.LOADED));return s.tileSize_=r,s.text_=o,s.canvas_=null,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getImage",value:function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,h.createCanvasContext2D)(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas}},{key:"load",value:function(){}}]),e}(u.default),v=function(t){function e(t){return(0,n.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX}))}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getTile",value:function(t,e,r){var i=(0,f.getKeyZXY)(t,e,r);if(this.tileCache.containsKey(i))return this.tileCache.get(i);var n=(0,d.toSize)(this.tileGrid.getTileSize(t)),o=[t,e,r],a=this.getTileCoordForTileUrlFunction(o),s=(a?this.getTileCoordForTileUrlFunction(a).toString():"").split(",");s[2]=-s[2]-1;var l=s.join(","),u=new y(o,n,l);return this.tileCache.set(i,u),u}}]),e}(p.default);e.ZDTileDebug=v,l.Zondy.Map.ZDTileDebug=v},function(t,e,r){r(544),t.exports=r(25).Object.getPrototypeOf},function(t,e,r){var i=r(356),n=r(355);r(184)("getPrototypeOf",function(){return function(t){return n(i(t))}})},function(t,e,r){t.exports={default:r(546),__esModule:!0}},function(t,e,r){r(547),t.exports=r(25).Object.setPrototypeOf},function(t,e,r){var i=r(66);i(i.S,"Object",{setPrototypeOf:r(548).set})},function(t,e,r){var i=r(74),n=r(73),o=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=r(135)(Function.call,r(246).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:o}},function(t,e,r){t.exports={default:r(550),__esModule:!0}},function(t,e,r){r(551);var i=r(25).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,r){var i=r(66);i(i.S,"Object",{create:r(255)})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenStreetLayerType=e.ArcGISLayerType=e.GoogleLayerType=e.TiandituType=e.OpenStreetLayer=e.OpenStreetMapSource=e.ArcGISLayer=e.ArcGISMapSource=e.GoogleLayer=e.GoogleMapSource=e.TianDiTu=e.TiandituMapSource=e.GaoDeLayer=e.GaodeMapSource=e.BaiDuLayer=e.BaiduMapSource=void 0;var i=r(0),n=(r(6),h(r(43))),o=c(r(1)),a=h(r(64)),s=r(7),l=h(r(91)),u=c(r(12));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.maxResolution=void 0!==e.maxResolution?e.maxResolution:null;var r=void 0!==e.projection?e.projection:null;this.tileExtent=[-180,-90,180,90],this.tileExtent=null!=r?r.getExtent():[-20037508.34,-20037508.34,20037508.34,20037508.34],this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:[0,0],this.maxZoom=void 0!==e.maxZoom?e.maxZoom:16,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(d,n.default),d.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},d.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}var n=t[0],o=t[1],a=t[2];return"http://online2.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20141219&scaler=1".replace("{z}",n.toString()).replace("{y}",a.toString()).replace("{x}",o.toString())},e.BaiduMapSource=d,i.Zondy.Source.BaiduMapSource=d;var p=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new d(e),this.setSource(this.source))};(0,s.inherits)(p,l.default),e.BaiDuLayer=p,i.Zondy.Map.BaiDuLayer=p;var f=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.maxResolution=null;var r=void 0!==e.projection?e.projection:null;this.tileExtent=[-180,-90,180,90],this.tileExtent=null!=r?r.getExtent():[-20037508.34,-20037508.34,20037508.34,20037508.34],this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:o.getTopLeft(this.extent),this.maxZoom=void 0!==e.maxZoom&&e.maxZoom<=18?e.maxZoom:18,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(f,n.default),f.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},f.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}var n=["http://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&z={z}&y={y}&x={x}","http://webrd02.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&z={z}&y={y}&x={x}","http://webrd03.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&z={z}&y={y}&x={x}","http://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&z={z}&y={y}&x={x}"],o=t[0],a=t[1],s=-(t[2]+1);return n[Math.round(Math.random()*(n.length-1))].replace("{z}",o.toString()).replace("{y}",s.toString()).replace("{x}",a.toString())},e.GaodeMapSource=f,i.Zondy.Source.GaodeMapSource=f;var g=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new f(e),this.setSource(this.source))};(0,s.inherits)(g,l.default),e.GaoDeLayer=g,i.Zondy.Map.GaoDeLayer=g;var y=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.layerType=void 0!==e.layerType?e.layerType:i.Zondy.Enum.Map.TiandituType.VEC,this.ip=void 0!==e.ip?e.ip:"127.0.0.1",this.port=void 0!==e.port?e.port:"6163",this.maxResolution=null;var r=void 0!==e.projection?e.projection:null;this.tileExtent=[-180,-90,180,90],null!=r&&(this.tileExtent=r.getExtent()),this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:o.getTopLeft(this.extent),this.maxZoom=void 0!==e.maxZoom&&e.maxZoom<=18?e.maxZoom:18,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.custom=void 0!==e.custom?e.custom:null,this.token=e.token,this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(y,n.default),y.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t<=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},y.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var n=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],n);if(!n.contains(t))return}var o="";if(null!==this.custom&&void 0!==this.custom){if(void 0===this.custom.baseURL)return;this.custom.layer=this.custom.layer?this.custom.layer:i.Zondy.Enum.Map.TiandituType.VEC,this.custom.version=this.custom.version?this.custom.version:"1.0.0",o=this.custom.baseURL.indexOf("?")>0?this.custom.baseURL+"&SERVICE=WMTS&REQUEST=GetTile&VERSION="+this.custom.version+"&LAYER="+this.custom.layer+"&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}":this.custom.baseURL+"?SERVICE=WMTS&REQUEST=GetTile&VERSION="+this.custom.version+"&LAYER="+this.custom.layer+"&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}"}else switch(this.layerType){case i.Zondy.Enum.Map.TiandituType.VEC:case i.Zondy.Enum.TiandituType.VEC:o="http://t"+Math.round(7*Math.random())+".tianditu.gov.cn/vec_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}";break;case i.Zondy.Enum.Map.TiandituType.IMG:case i.Zondy.Enum.TiandituType.IMG:o="http://t"+Math.round(7*Math.random())+".tianditu.gov.cn/img_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}";break;case i.Zondy.Enum.Map.TiandituType.CVA:case i.Zondy.Enum.TiandituType.CVA:o="http://t"+Math.round(7*Math.random())+".tianditu.gov.cn/cva_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}";break;case i.Zondy.Enum.Map.TiandituType.CIA:case i.Zondy.Enum.TiandituType.CIA:o="http://t"+Math.round(7*Math.random())+".tianditu.gov.cn/cia_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILECOL={x}&TILEROW={y}&TILEMATRIX={z}";break;case i.Zondy.Enum.Map.TiandituType.VEC_IGS:case i.Zondy.Enum.TiandituType.VEC_IGS:o="http://"+this.ip+":"+this.port+"/igs/rest/cts/tianditu/vector/{x}/{y}/{z}";break;case i.Zondy.Enum.Map.TiandituType.IMG_IGS:case i.Zondy.Enum.TiandituType.IMG_IGS:o="http://"+this.ip+":"+this.port+"/igs/rest/cts/tianditu/raster/{x}/{y}/{z}";break;case i.Zondy.Enum.Map.TiandituType.CVA_IGS:case i.Zondy.Enum.TiandituType.CVA_IGS:o="http://"+this.ip+":"+this.port+"/igs/rest/cts/tianditu/vectorAnno/{x}/{y}/{z}";break;case i.Zondy.Enum.Map.TiandituType.CIA_IGS:case i.Zondy.Enum.TiandituType.CIA_IGS:o="http://"+this.ip+":"+this.port+"/igs/rest/cts/tianditu/rasterAnno/{x}/{y}/{z}"}var a="";void 0!=this.token&&""!=this.token&&(a="tk="+this.token,o.indexOf("?")>0?o+="&"+a:o+="?"+a);var s=t[0],l=t[1],u=-(t[2]+1);return o.replace("{x}",l.toString()).replace("{y}",u.toString()).replace("{z}",s.toString())},e.TiandituMapSource=y,i.Zondy.Source.TiandituMapSource=y;var v=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new y(e),this.setSource(this.source))};(0,s.inherits)(v,l.default),e.TianDiTu=v,i.Zondy.Map.TianDiTu=v;var m=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,wrapX:e.wrapX,tilePixelRatio:e.tilePixelRatio,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.ip=void 0!==e.ip?e.ip:null,this.port=void 0!==e.port?e.port:null,this.layerType=void 0!==e.layerType?e.layerType:i.Zondy.Enum.Map.GoogleLayerType.VEC,this.maxResolution=null;var r=void 0!==e.projection?e.projection:null;this.tileExtent=[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892],null!=r&&(this.tileExtent=r.getExtent()),this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:o.getTopLeft(this.extent),this.maxZoom=void 0!==e.maxZoom&&e.maxZoom<=24?e.maxZoom:24,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.baseURL=void 0!==e.baseURL?e.baseURL:this.getBaseURL(),this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(m,n.default),m.prototype.getBaseURL=function(){var t="";switch(this.layerType){case i.Zondy.Enum.Map.GoogleLayerType.VEC:case i.Zondy.Enum.GoogleLayerType.VEC:t="http://mt"+Math.round(3*Math.random())+".google.cn/vt/lyrs=m@207000000&hl=zh-CN&gl=CN&src=app&s=Galile";break;case i.Zondy.Enum.Map.GoogleLayerType.RASTER:case i.Zondy.Enum.GoogleLayerType.RASTER:t="http://mt"+Math.round(3*Math.random())+".google.cn/vt?lyrs=s@173&hl=zh-Hans-CN&gl=CN&token=63145";break;case i.Zondy.Enum.Map.GoogleLayerType.ROAD:case i.Zondy.Enum.GoogleLayerType.ROAD:t="http://mt"+Math.round(3*Math.random())+".google.cn/vt/imgtp=png32&lyrs=h@248000000,highlight:0x342eaef8dd85f26f:0x39c2c9ac6c582210@1%7Cstyle:maps&hl=zh-CN&gl=CN&src=app&s=Galileo";break;case i.Zondy.Enum.Map.GoogleLayerType.TERRAIN:case i.Zondy.Enum.GoogleLayerType.TERRAIN:t="http://mt"+Math.round(3*Math.random())+".google.cn/vt?lyrs=t&scale=1";break;case i.Zondy.Enum.Map.GoogleLayerType.VEC_IGS:case i.Zondy.Enum.GoogleLayerType.VEC_IGS:t="http://"+this.ip+":"+this.port+"/igs/rest/cts/google/vector/";break;case i.Zondy.Enum.Map.GoogleLayerType.RASTER_IGS:case i.Zondy.Enum.GoogleLayerType.RASTER_IGS:t="http://"+this.ip+":"+this.port+"/igs/rest/cts/google/raster/";break;case i.Zondy.Enum.Map.GoogleLayerType.ROAD_IGS:case i.Zondy.Enum.GoogleLayerType.ROAD_IGS:t="http://"+this.ip+":"+this.port+"/igs/rest/cts/google/road/";break;case i.Zondy.Enum.Map.GoogleLayerType.TERRAIN_IGS:case i.Zondy.Enum.GoogleLayerType.TERRAIN_IGS:t="http://"+this.ip+":"+this.port+"/igs/rest/cts/google/terrain/"}return t},m.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t<=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},m.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var n=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],n);if(!n.contains(t))return}var o="";switch(this.layerType){case i.Zondy.Enum.Map.GoogleLayerType.VEC:case i.Zondy.Enum.GoogleLayerType.VEC:case i.Zondy.Enum.Map.GoogleLayerType.RASTER:case i.Zondy.Enum.GoogleLayerType.RASTER:case i.Zondy.Enum.Map.GoogleLayerType.ROAD:case i.Zondy.Enum.GoogleLayerType.ROAD:case i.Zondy.Enum.Map.GoogleLayerType.TERRAIN:case i.Zondy.Enum.GoogleLayerType.TERRAIN:o=this.baseURL+"&x={x}&y={y}&z={z}";break;case i.Zondy.Enum.Map.GoogleLayerType.VEC_IGS:case i.Zondy.Enum.GoogleLayerType.VEC_IGS:case i.Zondy.Enum.Map.GoogleLayerType.RASTER_IGS:case i.Zondy.Enum.GoogleLayerType.RASTER_IGS:case i.Zondy.Enum.Map.GoogleLayerType.ROAD_IGS:case i.Zondy.Enum.GoogleLayerType.ROAD_IGS:case i.Zondy.Enum.Map.GoogleLayerType.TERRAIN_IGS:case i.Zondy.Enum.GoogleLayerType.TERRAIN_IGS:o=this.baseURL+"{x}/{y}/{z}"}var a=t[0],s=t[1],l=-(t[2]+1);return o.replace("{x}",s.toString()).replace("{y}",l.toString()).replace("{z}",a.toString())},e.GoogleMapSource=m,i.Zondy.Source.GoogleMapSource=m;var _=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new m(e),this.setSource(this.source))};(0,s.inherits)(_,l.default),e.GoogleLayer=_,i.Zondy.Map.GoogleLayer=_;var O=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.layerType=void 0!==e.layerType?e.layerType:i.Zondy.Enum.Map.ArcGISLayerType.WorldTerrainBase,this.maxResolution=null;var r=void 0!==e.projection?e.projection:this.initProjection();this.tileExtent=[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892],null!=r&&(this.tileExtent=r.getExtent()),this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:o.getBottomLeft(this.extent),this.maxZoom=void 0!==e.maxZoom?e.maxZoom<=20?e.maxZoom:20:this.initMaxZoom(),this.tileSize=void 0!==e.tileSize?e.tileSize:this.initTileSize(),this.resolutions=this.getResolutions(),this.baseURL=void 0!==e.baseURL?e.baseURL:"http://services.arcgisonline.com/ArcGIS/rest/services/",this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(O,n.default),O.prototype.initTileSize=function(){var t=256;switch(this.layerType){case i.Zondy.Enum.Map.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.TopoUS2D:case i.Zondy.Enum.ArcGISLayerType.TopoUS2D:t=512;break;default:t=256}return t},O.prototype.initProjection=function(){var t=null;switch(this.layerType){case i.Zondy.Enum.Map.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.TopoUS2D:case i.Zondy.Enum.ArcGISLayerType.TopoUS2D:t=u.get("EPSG:4326");break;default:t=u.get("EPSG:3857")}return t},O.prototype.initMaxZoom=function(){var t=null;switch(this.layerType){case i.Zondy.Enum.Map.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.ArcGISLayerType.ImageryWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.ArcGISLayerType.StreetMapWorld2D:case i.Zondy.Enum.Map.ArcGISLayerType.USATopoMaps:case i.Zondy.Enum.ArcGISLayerType.USATopoMaps:t=16;break;case i.Zondy.Enum.Map.ArcGISLayerType.TopoUS2D:case i.Zondy.Enum.ArcGISLayerType.TopoUS2D:case i.Zondy.Enum.Map.ArcGISLayerType.WorldShadedRelief:case i.Zondy.Enum.ArcGISLayerType.WorldShadedRelief:case i.Zondy.Enum.Map.ArcGISLayerType.WorldTerrainBase:case i.Zondy.Enum.ArcGISLayerType.WorldTerrainBase:t=14;break;case i.Zondy.Enum.Map.ArcGISLayerType.WorldPhysical:case i.Zondy.Enum.ArcGISLayerType.WorldPhysical:t=9;break;case i.Zondy.Enum.Map.ArcGISLayerType.WorldStreet:case i.Zondy.Enum.ArcGISLayerType.WorldStreet:case i.Zondy.Enum.Map.ArcGISLayerType.WorldTopo:case i.Zondy.Enum.ArcGISLayerType.WorldTopo:case i.Zondy.Enum.Map.ArcGISLayerType.WorldImagery:case i.Zondy.Enum.ArcGISLayerType.WorldImagery:t=20;break;case i.Zondy.Enum.Map.ArcGISLayerType.NatGeoWorldMap:case i.Zondy.Enum.ArcGISLayerType.NatGeoWorldMap:case i.Zondy.Enum.Map.ArcGISLayerType.OceanBasemap:case i.Zondy.Enum.ArcGISLayerType.OceanBasemap:t=17}return t},O.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},O.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}var n=this.baseURL+this.layerType+"/MapServer/tile/{z}/{y}/{x}.jpg",o=t[0],a=t[1],s=Math.pow(2,o)-1-t[2];return n.replace("{x}",a.toString()).replace("{y}",s.toString()).replace("{z}",o.toString())},e.ArcGISMapSource=O,i.Zondy.Source.ArcGISMapSource=O;var b=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new O(e),this.setSource(this.source))};(0,s.inherits)(b,l.default),e.ArcGISLayer=b,i.Zondy.Map.ArcGISLayer=b;var S=function(t){var e=void 0!==t?t:{};n.default.call(this,{attributions:e.attributions,logo:e.logo,opaque:e.opaque,projection:e.projection,state:void 0!==e.state?e.state:void 0,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:null}),this.layerType=void 0!==e.layerType?e.layerType:i.Zondy.Enum.Map.OpenStreetLayerType.OSM,xResolution=null;var r=void 0!==e.projection?e.projection:u.get("EPSG:3857");this.tileExtent=[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892],null!=r&&(this.tileExtent=r.getExtent()),this.extent=void 0!==e.extent?e.extent:this.tileExtent,this.origin=void 0!==e.origin?e.origin:o.getBottomLeft(this.extent),this.maxZoom=void 0!==e.maxZoom&&e.maxZoom<=20?e.maxZoom:20,this.tileSize=void 0!==e.tileSize?e.tileSize:256,this.resolutions=this.getResolutions(),this.baseURL=void 0!==e.baseURL?e.baseURL:this.GetUrlFormat(),this.tileGrid=new a.default({origin:this.origin,resolutions:this.resolutions,tileSize:this.tileSize}),this.tileUrlFunction=void 0!==e.tileUrlFunction?e.tileUrlFunction:this.tileUrlFunctionExtend};(0,s.inherits)(S,n.default),S.prototype.GetUrlFormat=function(){var t=null;switch(this.layerType){case i.Zondy.Enum.Map.OpenStreetLayerType.LandScape:case i.Zondy.Enum.OpenStreetLayerType.LandScape:t="http://"+"abc"[Math.round(2*Math.random())]+".tile3.opencyclemap.org/landscape/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.CYCLE:case i.Zondy.Enum.OpenStreetLayerType.CYCLE:t="http://"+"abc"[Math.round(2*Math.random())]+".tile.opencyclemap.org/cycle/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.CycleTransport:case i.Zondy.Enum.OpenStreetLayerType.CycleTransport:t="http://"+"abc"[Math.round(2*Math.random())]+".tile2.opencyclemap.org/transport/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.OSM:case i.Zondy.Enum.OpenStreetLayerType.OSM:t="http://"+"abc"[Math.round(2*Math.random())]+".tile.openstreetmap.org/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.OSM_HYB:case i.Zondy.Enum.OpenStreetLayerType.OSM_HYB:t="http://otile"+(Math.round(2*Math.random())+1)+".mqcdn.com/tiles/1.0.0/hyb/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.OSM_Quest:case i.Zondy.Enum.OpenStreetLayerType.OSM_Quest:t="http://otile"+(Math.round(2*Math.random())+1)+".mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png";break;case i.Zondy.Enum.Map.OpenStreetLayerType.OSM_Q_SAT:case i.Zondy.Enum.OpenStreetLayerType.OSM_Q_SAT:t="http://otile"+(Math.round(2*Math.random())+1)+".mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg"}return t},S.prototype.getResolutions=function(){if(null==this.maxResolution){var t=o.getWidth(this.tileExtent),e=o.getHeight(this.tileExtent);this.maxResolution=(t>=e?e:t)/this.tileSize}for(var r=new Array(this.maxZoom),i=0;i<this.maxZoom;++i)r[i]=this.maxResolution/Math.pow(2,i);return r},S.prototype.tileUrlFunctionExtend=function(t,e,r){if(null!=this.tileGrid){var i=this.tileGrid.getTileRangeForExtentAndZ(this.extent,t[0],i);if(!i.contains(t))return}var n=t[0],o=t[1],a=Math.pow(2,n)-1-t[2];return this.baseURL.replace("{x}",o.toString()).replace("{y}",a.toString()).replace("{z}",n.toString())},e.OpenStreetMapSource=S,i.Zondy.Source.OpenStreetMapSource=S;var T=function(t){var e=void 0!==t?t:{};l.default.call(this,e),void 0==e.source&&(this.source=new S(e),this.setSource(this.source))};(0,s.inherits)(T,l.default),e.OpenStreetLayer=T,i.Zondy.Map.OpenStreetLayer=T;var E={VEC:"vec",IMG:"img",CVA:"cva",CIA:"cia",VEC_IGS:"vec_igs",IMG_IGS:"img_igs",CVA_IGS:"cva_igs",CIA_IGS:"cia_igs"};e.TiandituType=E,i.Zondy.Enum.Map.TiandituType=i.Zondy.Enum.TiandituType=E;var C={VEC:"vector",RASTER:"raster",ROAD:"road",TERRAIN:"terrain",VEC_IGS:"vector_igs",RASTER_IGS:"raster_igs",ROAD_IGS:"road_igs",TERRAIN_IGS:"terrain_igs"};e.GoogleLayerType=C,i.Zondy.Enum.Map.GoogleLayerType=i.Zondy.Enum.GoogleLayerType=C;var x={ImageryWorld2D:"ESRI_Imagery_World_2D",StreetMapWorld2D:"ESRI_StreetMap_World_2D",TopoUS2D:"NGS_Topo_US_2D",WorldImagery:"World_Imagery",WorldPhysical:"World_Physical_Map",WorldShadedRelief:"World_Shaded_Relief",WorldStreet:"World_Street_Map",WorldTerrainBase:"World_Terrain_Base",WorldTopo:"World_Topo_Map",NatGeoWorldMap:"NatGeo_World_Map",OceanBasemap:"Ocean_Basemap",USATopoMaps:"USA_Topo_Maps"};e.ArcGISLayerType=x,i.Zondy.Enum.Map.ArcGISLayerType=i.Zondy.Enum.ArcGISLayerType=x;var j={LandScape:"landscape",CYCLE:"cycle",CycleTransport:"transport",OSM:"openstreetmap",OSM_HYB:"hyb",OSM_Quest:"mapquest",OSM_Q_SAT:"OSM_sat"};e.OpenStreetLayerType=j,i.Zondy.Enum.Map.OpenStreetLayerType=i.Zondy.Enum.OpenStreetLayerType=j},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goog=e.MilstdParams=e.EnumMilstdType=e.MilStdDragPan=e.MilStdModifyTool=e.MilStdDrawTool=e.MilStd=e.Drag=e.ZDOverviewMap=e.PolygonJSON=void 0;var i=r(554),n=r(555),o=r(556),a=r(557),s=function(t){return t&&t.__esModule?t:{default:t}}(r(558));e.PolygonJSON=i.PolygonJSON,e.ZDOverviewMap=n.ZDOverviewMap,e.Drag=o.Drag,e.MilStd=a.MilStd,e.MilStdDrawTool=a.MilStdDrawTool,e.MilStdModifyTool=a.MilStdModifyTool,e.MilStdDragPan=a.MilStdDragPan,e.EnumMilstdType=a.EnumMilstdType,e.MilstdParams=a.MilstdParams,e.goog=s.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolygonJSON=void 0;var i=r(0),n=r(9),o=d(r(26)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=d(r(19)),l=d(r(27)),u=d(r(28)),c=d(r(41)),h=d(r(55));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){var e=void 0!==t?t:{};(0,n.assign)(this,e)};p.prototype.read=function(t,e){if(void 0===t)return null;var r=null;return null!==(r="string"==typeof t?JSON.parse(t):t)?this.parseVectors(r):void 0},p.prototype.parseVectors=function(t){if(void 0===t||void 0===t.SFEleArray)return null;if(!t.SFEleArray)return null;if(0==t.SFEleArray.length)return null;for(var e=new Array,r=0,i=t.SFEleArray.length;r<i;r++){var n=t.SFEleArray[r],a=this.parseAttribute(t.AttStruct,n.AttValue),s=this.parseGeometry(n.fGeom,n.ftype),l=new o.default;l.setGeometry(s),l.setId(n.FID.toString()),l.setProperties(a),e[r]=l}return e},p.prototype.parseBound=function(t){return void 0===t?null:a.createOrUpdate(t.xmin,t.ymin,t.xmax,t.ymax)},p.prototype.parseAttribute=function(t,e){if(void 0===t||void 0===e)return null;if(t.FldName.length!=e.length)return null;for(var r=new s.default,i=0,n=t.FldName.length;i<n;i++)r.set(t.FldName[i],e[i]);return r},p.prototype.parseGeometry=function(t,e){var r=null;switch("Unknow"==e&&(e=t.PntGeom.length>0?1:t.LinGeom.length>0?2:3),e){case 1:r=this.parseGPoint(t.PntGeom);break;case 2:r=this.parseGLine(t.LinGeom);break;case 3:r=this.parseGRegion(t.RegGeom)}return r},p.prototype.parseGRegion=function(t){if(void 0===t||void 0===t.length||0==t.length)return null;for(var e=0,r=new Array,i=0;i<t.length;i++){var n=t[i];if(void 0===n||void 0===n.Rings)return null;for(var o=0,a=n.Rings.length;o<a;o++){for(var s=n.Rings[o],c=new Array,h=s.Arcs[0].Dots,d=0,p=h.length;d<p;d++)c[d]=[h[d].x,h[d].y];r[e++]=c}}return new l.default(r,u.default.XY)},p.prototype.parseGLine=function(t){if(void 0===t||void 0===t.length||0==t.length)return null;var e=[];if(!t)return null;if(0===t.length)return null;for(var r=0,i=t.length;r<i;r++){for(var n=new Array,o=t[r].Line.Arcs[0].Dots,a=0,s=o.length;a<s;a++)n[a]=[o[a].x,o[a].y];e[r]=n}return new c.default(e)},p.prototype.parseGPoint=function(t){if(void 0===t||void 0===t.length||0==t.length)return null;for(var e=[],r=null,i=0,n=t.length;i<n;i++)r=t[i].Dot,e[i]=[r.x,r.y];return new h.default(e,u.default.XY)},e.PolygonJSON=p,i.Zondy.Format.PolygonJSON=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZDOverviewMap=void 0;var i=r(0),n=r(7),o=u(r(174)),a=u(r(121)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(8)),l=u(r(10));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){var e=void 0!==t?t:{};o.default.call(this,e),this.cursor_="move",this.previousCursor_=void 0,this.mouseDown=!1,this.positionBox=null,this.preMousePos=null,this.startPos=null,this.endPos=null,this.SetBoxStyle("#999999",.5),this.collapsed_||this.ConnectEventHandle()};(0,n.inherits)(c,o.default),c.prototype.InitView=function(t,e){this.ovmap_.setView(new a.default({center:t,projection:e}))},c.prototype.ConnectEventHandle=function(){var t=this.boxOverlay_.getElement();void 0!==t&&null!=t&&(s.listen(t,l.default.MOUSEMOVE,this.handleMouseEnter,this),s.listen(t,l.default.MOUSEOUT,this.handleMouseLeave,this))},c.prototype.SetBoxStyle=function(t,e){if(void 0!==this.boxOverlay_&&null!=this.boxOverlay_){var r=this.boxOverlay_.getElement();r.style.backgroundColor=t,r.style.opacity=e}},c.prototype.DisConnectEventHandle=function(){var t=this.boxOverlay_.getElement();void 0!==t&&null!=t&&(s.unlisten(t,l.default.MOUSEMOVE,this.handleMouseEnter,this),s.unlisten(t,l.default.MOUSEOUT,this.handleMouseLeave,this))},c.prototype.ConvertPixelToNumber=function(t){if(void 0!==t&&null!=t){var e=t.indexOf("px");if(e>0)return Number(t.slice(0,e))}return Number(t)},c.prototype.handleMouseDown=function(t){this.mouseDown=!0;var e=this.ConvertPixelToNumber(t.target.parentNode.style.bottom),r=this.ConvertPixelToNumber(t.target.parentNode.style.left);this.positionBox=[e,r],this.preMousePos=[t.clientX,t.clientY],this.startPos=[t.clientX,t.clientY]},c.prototype.handleMouseMove=function(t){if(void 0!==this.positionBox&&null!=this.positionBox&&1==this.mouseDown){var e=t.clientX-this.preMousePos[0],r=t.clientY-this.preMousePos[1];this.positionBox[0]-=r,this.positionBox[1]+=e,t.target.parentNode.style.bottom=this.positionBox[0]+"px",t.target.parentNode.style.left=this.positionBox[1]+"px",this.preMousePos=[t.clientX,t.clientY]}},c.prototype.handleMouseUp=function(t){if(null!=this.startPos){this.mouseDown=!1,this.endPos=[t.clientX,t.clientY];var e=this.getMap().getView(),r=this.ovmap_.getView(),i=(this.endPos[0]-this.startPos[0])*r.getResolution(),n=(this.endPos[1]-this.startPos[1])*r.getResolution(),o=e.getCenter(),a=[o[0]+i,o[1]-n];e.setCenter(a),this.startPos=null,this.endPos=null}},c.prototype.handleMouseEnter=function(t){t.target.style.cursor!=this.cursor_&&(this.previousCursor_=t.target.style.cursor,t.target.style.cursor=this.cursor_);var e=this.boxOverlay_.getElement();void 0!==e&&null!=e&&(s.listen(e,l.default.MOUSEDOWN,this.handleMouseDown,this),s.listen(e,l.default.MOUSEMOVE,this.handleMouseMove,this),s.listen(e,l.default.MOUSEUP,this.handleMouseUp,this))},c.prototype.handleMouseLeave=function(t){this.handleMouseUp(t),void 0!==this.previousCursor_&&(t.target.style.cursor=this.previousCursor_,this.previousCursor_=void 0);var e=this.boxOverlay_.getElement();void 0!==e&&null!=e&&(s.unlisten(e,l.default.MOUSEDOWN,this.handleMouseDown,this),s.unlisten(e,l.default.MOUSEMOVE,this.handleMouseMove,this),s.unlisten(e,l.default.MOUSEUP,this.handleMouseUp,this))},c.prototype.handleToggle_=function(){o.default.prototype.handleToggle_.apply(this),this.collapsed_?this.DisConnectEventHandle():this.ConnectEventHandle()},e.ZDOverviewMap=c,i.Zondy.Control.OverviewMap=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Drag=void 0;var i=r(0),n=r(7),o=function(t){return t&&t.__esModule?t:{default:t}}(r(34));var a=function t(e){o.default.call(this,{handleDownEvent:t.prototype.handleDownEvent,handleDragEvent:t.prototype.handleDragEvent,handleMoveEvent:t.prototype.handleMoveEvent,handleUpEvent:t.prototype.handleUpEvent}),this.coordinate_=null,this.cursor_="pointer",this.feature_=null,this.previousCursor_=void 0};(0,n.inherits)(a,o.default),a.prototype.handleDownEvent=function(t){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});return e&&(this.coordinate_=t.coordinate,this.feature_=e),!!e},a.prototype.handleDragEvent=function(t){t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});var e=t.coordinate[0]-this.coordinate_[0],r=t.coordinate[1]-this.coordinate_[1];this.feature_.getGeometry().translate(e,r),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1]},a.prototype.handleMoveEvent=function(t){if(this.cursor_){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t}),r=t.map.getTargetElement();e?r.style.cursor!=this.cursor_&&(this.previousCursor_=r.style.cursor,r.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},a.prototype.handleUpEvent=function(t){return this.coordinate_=null,this.feature_=null,!1},e.Drag=a,i.Zondy.GeomInteraction.Drag=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MilStdDragPan=e.MilStdModifyTool=e.MilStdDrawTool=e.MilstdParams=e.EnumMilstdType=e.MilStd=void 0;var i=r(7),n=A(r(41)),o=A(r(27)),a=A(r(31)),s=A(r(132)),l=A(r(21)),u=A(r(102)),c=A(r(101)),h=r(71),d=A(h),p=A(r(80)),f=A(r(89)),g=A(r(97)),y=A(r(122)),v=A(r(10)),m=w(r(8)),_=r(34),O=A(_),b=A(r(124)),S=A(r(46)),T=A(r(77)),E=A(r(26)),C=A(r(29)),x=w(r(1)),j=A(r(120)),P=A(r(70)),I=A(r(33)),R=w(r(39)),L=A(r(16));function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}var M=window.MilStd=window.MilStd||{};M.commonFun=M.commonFun||{},M.Arrow=M.Arrow||{},M.Flag=M.Flag||{},M.Compass=M.Compass||{},M.Bezier=M.Bezier||{},M.event=M.event||{},M.tool=M.tool||{},M.enum={ZERO_TOLERANCE:1e-4};var F={ArrowCross:"ArrowCross",CircleClosedangle:"CircleClosedangle",Closedangle:"Closedangle",DoubleClosedangle:"DoubleClosedangle",Fourstar:"Fourstar",Rhombus:"Rhombus",SameDirectionClosedangle:"SameDirectionClosedangle",Triangle:"Triangle",Vane:"Vane",SimpleArrow:"SimpleArrow",DoubleArrow:"DoubleArrow",StraightArrow:"StraightArrow",SingleLineArrow:"SingleLineArrow",TriangleFlag:"TriangleFlag",RectFlag:"RectFlag",CurveFlag:"CurveFlag",Bezier:"Bezier",BezierLine:"BezierLine",AssemblyArea:"AssemblyArea"},N=function(t){t&&(this.headHeightFactor=void 0!==t.headHeightFactor&&null!=t.headHeightFactor?t.headHeightFactor:.2,this.headWidthFactor=void 0!==t.headWidthFactor&&null!=t.headWidthFactor?t.headWidthFactor:.5,this.neckHeightFactor=void 0!==t.neckHeightFactor&&null!=t.neckHeightFactor?t.neckHeightFactor:.8,this.neckWidthFactor=void 0!==t.neckWidthFactor&&null!=t.neckWidthFactor?t.neckWidthFactor:.2,this.tailWidthFactor=void 0!==t.tailWidthFactor&&null!=t.tailWidthFactor?t.tailWidthFactor:.1,this.hasSwallowTail=void 0===t.hasSwallowTail||null==t.hasSwallowTail||t.hasSwallowTail,this.swallowTailFactor=void 0!==t.swallowTailFactor&&null!=t.swallowTailFactor?t.swallowTailFactor:.5,this.curveFitMethod=void 0!==t.curveFitMethod&&null!=t.curveFitMethod?t.curveFitMethod:"useBSplieFit",this.maxVertices=void 0!==t.maxVertices&&null!=t.maxVertices?t.maxVertices:20)};M.commonFun.CalLengthOfTwoPoints=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},M.commonFun.wholeDistance=function(t){var e=0;if(null!=t&&t.length>1)for(var r=0;r<t.length-1;r++)e+=M.commonFun.CalLengthOfTwoPoints(t[r],t[r+1]);return e},M.commonFun.getAzimuthAngle=function(t,e){var r=0,i=Math.asin(Math.abs(e[1]-t[1])/M.commonFun.CalLengthOfTwoPoints(t,e));return e[1]>=t[1]&&e[0]>=t[0]?i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?2*Math.PI-i:e[1]<t[1]&&e[0]<t[0]?i:(e[1]<t[1]&&e[0]>=t[0]&&(r=Math.PI-i),r)},M.commonFun.getThirdPoint=function(t,e,r,i,n){var o=M.commonFun.getAzimuthAngle(t,e),a=0;a="left"==n.toLowerCase()?o+r:o-r;var s=i*Math.cos(a),l=i*Math.sin(a);return[e[0]+s,e[1]+l]},M.commonFun.getAngleOfThreePoints=function(t,e,r){var i=M.commonFun.getAzimuthAngle(e,t)-M.commonFun.getAzimuthAngle(e,r);return i<0&&(i+=2*Math.PI),i},M.commonFun.getFactorial=function(t){for(var e=1,r=1;r<=t;r++)e*=r;return e},M.commonFun.getBinomialFactor=function(t,e){return M.commonFun.getFactorial(t)/(M.commonFun.getFactorial(e)*M.commonFun.getFactorial(t-e))},M.commonFun.getQuadricBSplineFactor=function(t,e){return 0==t?Math.pow(e-1,2)/2:1==t?(-2*Math.pow(e,2)+2*e+1)/2:2==t?Math.pow(e,2)/2:0},M.commonFun.getBSplineFFactor=function(t,e,r){if(2==e)return M.commonFun.getQuadricBSplineFactor(t,r);for(var i=0,n=M.commonFun.getFactorial(e),o=0;o<=e-t;o++){i+=(o%2==0?1:-1)*M.commonFun.getBinomialFactor(e+1,o)*Math.pow(r+e-t-o,e)}return i/n},M.commonFun.getSide=function(t,e,r){var i=(e[1]-t[1])*(r[0]-t[0])-(r[1]-t[1])*(e[0]-t[0]);return i>0?"left":i<0?"right":null},M.commonFun.getMidPoint=function(t,e){var r=new Array,i=(t[0]+e[0])/2,n=(t[1]+e[1])/2;return r.push(i),r.push(n),r},M.commonFun.getBezierPoints=function(t){if(t.length<=2)return t;for(var e=new Array,r=t.length-1,i=0;i<=1;i+=.01){for(var n=0,o=0,a=0;a<=r;a++){var s=M.commonFun.getBinomialFactor(r,a),l=Math.pow(i,a),u=Math.pow(1-i,r-a);n+=s*l*u*t[a][0],o+=s*l*u*t[a][1]}e.push([n,o])}return e.push(t[r]),e},M.commonFun.getBSplinePoints=function(t,e){if(t.length<=2||t.length<=e)return t;var r=new Array,i=t.length-e-1;r.push(t[0]);for(var n=0;n<=i;n++)for(var o=0;o<=1;o+=.05){for(var a=0,s=0,l=0;l<=e;l++){var u=M.commonFun.getBSplineFFactor(l,e,o);a+=u*t[n+l][0],s+=u*t[n+l][1]}r.push([a,s])}return r.push(t[t.length-1]),r},M.commonFun.geomEquals=function(t,e){var r=!1;return null!=t&&(r=e[0]==t[0]&&e[1]==t[1]||null==e[0]&&null==e[1]&&null==t[0]&&null==t[1]),r},M.commonFun.CreateNewVertices=function(t){if(null!=t&&t.length>=2){var e=Math.max(t[0][0],t[1][0]),r=[Math.min(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])],i=[e,Math.min(t[0][1],t[1][1])];t.splice(0,1,r),t.splice(1,1,i)}},M.Arrow.getArrowFromVert=function(t,e,r){var i=null;if(null!=t&&t.length>=2){var a=null;switch(e){case"SimpleArrow":case"StraightArrow":a=M.Arrow.getSimpleArrowPnts(t,r.hasSwallowTail,r.swallowTailFactor,r.curveFitMethod,r.headHeightFactor,r.headWidthFactor,r.neckHeightFactor,r.neckWidthFactor,r.tailWidthFactor),i=new o.default([a]);break;case"DoubleArrow":a=M.Arrow.getDoubleArrowPnts(t,r.headHeightFactor,r.headWidthFactor,r.neckHeightFactor,r.neckWidthFactor),i=new o.default([a]);break;case"SingleLineArrow":a=M.Arrow.getSLArrowPnts(t,r.headHeightFactor,r.headWidthFactor),i=new n.default(a)}}return i},M.Arrow.getSimpleArrowPnts=function(t,e,r,i,n,o,a,s,l){if(t.length<2)return t;var u=M.Arrow.getArrowHeadPoints(t,n,o,a,s),c=u[0],h=u[4],d=M.Arrow.getArrowBodyPoints(t,c,h,l,1,1),p=M.Arrow.getArrowTailPoints(t,l,e,r),f=p[0],g=(p.length,p[1]),y=3==p.length?p[2]:p[1],v=d.length,m=d.slice(0,Math.ceil(v/2)),_=d.slice(Math.ceil(v/2));m.push(c),_.push(h),m.reverse(),m.push(f),_.reverse(),_.push(y);var O=null,b=null;"useBezierFit"==i?(O=M.commonFun.getBezierPoints(m),b=M.commonFun.getBezierPoints(_)):(O=M.commonFun.getBSplinePoints(m,2),b=M.commonFun.getBSplinePoints(_,2)),null!=g&&(O.push(g),b.push(g)),O.reverse();for(var S=0;S<u.length;S++)O.push(u[S]);for(var T=0;T<b.length;T++)O.push(b[T]);return O},M.Arrow.getSLArrowPnts=function(t,e,r){if(t.length<2)return null;var i=M.Arrow.getArrowHeadPointsForSLine(t,e,r),n=M.commonFun.getBezierPoints(t),o=new Array;return o.push(i),o.push(n),o},M.Arrow.isCounterClockwise=function(t){if(t.length<3)return 0;var e=t[0],r=t[1],i=t[2];return(r[0]-e[0])*(i[1]-r[1])-(r[1]-e[1])*(i[0]-r[0])},M.Arrow.getDoubleArrowPnts=function(t,e,r,i,n){var o=null,a=t.length;if(a>=3&&!M.commonFun.geomEquals(t[a-1],t[a-2])){var s=t[0],l=t[1],u=t[2],c=null;3==a?(c=M.Arrow.getTempPnt4(s,l,u),t.push(c)):c=t[3],M.Arrow.isCounterClockwise(t)<0&&(s=t[1],l=t[0],u=t[3],c=t[2]);var h=M.commonFun.getMidPoint(s,l),d=M.Arrow.getArrowPoints(s,h,c,"left",e,r,i,n),p=M.Arrow.getArrowPoints(h,l,u,"right",e,r,i,n),f=d.length,g=Math.ceil((f-5)/2);o=d.slice(0,g);var y=d.slice(g,g+5),v=d.slice(g+5),m=p.slice(0,g),_=p.slice(g,g+5),O=p.slice(g+5);o=M.commonFun.getBezierPoints(o);for(var b=0;b<m.length;b++)v.push(m[b]);var S=M.commonFun.getBezierPoints(v);O=M.commonFun.getBezierPoints(O);for(b=0;b<y.length;b++)o.push(y[b]);for(b=0;b<S.length;b++)o.push(S[b]);for(b=0;b<_.length;b++)o.push(_[b]);for(b=0;b<O.length;b++)o.push(O[b]);o.length>0&&(M.commonFun.geomEquals(o[0],o[o.length-1])||o.push(o[0]))}return o},M.Arrow.getArrowHeadPoints=function(t,e,r,i,n){if(t.length<2)return t;var o=M.commonFun.wholeDistance(t)*e,a=o*r,s=o*n,l=t.length,u=[t[l-1][0],t[l-1][1]],c=M.commonFun.CalLengthOfTwoPoints(u,t[l-2]),h=(o=o>c?c:o)*i,d=M.commonFun.getThirdPoint(t[l-2],u,0,o,"left"),p=M.commonFun.getThirdPoint(t[l-2],u,0,h,"left"),f=M.commonFun.getThirdPoint(u,d,1.5*Math.PI,a,"right"),g=M.commonFun.getThirdPoint(u,p,1.5*Math.PI,s,"right"),y=M.commonFun.getThirdPoint(u,d,1.5*Math.PI,a,"left"),v=M.commonFun.getThirdPoint(u,p,1.5*Math.PI,s,"left"),m=new Array;return m.push(g),m.push(f),m.push(u),m.push(y),m.push(v),m},M.Arrow.getArrowHeadPointsForSLine=function(t,e,r){if(t.length<2)return t;var i=M.commonFun.CalLengthOfTwoPoints(t[0],t[1])*e,n=i*r,o=t.length,a=t[o-1],s=M.commonFun.CalLengthOfTwoPoints(a,t[o-2]);i=i>s?s:i;var l=M.commonFun.getThirdPoint(t[o-2],a,0,i,"left"),u=M.commonFun.getThirdPoint(a,l,1.5*Math.PI,n,"right"),c=M.commonFun.getThirdPoint(a,l,1.5*Math.PI,n,"left"),h=new Array;return h.push(u),h.push(a),h.push(c),h},M.Arrow.getArrowBodyPoints=function(t,e,r,i,n,o){if(t.length<2)return t;for(var a=M.commonFun.wholeDistance(t),s=M.commonFun.wholeDistance(t)*i,l=s-M.commonFun.CalLengthOfTwoPoints(e,r)/2,u=0,c=new Array,h=new Array,d=1;d<t.length-1;d++){var p=M.commonFun.getAngleOfThreePoints(t[d-1],t[d],t[d+1])/2,f=(s-(u+=M.commonFun.CalLengthOfTwoPoints(t[d-1],t[d]))/a*l)/Math.sin(p);c.push(M.commonFun.getThirdPoint(t[d-1],t[d],p,f*n,"right")),h.push(M.commonFun.getThirdPoint(t[d-1],t[d],Math.PI-p,f*o,"left"))}for(var g=0;g<h.length;g++)c.push(h[g]);return c},M.Arrow.getArrowTailPoints=function(t,e,r,i){if(t.length<2)return t;var n=M.commonFun.wholeDistance(t)*e,o=new Array,a=M.commonFun.getThirdPoint(t[1],t[0],1.5*Math.PI,n,"right"),s=M.commonFun.getThirdPoint(t[1],t[0],1.5*Math.PI,n,"left");if(r){var l=n*i,u=M.commonFun.getThirdPoint(t[1],t[0],0,l,"left");return o.push(a),o.push(u),o.push(s),o}return o.push(a),o.push(s),o},M.Arrow.getArrowPoints=function(t,e,r,i,n,o,a,s){var l=M.commonFun.getMidPoint(t,e),u=M.commonFun.CalLengthOfTwoPoints(l,r),c=M.commonFun.getThirdPoint(r,l,0,.3*u,"left"),h=M.commonFun.getThirdPoint(r,l,0,.5*u,"left"),d=M.commonFun.getThirdPoint(r,l,0,.7*u,"left");c=M.commonFun.getThirdPoint(l,c,1.5*Math.PI,u/4,i),h=M.commonFun.getThirdPoint(l,h,1.5*Math.PI,u/4,i),d=M.commonFun.getThirdPoint(l,d,1.5*Math.PI,u/4,i);var p=new Array;p.push(l),p.push(c),p.push(h),p.push(d),p.push(r);var f=M.Arrow.getArrowHeadPoints(p,n,o,a,s),g=f[0],y=f[4],v=M.commonFun.CalLengthOfTwoPoints(t,e)/M.commonFun.wholeDistance(p)/2,m="left"==i?1:.01,_="left"==i?.01:1,O=M.Arrow.getArrowBodyPoints(p,g,y,v,m,_),b=O.length,S=O.slice(0,Math.ceil(b/2)),T=O.slice(Math.ceil(b/2));S.push(g),T.push(y),S.reverse(),S.push(t),T.reverse(),T.push(e),S.reverse();for(var E=0;E<f.length;E++)S.push(f[E]);for(E=0;E<T.length;E++)S.push(T[E]);return S},M.Arrow.getTempPnt4=function(t,e,r){var i=null,n=M.commonFun.getMidPoint(t,e),o=M.commonFun.CalLengthOfTwoPoints(n,r),a=M.commonFun.getAngleOfThreePoints(t,n,r),s=0,l=0;return a<Math.PI/2?(s=o*Math.sin(a),l=o*Math.cos(a),i=M.commonFun.getThirdPoint(t,n,1.5*Math.PI,s,"left"),M.commonFun.getThirdPoint(n,i,1.5*Math.PI,l,"right")):a>=Math.PI/2&&a<Math.PI?(s=o*Math.sin(Math.PI-a),l=o*Math.cos(Math.PI-a),i=M.commonFun.getThirdPoint(t,n,1.5*Math.PI,s,"left"),M.commonFun.getThirdPoint(n,i,1.5*Math.PI,l,"left")):a>=Math.PI&&a<1.5*Math.PI?(s=o*Math.sin(a-Math.PI),l=o*Math.cos(a-Math.PI),i=M.commonFun.getThirdPoint(t,n,1.5*Math.PI,s,"right"),M.commonFun.getThirdPoint(n,i,1.5*Math.PI,l,"right")):(s=o*Math.sin(2*Math.PI-a),l=o*Math.cos(2*Math.PI-a),i=M.commonFun.getThirdPoint(t,n,1.5*Math.PI,s,"right"),M.commonFun.getThirdPoint(n,i,1.5*Math.PI,l,"left"))},M.Flag.getFlagFromVert=function(t,e){var r=new Array;M.commonFun.CreateNewVertices(t);var i=new Array;if(null!=t&&t.length>=2){i.push(t[0]),i.push(t[1]);var n=null;switch(e){case"TriangleFlag":n=this.GetTriangleFlagDots(i);break;case"RectFlag":n=this.GetRectFlagDots(i);break;case"CurveFlag":n=this.GetCurveFlagDots(i)}var s=new o.default([n[0]]),l=new a.default(n[1]);r.push(s),r.push(l)}return r},M.Flag.GetTriangleFlagDots=function(t){M.commonFun.CreateNewVertices(t);var e=new Array,r=t.length;if(r>=2&&!M.commonFun.geomEquals(t[r-1],t[r-2])){var i=t[0],n=t[1],o=[i[0],n[1]],a=M.commonFun.getMidPoint(i,o),s=[n[0],a[1]],l=new Array;l.push(a),l.push(i),l.push(s),l.push(a);var u=new Array;u.push(o),u.push(a),e.push(l),e.push(u)}return e},M.Flag.GetRectFlagDots=function(t){M.commonFun.CreateNewVertices(t);var e=new Array,r=t.length;if(r>=2&&!M.commonFun.geomEquals(t[r-1],t[r-2])){var i=t[0],n=t[1],o=[i[0],n[1]],a=M.commonFun.getMidPoint(i,o),s=[n[0],a[1]],l=[n[0],i[1]],u=new Array;u.push(a),u.push(i),u.push(l),u.push(s),u.push(a);var c=new Array;c.push(o),c.push(a),e.push(u),e.push(c)}return e},M.Flag.GetCurveFlagDots=function(t){M.commonFun.CreateNewVertices(t);var e=new Array,r=t.length;if(r>=2&&!M.commonFun.geomEquals(t[r-1],t[r-2])){var i=t[0],n=t[1],o=[i[0],n[1]],a=M.commonFun.getMidPoint(i,o),s=[n[0],a[1]],l=[n[0],i[1]],u=M.commonFun.CalLengthOfTwoPoints(i,a)/2,c=M.commonFun.CalLengthOfTwoPoints(i,l),h=M.commonFun.getThirdPoint(l,i,0,c/4,"left"),d=M.commonFun.getThirdPoint(i,h,1.5*Math.PI,u,"right");h=M.commonFun.getThirdPoint(l,i,0,c/4*3,"left");var p=M.commonFun.getThirdPoint(i,h,1.5*Math.PI,u,"left");h=M.commonFun.getThirdPoint(s,a,0,c/4,"left");var f=M.commonFun.getThirdPoint(a,h,1.5*Math.PI,u,"right");h=M.commonFun.getThirdPoint(s,a,0,c/4*3,"left");var g=M.commonFun.getThirdPoint(a,h,1.5*Math.PI,u,"left"),y=new Array;y.push(i),y.push(d),y.push(p),y.push(l);var v=M.commonFun.getBezierPoints(y),m=new Array;m.push(a),m.push(f),m.push(g),m.push(s);var _=M.commonFun.getBezierPoints(m),O=new Array;O.push(a);for(var b=0;b<v.length;b++)O.push(v[b]);_.reverse();for(b=0;b<_.length;b++)O.push(_[b]);var S=new Array;S.push(o),S.push(a),e.push(O),e.push(S)}return e},M.Compass.getCompassFromVert=function(t,e){M.commonFun.CreateNewVertices(t);var r=new Array;if(null!=t&&t.length>=2){r.push(t[0]),r.push(t[1]);var i=null;switch(e){case"ArrowCross":i=this.GetArrowCrossDots(r);break;case"CircleClosedangle":i=this.GetCircleClosedangleDots(r);break;case"Closedangle":i=this.GetClosedangleDots(r);break;case"DoubleClosedangle":i=this.GetDoubleClosedangleDots(r);break;case"Fourstar":i=this.GetFourstarDots(r);break;case"Rhombus":i=this.GetRhombusDots(r);break;case"SameDirectionClosedangle":i=this.GetSameDirectionClosedangleDots(r);break;case"Triangle":i=this.GetTriangleDots(r);break;case"Vane":i=this.GetVaneDots(r)}var a=new Array,s=new Array;if(null!=i&&i.length>0){for(var l=0;l<i.length;l++)switch(e){case"ArrowCross":case"DoubleClosedangle":case"CircleClosedangle":case"Rhombus":case"SameDirectionClosedangle":l==i.length-1?s.push(i[l][0]):a.push(i[l][0]);break;case"Closedangle":case"Fourstar":l%2==0?a.push(i[l][0]):s.push(i[l][0]);break;case"Triangle":1==l||4==l?s.push(i[l][0]):a.push(i[l][0]);break;case"Vane":l==i.length-1?a.push(i[l][0]):s.push(i[l][0])}var u=new Array,c=new n.default(a);u.push(c);var h=new o.default(s);u.push(h)}return u}},M.Compass.GetArrowCrossDots=function(t){if(null==t||t.length<2)return null;var e=Math.abs(t[1][0]-t[0][0]),r=Math.abs(t[1][1]-t[0][1]),i=new Array,n=[t[0][0]+e/32*15,t[0][1]-r/16*1];i.push(n);var o=[t[0][0]+e/32*15,t[0][1]];i.push(o);var a=[t[0][0]+e/32*17,t[0][1]-r/16*1];i.push(a);var s=[t[0][0]+e/32*17,t[0][1]];i.push(s);var l=new Array,u=[t[0][0],t[0][1]-r/32*15];l.push(u);var c=[t[0][0]+e/128*3,t[0][1]-r/32*17];l.push(c);var h=[t[0][0]+e/128*6,t[0][1]-r/32*15];l.push(h);var d=[t[0][0]+e/128*9,t[0][1]-r/32*17];l.push(d);var p=[t[0][0]+e/128*12,t[0][1]-r/32*15];l.push(p);var f=new Array,g=[t[0][0]+e,t[0][1]-r/32*15],y=[t[0][0]+e/16*15,t[0][1]-r/32*15],v=[t[0][0]+e/16*15,t[0][1]-r/32*17],m=[t[0][0]+e,t[0][1]-r/32*17],_=[t[0][0]+e/16*15,t[0][1]-r/2],O=[t[0][0]+e/50*48,t[0][1]-r/2];f.push(g),f.push(y),f.push(_),f.push(O),f.push(_),f.push(v),f.push(m);var b=[t[0][0]+e/2,t[1][1]+r/32],S=[t[0][0]+e/2+e/32,t[1][1]+r/32+r/64],T=[t[0][0]+e/2+e/32-2*e/32,t[1][1]+r/32+r/64],E=[t[0][0]+e/2,t[1][1]+r/32+r/32],C=[t[0][0]+e/2,t[1][1]+r/32-r/32],x=[t[0][0]+e/2+e/32,t[1][1]+r/32+r/64-r/32],j=[t[0][0]+e/2+e/32-e/16,t[1][1]+r/32+r/64-r/32],P=new Array;P.push(S),P.push(E),P.push(T),P.push(b),P.push(x),P.push(C),P.push(j);var I=M.commonFun.getBSplinePoints(P,2),R=new Array,L=[t[0][0]+e/2,t[0][1]-r/16*2];R.push(L);var w=[t[0][0]+e/32*18,t[0][1]-r/16*4];R.push(w);var A=[t[0][0]+e/32*17,t[0][1]-r/16*4];R.push(A);var F=[t[0][0]+e/32*17,t[0][1]-r/32*15];R.push(F);var N=[t[0][0]+e/16*12,t[0][1]-r/32*15];R.push(N);var D=[t[0][0]+e/16*12,t[0][1]-r/32*14];R.push(D);var k=[t[0][0]+e/16*14,t[0][1]-r/2];R.push(k);var G=[t[0][0]+e/16*12,t[0][1]-r/32*18];R.push(G);var U=[t[0][0]+e/16*12,t[0][1]-r/32*17];R.push(U);var B=[t[0][0]+e/32*17,t[0][1]-r/32*17];R.push(B);var V=[t[0][0]+e/32*17,t[0][1]-r/16*12];R.push(V);var Z=[t[0][0]+e/32*18,t[0][1]-r/16*12];R.push(Z);var z=[t[0][0]+e/2,t[0][1]-r/16*14];R.push(z);var W=[t[0][0]+e/32*14,t[0][1]-r/16*12];R.push(W);var Y=[t[0][0]+e/32*15,t[0][1]-r/16*12];R.push(Y);var X=[t[0][0]+e/32*15,t[0][1]-r/32*17];R.push(X);var H=[t[0][0]+e/16*4,t[0][1]-r/32*17];R.push(H);var q=[t[0][0]+e/16*4,t[0][1]-r/32*18];R.push(q);var K=[t[0][0]+e/16*2,t[0][1]-r/2];R.push(K);var J=[t[0][0]+e/16*4,t[0][1]-r/32*14];R.push(J);var Q=[t[0][0]+e/16*4,t[0][1]-r/32*15];R.push(Q);var $=[t[0][0]+e/32*15,t[0][1]-r/32*15];R.push($);var tt=[t[0][0]+e/32*15,t[0][1]-r/16*4];R.push(tt);var et=[t[0][0]+e/32*14,t[0][1]-r/16*4];R.push(et),R.push(L);for(var rt=new Array,it=0;it<5;it++)rt[it]=new Array;return rt[0].push(i),rt[1].push(l),rt[2].push(f),rt[3].push(I),rt[4].push(R),rt},M.Compass.GetCircleClosedangleDots=function(t){if(null==t||t.length<2)return null;var e,r,i,n,o=Math.abs(t[1][0]-t[0][0]),a=Math.abs(t[1][1]-t[0][1]),s=new Array;e=[t[0][0]+o/32*15,t[0][1]-a/16],s.push(e),r=[t[0][0]+o/32*15,t[0][1]],s.push(r),i=[t[0][0]+o/32*17,t[0][1]-a/16],s.push(i),n=[t[0][0]+o/32*17,t[0][1]],s.push(n);var l,u,c,h,d,p=new Array;l=[t[0][0]+o/2,t[0][1]-a/16*2],p.push(l),u=[t[0][0]+o/64*15,t[0][1]-a],p.push(u),c=[t[0][0]+o/32*15,t[0][1]-a/32*28],p.push(c),h=[t[0][0]+o/32*17,t[0][1]-a/32*28],p.push(h),d=[t[0][0]+o/64*49,t[0][1]-a],p.push(d),p.push(l);var f,g,y=new Array,v=t[0][0]+o/2-a/20*9,m=t[0][0]+o/2+a/20*9;f=[v,t[0][1]-a/16*9],g=[m,t[0][1]-a/16*9],y.push(f),y.push(g);var _,O,b,S=0,T=0,E=0,C=0,x=new Array,j=0;for(_=[t[0][0]+o/2,t[0][1]-a/16*9],O=[t[0][0]+o/2,t[0][1]-a/5*1],b=M.commonFun.CalLengthOfTwoPoints(_,O);j<500;)S=Math.sin(2*Math.PI*j/500),T=Math.cos(2*Math.PI*j/500),E=_[0]+b*S,C=_[1]+b*T,x.push([E,C]),++j;x.push(x[0]);for(var P=new Array,I=0;I<4;I++)P[I]=new Array;return P[0].push(s),P[1].push(y),P[2].push(x),P[3].push(p),P},M.Compass.GetClosedangleDots=function(t){if(null==t||t.length<2)return null;var e=new Array,r=Math.abs(t[1][0]-t[0][0]),i=Math.abs(t[1][1]-t[0][1]),n=[t[0][0]+r/2,t[0][1]];e.push(n);var o=[t[0][0]+r,t[0][1]-i];e.push(o);var a=[t[0][0]+r/2,t[0][1]-i/4*3];e.push(a);var s=new Array,l=[t[0][0]+r/2,t[0][1]];s.push(l);var u=[t[0][0],t[0][1]-i];s.push(u);var c=[t[0][0]+r/2,t[0][1]-i/4*3];s.push(c);for(var h=new Array,d=0;d<2;d++)h[d]=new Array;return h[0].push(e),h[1].push(s),h},M.Compass.GetDoubleClosedangleDots=function(t){if(null==t||t.length<2)return null;var e,r,i,n,o=Math.abs(t[1][0]-t[0][0]),a=Math.abs(t[1][1]-t[0][1]),s=new Array;e=[t[0][0]+o/32*15,t[0][1]-a/16],s.push(e),r=[t[0][0]+o/32*15,t[0][1]],s.push(r),i=[t[0][0]+o/32*17,t[0][1]-a/16],s.push(i),n=[t[0][0]+o/32*17,t[0][1]],s.push(n);var l,u,c,h,d,p=new Array;l=[t[0][0]+o/2,t[0][1]-a/16*2],p.push(l),u=[t[0][0],t[0][1]-a/10*7],p.push(u),c=[t[0][0]+o/32*13,t[0][1]-a/32*18],p.push(c),h=[t[0][0]+o/32*19,t[0][1]-a/32*18],p.push(h),d=[t[0][0]+o,t[0][1]-a/10*7],p.push(d),p.push(l);var f,g,y,v,m=new Array;f=[t[0][0],t[0][1]-a/10*3],m.push(f),g=[t[0][0]+o/2,t[0][1]-a/8*7],m.push(g),y=[t[0][0]+o,t[0][1]-a/10*3],m.push(y),v=[t[0][0]+o/2,t[0][1]-a/10*7],m.push(v),m.push(f);var _=[t[0][0]+o/2,t[1][1]+a/32],O=[t[0][0]+o/2+o/32,t[1][1]+a/32+a/64],b=[t[0][0]+o/2+o/32-2*o/32,t[1][1]+a/32+a/64],S=[t[0][0]+o/2,t[1][1]+a/32+a/32],T=[t[0][0]+o/2,t[1][1]+a/32-a/32],E=[t[0][0]+o/2+o/32,t[1][1]+a/32+a/64-a/32],C=[t[0][0]+o/2+o/32-o/16,t[1][1]+a/32+a/64-a/32],x=new Array;x.push(O),x.push(S),x.push(b),x.push(_),x.push(E),x.push(T),x.push(C);for(var j=M.commonFun.getBSplinePoints(x,2),P=new Array,I=0;I<4;I++)P[I]=new Array;return P[0].push(s),P[1].push(j),P[2].push(m),P[3].push(p),P},M.Compass.GetFourstarDots=function(t){if(null==t||t.length<2)return null;var e,r,i,n,o=Math.abs(t[1][0]-t[0][0]),a=Math.abs(t[1][1]-t[0][1]),s=new Array;e=[t[0][0]+o/2,t[0][1]],s.push(e),r=[t[0][0]+o/2,t[0][1]-a],s.push(r),i=[t[0][0]+o/8*3,t[0][1]-a/8*5],s.push(i),n=[t[0][0]+o/8*5,t[0][1]-a/8*3],s.push(n),s.push(e);var l,u,c=new Array;l=[t[0][0],t[0][1]-a/2],c.push(l),u=[t[0][0]+o,t[0][1]-a/2],c.push(u),c.push(n),c.push(i),c.push(l);var h,d,p=new Array;p.push(l),p.push(u),h=[t[0][0]+o/8*5,t[0][1]-a/8*5],p.push(h),d=[t[0][0]+o/8*3,t[0][1]-a/8*3],p.push(d),p.push(l);var f=new Array;f.push(e),f.push(r),f.push(h),f.push(d);for(var g=new Array,y=0;y<4;y++)g[y]=new Array;return g[0].push(s),g[1].push(c),g[2].push(p),g[3].push(f),g},M.Compass.GetRhombusDots=function(t){if(null==t||t.length<2)return null;var e,r,i,n,o,a,s,l,u=Math.abs(t[1][0]-t[0][0]),c=Math.abs(t[1][1]-t[0][1]),h=new Array,d=new Array,p=new Array;e=[t[0][0]+u/2,t[0][1]-c/16*2],h.push(e),r=[t[0][0],t[0][1]-c/16*9],h.push(r),i=[t[0][0]+u,t[0][1]-c/16*9],h.push(i),h.push(e),n=[t[0][0]+u/2,t[1][1]],d.push(i),d.push(n),d.push(r),d.push(i),o=[t[0][0]+u/32*13,t[0][1]-c/16*1],p.push(o),a=[t[0][0]+u/32*13,t[0][1]],p.push(a),s=[t[0][0]+u/32*19,t[0][1]-c/16*1],p.push(s),l=[t[0][0]+u/32*19,t[0][1]],p.push(l);for(var f=new Array,g=0;g<3;g++)f[g]=new Array;return f[0].push(h),f[1].push(p),f[2].push(d),f},M.Compass.GetSameDirectionClosedangleDots=function(t){if(null==t||t.length<2)return null;var e=Math.abs(t[1][0]-t[0][0]),r=Math.abs(t[1][1]-t[0][1]),i=[t[0][0]+e/32*15,t[0][1]],n=[t[0][0],t[0][1]-r/16*13],o=[t[0][0]+e/32*15,t[0][1]-r/16*11],a=[t[0][0]+e/16*15,t[0][1]-r/16*13],s=new Array;s.push(i),s.push(n),s.push(o),s.push(a),s.push(i);var l=[t[0][0]+e/32*17,t[0][1]-r/32*1],u=[t[0][0]+e/16,t[0][1]-r/32*27],c=[t[0][0]+e/32*17,t[0][1]-r/16*12],h=[t[0][0]+e,t[0][1]-r/32*27],d=new Array;d.push(l),d.push(u),d.push(c),d.push(h);var p=[t[0][0]+e/32*14,t[0][1]-r],f=[t[0][0]+e/32*14,t[0][1]-r/16*15],g=[t[0][0]+e/32*18,t[0][1]-r],y=[t[0][0]+e/32*18,t[0][1]-r/16*15],v=new Array;v.push(p),v.push(f),v.push(g),v.push(y);for(var m=new Array,_=0;_<3;_++)m[_]=new Array;return m[0].push(s),m[1].push(v),m[2].push(d),m},M.Compass.GetTriangleDots=function(t){if(null==t||t.length<2)return null;var e=Math.abs(t[1][0]-t[0][0]),r=Math.abs(t[1][1]-t[0][1]),i=new Array,n=[t[0][0]+e/32*13,t[0][1]-r/16*1];i.push(n);var o=[t[0][0]+e/32*13,t[0][1]];i.push(o);var a=[t[0][0]+e/32*19,t[0][1]-r/16*1];i.push(a);var s=[t[0][0]+e/32*19,t[0][1]];i.push(s);var l=new Array,u=[t[0][0]+e/2,t[0][1]-r/16*2];l.push(u);var c=[t[0][0],t[0][1]-r/32*17];l.push(c);var h=[t[0][0]+e/2,t[0][1]-r/32*17];l.push(h);var d=new Array,p=[t[0][0]+e/2,t[0][1]-r/16*2];d.push(p);var f=[t[0][0]+e,t[0][1]-r/32*17];d.push(f);var g=[t[0][0]+e/2,t[0][1]-r/32*17];d.push(g);var y=new Array,v=[t[0][0],t[0][1]-r/32*18];y.push(v);var m=[t[0][0]+e,t[0][1]-r/32*18];y.push(m);var _=new Array,O=[t[0][0]+e/2,t[0][1]-r];_.push(O);var b=[t[0][0],t[0][1]-r/32*19];_.push(b);var S=[t[0][0]+e/2,t[0][1]-r/32*19];_.push(S);var T=[t[0][0]+e,t[0][1]-r/32*19],E=new Array;E.push(S),E.push(T),E.push(O);for(var C=new Array,x=0;x<6;x++)C[x]=new Array;return C[0].push(i),C[1].push(l),C[2].push(d),C[3].push(y),C[4].push(_),C[5].push(E),C},M.Compass.GetVaneDots=function(t){if(null==t||t.length<2)return null;var e,r,i,n,o=Math.abs(t[1][0]-t[0][0]),a=Math.abs(t[1][1]-t[0][1]),s=new Array,l=new Array;e=[t[0][0]+o/2,t[0][1]],r=[t[0][0],t[0][1]-a/8],i=[t[0][0]+o/2,t[0][1]-a/8*2],n=[t[0][0]+o,t[0][1]-a/8],s.push(e),s.push(r),s.push(i),l.push(e),l.push(i),l.push(n),l.push(e);var u=[t[0][0]+o/14*6,t[0][1]-a/8*2],c=[t[0][0]+o/14*6,t[0][1]-a],h=[t[0][0]+o/28*13,t[0][1]-a/35*34],d=[t[0][0]+o/28*15,t[0][1]-a/35*34],p=[t[0][0]+o/14*8,t[0][1]-a],f=[t[0][0]+o/14*8,t[0][1]-a/8*2],g=new Array;g.push(u),g.push(c),g.push(h),g.push(d),g.push(p),g.push(f);var y=new Array,v=[t[0][0]+o/14*6,t[0][1]-a/36*21];y.push(v);var m=[t[0][0]+o/14*2,t[0][1]-a/36*22];y.push(m);var _=[t[0][0]+o/14*2,t[0][1]-a/36*23];y.push(_);var O=[t[0][0]+o/14*6,t[0][1]-a/36*22];y.push(O);var b=new Array,S=[t[0][0]+o/14*6,t[0][1]-a/36*23],T=[t[0][0]+o/14*2,t[0][1]-a/36*24],E=[t[0][0]+o/14*2,t[0][1]-a/36*25],C=[t[0][0]+o/14*6,t[0][1]-a/36*24];b.push(S),b.push(T),b.push(E),b.push(C);var x=new Array,j=[t[0][0]+o/14*6,t[0][1]-a/36*25],P=[t[0][0]+o/14*2,t[0][1]-a/36*26],I=[t[0][0]+o/14*2,t[0][1]-a/36*27],R=[t[0][0]+o/14*6,t[0][1]-a/36*26];x.push(j),x.push(P),x.push(I),x.push(R);var L=new Array,w=[t[0][0]+o/14*6,t[0][1]-a/36*27],A=[t[0][0]+o/14*2,t[0][1]-a/36*28],M=[t[0][0]+o/14*2,t[0][1]-a/36*29],F=[t[0][0]+o/14*6,t[0][1]-a/36*28];L.push(w),L.push(A),L.push(M),L.push(F);var N=new Array,D=[t[0][0]+o/14*8,t[0][1]-a/36*21],k=[t[0][0]+o/14*12,t[0][1]-a/36*22],G=[t[0][0]+o/14*12,t[0][1]-a/36*23],U=[t[0][0]+o/14*8,t[0][1]-a/36*22];N.push(D),N.push(k),N.push(G),N.push(U);var B=new Array,V=[t[0][0]+o/14*8,t[0][1]-a/36*23],Z=[t[0][0]+o/14*12,t[0][1]-a/36*24],z=[t[0][0]+o/14*12,t[0][1]-a/36*25],W=[t[0][0]+o/14*8,t[0][1]-a/36*24];B.push(V),B.push(Z),B.push(z),B.push(W);var Y=new Array,X=[t[0][0]+o/14*8,t[0][1]-a/36*25],H=[t[0][0]+o/14*12,t[0][1]-a/36*26],q=[t[0][0]+o/14*12,t[0][1]-a/36*27],K=[t[0][0]+o/14*8,t[0][1]-a/36*26];Y.push(X),Y.push(H),Y.push(q),Y.push(K);var J=new Array,Q=[t[0][0]+o/14*8,t[0][1]-a/36*27],$=[t[0][0]+o/14*12,t[0][1]-a/36*28],tt=[t[0][0]+o/14*12,t[0][1]-a/36*29],et=[t[0][0]+o/14*8,t[0][1]-a/36*28];J.push(Q),J.push($),J.push(tt),J.push(et);for(var rt=new Array,it=0;it<11;it++)rt[it]=new Array;return rt[0].push(s),rt[1].push(g),rt[2].push(y),rt[3].push(b),rt[4].push(x),rt[5].push(L),rt[6].push(N),rt[7].push(B),rt[8].push(Y),rt[9].push(J),rt[10].push(l),rt},M.Bezier.getBezierFromVert=function(t,e){var r=null;if("BezierLine"==e){var i=M.commonFun.getBSplinePoints(t,2);r=new a.default(i)}else if("Bezier"==e){t.push(t[0]);i=M.commonFun.getBSplinePoints(t,2);t.pop(t[t.length-1]),r=new o.default([i])}else if("AssemblyArea"==e){i=M.Bezier.GetAssemblyAreaDots(t);r=new o.default([i])}return r},M.Bezier.GetAssemblyAreaDots=function(t){var e=null,r=null,i=0,n=null,o=null,a=null,s=null,l=null,u=null,c=null,h=null,d=null,p=null,f=t.length;return f>=2&&t[f-1]!=t[f-2]&&(e=t[0],r=t[1],i=M.commonFun.CalLengthOfTwoPoints(e,r),n=M.commonFun.getMidPoint(e,r),o=M.commonFun.getThirdPoint(e,n,1.5*Math.PI,i/4.5,"right"),a=M.commonFun.getThirdPoint(e,r,0,.8*i,"left"),s=M.commonFun.getThirdPoint(e,a,1.5*Math.PI,i/5,"left"),l=M.commonFun.getThirdPoint(e,r,0,.45*i,"left"),u=M.commonFun.getThirdPoint(e,l,1.5*Math.PI,i/10,"left"),c=M.commonFun.getThirdPoint(e,r,0,.15*i,"left"),h=M.commonFun.getThirdPoint(e,c,1.5*Math.PI,i/7,"left"),d=new Array,(p=new Array).push(e,o,r,h,u,s),d=M.Bezier.getAdvancedBezierPoints(p)),d},M.Bezier.getAdvancedBezierPoints=function(t){var e=0,r=0,i=0,n=0,o=0,a=(t=t.slice()).length;t.push(t[0]);for(var s=new Array,l=0;l<a;)s.push(M.commonFun.getMidPoint(t[l],t[l+1])),++l;s.push(s[0]),t.push(t[1]);var u=new Array;for(l=0;l<a;)e=M.commonFun.CalLengthOfTwoPoints(t[l],t[l+1]),r=M.commonFun.CalLengthOfTwoPoints(t[l+1],t[l+2]),i=M.commonFun.CalLengthOfTwoPoints(s[l],s[l+1])*e/(e+r),u.push(M.commonFun.getThirdPoint(s[l+1],s[l],0,i,"left")),++l;var c=new Array;for(l=0;l<a;)n=t[l+1][0]-u[l][0],o=t[l+1][1]-u[l][1],c.push([s[l][0]+n,s[l][1]+o]),c.push(t[l+1]),c.push([s[l+1][0]+n,s[l+1][1]+o]),++l;var h=new Array,d=c.slice();for(d.push(c[0],c[1]),l=1;l<d.length;)h=h.concat(M.commonFun.getBezierPoints(d.slice(l,l+4))),l+=3;return h},M.MilStdGeomtry=function(t,e,r,i){(s.default.call(this,[]),void 0!==t&&null!=t)&&(void 0!==i&&null==i&&s.default.call(this,i),this.vertices=t,this.milStdType=e,this.milStdParams=void 0!==r&&null!=r?r:new M.MilstdParams,this.milStdType!=M.EnumMilstdType.TriangleFlag&&this.milStdType!=M.EnumMilstdType.RectFlag&&this.milStdType!=M.EnumMilstdType.CurveFlag&&this.milStdType!=M.EnumMilstdType.ArrowCross&&this.milStdType!=M.EnumMilstdType.CircleClosedangle&&this.milStdType!=M.EnumMilstdType.Closedangle&&this.milStdType!=M.EnumMilstdType.DoubleClosedangle&&this.milStdType!=M.EnumMilstdType.Fourstar&&this.milStdType!=M.EnumMilstdType.Rhombus&&this.milStdType!=M.EnumMilstdType.SameDirectionClosedangle&&this.milStdType!=M.EnumMilstdType.Triangle&&this.milStdType!=M.EnumMilstdType.Vane&&this.milStdType!=M.EnumMilstdType.AssemblyArea||(this.milStdParams.maxVertices=2),this.milStdType==M.EnumMilstdType.DoubleArrow&&(void 0!=r.maxVertices&&r.maxVertices<=4&&r.maxVertices>=3?this.milStdParams.maxVertices=r.maxVertices:this.milStdParams.maxVertices=4))},(0,i.inherits)(M.MilStdGeomtry,s.default),M.MilStdGeomtry.prototype.Create=function(){if("DoubleArrow"==this.milStdType){if(this.vertices.length<3)return}else if(this.vertices.length<2)return;switch(this.milStdType){case M.EnumMilstdType.SimpleArrow:case M.EnumMilstdType.StraightArrow:case M.EnumMilstdType.DoubleArrow:case M.EnumMilstdType.SingleLineArrow:var t=M.Arrow.getArrowFromVert(this.vertices,this.milStdType,this.milStdParams);this.setGeometriesArray([t]);break;case M.EnumMilstdType.TriangleFlag:case M.EnumMilstdType.RectFlag:case M.EnumMilstdType.CurveFlag:var e=M.Flag.getFlagFromVert(this.vertices,this.milStdType);this.setGeometriesArray(e);break;case M.EnumMilstdType.ArrowCross:case M.EnumMilstdType.CircleClosedangle:case M.EnumMilstdType.Closedangle:case M.EnumMilstdType.DoubleClosedangle:case M.EnumMilstdType.Fourstar:case M.EnumMilstdType.Rhombus:case M.EnumMilstdType.SameDirectionClosedangle:case M.EnumMilstdType.Triangle:case M.EnumMilstdType.Vane:e=M.Compass.getCompassFromVert(this.vertices,this.milStdType);this.setGeometriesArray(e);break;case M.EnumMilstdType.Bezier:case M.EnumMilstdType.BezierLine:case M.EnumMilstdType.AssemblyArea:t=M.Compass.getBezierFromVert(this.vertices,this.milStdType);this.setGeometriesArray([t])}},M.MilStdGeomtry.prototype.Update=function(t,e){if("DoubleArrow"==this.milStdType){if(t.length<3)return}else if(t.length<2)return;switch(e||(this.vertices=t),this.milStdType){case M.EnumMilstdType.SimpleArrow:case M.EnumMilstdType.StraightArrow:case M.EnumMilstdType.DoubleArrow:case M.EnumMilstdType.SingleLineArrow:var r=M.Arrow.getArrowFromVert(t,this.milStdType,this.milStdParams);this.setGeometriesArray([r]);break;case M.EnumMilstdType.TriangleFlag:case M.EnumMilstdType.RectFlag:case M.EnumMilstdType.CurveFlag:var i=M.Flag.getFlagFromVert(t,this.milStdType);this.setGeometriesArray(i);break;case M.EnumMilstdType.ArrowCross:case M.EnumMilstdType.CircleClosedangle:case M.EnumMilstdType.Closedangle:case M.EnumMilstdType.DoubleClosedangle:case M.EnumMilstdType.Fourstar:case M.EnumMilstdType.Rhombus:case M.EnumMilstdType.SameDirectionClosedangle:case M.EnumMilstdType.Triangle:case M.EnumMilstdType.Vane:i=M.Compass.getCompassFromVert(t,this.milStdType);this.setGeometriesArray(i);break;case M.EnumMilstdType.Bezier:case M.EnumMilstdType.BezierLine:case M.EnumMilstdType.AssemblyArea:r=M.Bezier.getBezierFromVert(t,this.milStdType);this.setGeometriesArray([r])}},M.event.MilStdDrawEvent=function(t,e){l.default.call(this,t),this.feature=void 0!==e?e:null},(0,i.inherits)(M.event.MilStdDrawEvent,l.default),M.event.MilStdDrawEvent.DRAW_START="draw_start",M.event.MilStdDrawEvent.DRAW_END="draw_end",M.event.MilStdDrawEvent.MODIFY_FEATURE_END="modify_one_feature";var D=function(t){g.default.call(this,[]),this.vertices=null,this.milStdGeom=null,this.feature=null,this.milStdType=null,this.milStdParams=null,this.mapViewport=null,this.dbClickZoomEvent=null,this.map=void 0!==t?t:null,this.featureName=null;var e=new u.default({color:"#000000",width:1.25}),r=new c.default({color:"rgba(0,0,0,0.5)"});this.style=new d.default({fill:r,stroke:e});var i=new p.default({source:new f.default({useSpatialIndex:!1,wrapX:!1})});this.featureOverLay=i,this.featureOverLay.setStyle(this.style),this.setMap(t),this.featureOverLay.on("postcompose",function(t){t.context.shadowBlur=25,t.context.shadowColor="black"})};(0,i.inherits)(D,g.default),D.prototype.setMap=function(t){void 0!==t&&null!=t&&(this.map=t,this.mapViewport=this.map.getViewport())},D.prototype.ShieldDBClickZoomEvent=function(t){for(var e=t.getInteractions(),r=0,i=e.getLength();r<i;r++){var n=e.item(r);if(n instanceof y.default){this.dbClickZoomEvent=n,e.remove(n);break}}},D.prototype.UnShieldDBClickZoomEvent=function(t){null!=this.dbClickZoomEvent&&(t.getInteractions().push(this.dbClickZoomEvent),this.dbClickZoomEvent=null)},D.prototype.activate=function(t,e,r){this.deactivate(),this.ShieldDBClickZoomEvent(this.map),m.listen(this.mapViewport,v.default.CLICK,this.drawStartHandle,this),this.milStdType=t,this.milStdParams=e,this.featureName=void 0!==r&&null!=r?r:"draw",this.featureOverLay.setMap(this.map)},D.prototype.deactivate=function(){this.disconnectEventHandlers(),this.featureOverLay.setMap(null),this.vertices=[],this.milStdGeom=null,this.feature=null,this.UnShieldDBClickZoomEvent(this.map)},D.prototype.drawStartHandle=function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);this.vertices.push(e),this.milStdGeom=new M.MilStdGeomtry(this.vertices,this.milStdType,this.milStdParams),this.featureOverLay.getSource().addFeature(new E.default(new C.default(e))),m.unlisten(this.mapViewport,v.default.CLICK,this.drawStartHandle,this),m.listen(this.mapViewport,v.default.CLICK,this.drawContinueHandle,this),m.listen(this.mapViewport,v.default.DBLCLICK,this.drawEndHandle,this),m.listen(this.mapViewport,v.default.MOUSEMOVE,this.mouseMoveHandle,this)},D.prototype.drawContinueHandle=function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);M.commonFun.CalLengthOfTwoPoints(e,this.vertices[this.vertices.length-1])<M.enum.ZERO_TOLERANCE||(this.vertices.push(e),this.milStdGeom.Update(this.vertices.slice(0),!1),null==this.feature?(this.feature=new E.default(this.milStdGeom),this.featureOverLay.getSource().addFeature(this.feature)):this.feature.setGeometry(this.milStdGeom),this.vertices.length==this.milStdGeom.milStdParams.maxVertices&&this.drawEndHandle(t))},D.prototype.drawEndHandle=function(t){this.disconnectEventHandlers(),t.preventDefault(),this.clear()},D.prototype.mouseMoveHandle=function(t){var e=this.map.getCoordinateFromPixel([t.offsetX,t.offsetY]);if(!(M.commonFun.CalLengthOfTwoPoints(e,this.vertices[this.vertices.length-1])<M.enum.ZERO_TOLERANCE)){var r=this.vertices.concat([e]);this.milStdGeom.Update(r,!0),null==this.feature?(this.feature=new E.default(this.milStdGeom),this.featureOverLay.getSource().addFeature(this.feature)):this.feature.setGeometry(this.milStdGeom)}},D.prototype.disconnectEventHandlers=function(){m.unlisten(this.mapViewport,v.default.CLICK,this.drawStartHandle,this),m.unlisten(this.mapViewport,v.default.CLICK,this.drawContinueHandle,this),m.unlisten(this.mapViewport,v.default.MOUSEMOVE,this.mouseMoveHandle,this),m.unlisten(this.mapViewport,v.default.DBLCLICK,this.drawEndHandle,this)},D.prototype.clear=function(t){this.feature.name=this.featureName,this.dispatchEvent(new M.event.MilStdDrawEvent(M.event.MilStdDrawEvent.DRAW_END,this.feature)),this.featureOverLay.getSource().removeFeature(this.feature),this.UnShieldDBClickZoomEvent(this.map),this.featureOverLay.setMap(null),this.vertices=[],this.milStdGeom=null,this.feature=null};var k=function t(e,r){var i=void 0!==r?r:{};O.default.call(this,{handleDownEvent:t.handleDownEvent_,handleDragEvent:t.handleDragEvent_,handleEvent:t.handleEvent,handleUpEvent:t.handleUpEvent_,handleMoveEvent:t.handleMoveEvent}),this.map_=e,this.vertexFeature_=null,this.lastPixel_=[0,0],this.rBush_=new b.default,this.pixelTolerance_=void 0!==i.pixelTolerance&&null!=i.pixelTolerance?i.pixelTolerance:10,this.snappedToVertex_=!1,this.dragSegments_=null,this.oldVerticesFeature=new S.default,this.overlay_=new p.default({source:new f.default({useSpatialIndex:!1,wrapX:!!i.wrapX}),updateWhileAnimating:!0,updateWhileInteracting:!0});var n=void 0!=i.style?i.style:t.getDefaultStyleFunction();this.overlay_.setStyle(n),this.setMap(this.map_),this.SEGMENT_WRITERS_={Polygon:this.writeVerticeGeometry,MultiLineString:this.writeVerticeGeometry,LineString:this.writeVerticeGeometry},this.selectTool=null,this.features_=void 0!==i.features?i.features:null,this.cursor_="pointer",this.previousCursor_=void 0};(0,i.inherits)(k,O.default),k.prototype.activate=function(){if(null==this.selectTool&&(this.selectTool=new ol.interaction.Select({wrapX:!1})),void 0!==this.map_&&null!=this.map_){for(var t=this.map_.getInteractions(),e=0,r=t.getLength();e<r;e++){var i=t.item(e);(i instanceof ol.interaction.Select||i instanceof k)&&t.remove(i)}this.map_.addInteraction(this.selectTool),this.map_.addInteraction(this),m.listen(this.map_,"dblclick",this.modifyEndHandle,this),this.features_=this.selectTool.getFeatures(),this.features_.forEach(this.addFeature_,this),m.listen(this.features_,T.default.ADD,this.handleFeatureAdd_,this),m.listen(this.features_,T.default.REMOVE,this.handleFeatureRemove_,this),D.prototype.ShieldDBClickZoomEvent(this.map_)}},k.prototype.deactivate=function(){void 0!==this.map_&&null!=this.map_&&(D.prototype.UnShieldDBClickZoomEvent(this.map_),this.map_.removeInteraction(this.selectTool),this.map_.removeInteraction(this))},k.prototype.disconnectEventHandlers=function(){void 0!==this.map_&&null!=this.map_&&(m.unlisten(this.map_,"dblclick",this.modifyEndHandle,this),this.map_.removeInteraction(this.selectTool),this.map_.removeInteraction(this)),m.unlisten(this.features_,T.default.ADD,this.handleFeatureAdd_,this),m.unlisten(this.features_,T.default.REMOVE,this.handleFeatureRemove_,this)},k.prototype.modifyEndHandle=function(t){this.disconnectEventHandlers(),void 0!==this.oldVerticesFeature&&null!=this.oldVerticesFeature&&(this.clearOverLayer(this.overlay_),this.oldVerticesFeature.clear())},k.prototype.addFeature_=function(t){var e=t.getGeometry(),r=null;if(e instanceof C.default&&(r=e),r=e instanceof s.default?e.geometries_[0]:e,void 0!==this.SEGMENT_WRITERS_[r.getType()]&&(this.SEGMENT_WRITERS_[r.getType()].call(this,t),this.oldVerticesFeature.clear(),this.clearOverLayer(this.overlay_),void 0!==e.vertices&&null!=e.vertices))for(var i=0;i<e.vertices.length;i++){var n=new E.default(new C.default(e.vertices[i]));this.overlay_.getSource().addFeature(n),this.oldVerticesFeature.push(n)}var o=this.getMap();void 0!==o&&null!=o&&this.handlePointerAtPixel(this.lastPixel_,o)},k.prototype.clearOverLayer=function(t){void 0!==t&&null!=t&&t.getSource().clear()},k.prototype.setMap=function(t){this.overlay_.setMap(t),O.default.prototype.setMap.call(this,t)},k.prototype.handleFeatureAdd_=function(t){var e=t.element;this.addFeature_(e)},k.prototype.handleFeatureRemove_=function(t){var e=t.element;void 0!==e&&null!=e&&this.dispatchEvent(new M.event.MilStdDrawEvent(M.event.MilStdDrawEvent.MODIFY_FEATURE_END,e));var r,i=this.rBush_,n=[];for(i.forEachInExtent(e.getGeometry().getExtent(),function(t){e===t.feature&&n.push(t)}),r=n.length-1;r>=0;--r)i.remove(n[r]);this.clearOverLayer(this.overlay_),this.oldVerticesFeature.clear(),this.vertexFeature_=null},k.prototype.writeVerticeGeometry=function(t){var e,r,i,n,o=t.getGeometry().vertices;for(r=0,i=o.length;r<i;++r)n={feature:t,depth:[r],index:r,segment:[e=o[r],e]},this.rBush_.insert(x.boundingExtent(n.segment),n)},k.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(null==e)e=new E.default(new C.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e);else{var r=e.getGeometry();r.setCoordinates(t),e.setGeometry(r)}return e},k.prototype.redrawVertices=function(t,e){if(void 0!==this.oldVerticesFeature&&null!=this.oldVerticesFeature){var r=this.oldVerticesFeature.item(t);r.setGeometry(new C.default(e)),this.oldVerticesFeature.setAt(t,r)}},k.handleDownEvent_=function(t){this.handlePointerAtPixel(t.pixel,t.map),this.dragSegments_=[];var e=this.vertexFeature_;if(null!=e)for(var r=e.getGeometry().getCoordinates(),i=x.boundingExtent([r]),n=this.rBush_.getInExtent(i),o=0,a=n.length;o<a;++o){var s=n[o],l=s.segment;R.equals(l[0],r)?this.dragSegments_.push([s,0]):R.equals(l[1],r)&&this.dragSegments_.push([s,1])}return null!=this.vertexFeature_},k.handleMoveEvent=function(t){if(this.cursor_){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t}),r=t.map.getTargetElement();e?r.style.cursor!=this.cursor_&&(this.previousCursor_=r.style.cursor,r.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},k.handleDragEvent_=function(t){for(var e=t.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){var n=this.dragSegments_[r],o=n[0],a=(n[1],o.index),s=o.feature,l=s.getGeometry();if(l.getType()==L.default.GEOMETRY_COLLECTION){for(;e.length<s.getGeometry().geometries_[0].getStride();)e.push(0);var u=l.vertices;if(l.milStdType==M.EnumMilstdType.TriangleFlag||l.milStdType==M.EnumMilstdType.RectFlag||l.milStdType==M.EnumMilstdType.CurveFlag||l.milStdType==M.EnumMilstdType.ArrowCross||l.milStdType==M.EnumMilstdType.CircleClosedangle||l.milStdType==M.EnumMilstdType.Closedangle||l.milStdType==M.EnumMilstdType.DoubleClosedangle||l.milStdType==M.EnumMilstdType.Fourstar||l.milStdType==M.EnumMilstdType.Rhombus||l.milStdType==M.EnumMilstdType.SameDirectionClosedangle||l.milStdType==M.EnumMilstdType.Triangle||l.milStdType==M.EnumMilstdType.Vane)if(0==a){if(e[0]-u[1][0]>=0||e[1]-u[1][1]<=0)return}else if(1==a&&(e[0]-u[0][0]<=0||e[1]-u[0][1]>=0))return;this.updateFeature(o,e,!0);break}this.createOrUpdateVertexFeature_(e)}},k.handleUpEvent_=function(t){for(var e,r=t.coordinate,i=this.dragSegments_.length-1;i>=0;--i){e=this.dragSegments_[i][0],this.rBush_.update(x.boundingExtent(e.segment),e);var n=e.feature.getGeometry(),o=n.vertices;if(n.milStdType==M.EnumMilstdType.TriangleFlag||n.milStdType==M.EnumMilstdType.RectFlag||n.milStdType==M.EnumMilstdType.CurveFlag||n.milStdType==M.EnumMilstdType.ArrowCross||n.milStdType==M.EnumMilstdType.CircleClosedangle||n.milStdType==M.EnumMilstdType.Closedangle||n.milStdType==M.EnumMilstdType.DoubleClosedangle||n.milStdType==M.EnumMilstdType.Fourstar||n.milStdType==M.EnumMilstdType.Rhombus||n.milStdType==M.EnumMilstdType.SameDirectionClosedangle||n.milStdType==M.EnumMilstdType.Triangle||n.milStdType==M.EnumMilstdType.Vane)if(0==e.index){if(r[0]-o[1][0]>=0||r[1]-o[1][1]<=0)return!1}else if(1==e.index&&(r[0]-o[0][0]<=0||r[1]-o[0][1]>=0))return!1;this.updateFeature(e,t.coordinate,!0)}return!1},k.prototype.updateFeature=function(t,e,r){var i=t.feature.getGeometry(),n=i.vertices;if(n[t.index]=e,i.Update(n,r),t.feature.setGeometry(i),null!=this.vertexFeature_){var o=this.vertexFeature_.getGeometry();o.setCoordinates(e),this.vertexFeature_.setGeometry(o)}this.redrawVertices(t.index,e),this.rBush_.remove(t);var a=t.segment;a[0]=a[1]=e,t.segment=a,this.rBush_.insert(x.boundingExtent(t.segment),t)},k.handleEvent=function(t){return!(t instanceof j.default)||(t.map.getView().getHints()[I.default.INTERACTING]||t.type!=P.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),_.handleEvent.call(this,t)&&!0)},k.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel(t.pixel,t.map)},k.prototype.handlePointerAtPixel=function(t,e){var r=e.getCoordinateFromPixel(t),i=e.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n=e.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=x.boundingExtent([i,n]),a=this.rBush_.getInExtent(o);if(a.length>0){a.sort(function(t,e){return R.squaredDistanceToSegment(r,t.segment)-R.squaredDistanceToSegment(r,e.segment)});var s=a[0].segment,l=e.getPixelFromCoordinate(s[0]),u=e.getPixelFromCoordinate(s[1]),c=R.squaredDistance(t,l),h=R.squaredDistance(t,u),d=Math.sqrt(Math.min(c,h));return this.snappedToVertex_=d<=this.pixelTolerance_,void(this.snappedToVertex_&&this.createOrUpdateVertexFeature_(s[0]))}null!=this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},k.getDefaultStyleFunction=function(){var t=(0,h.createEditingStyle)();return function(e,r){return t[L.default.POINT]}};var G=function t(e){O.default.call(this,{handleDownEvent:t.prototype.handleDownEvent,handleDragEvent:t.prototype.handleDragEvent,handleMoveEvent:t.prototype.handleMoveEvent,handleUpEvent:t.prototype.handleUpEvent}),this.map_=void 0!==e&&null!=e?e:null,this.coordinate_=null,this.feature_=null,this.cursor_="move",this.previousCursor_=void 0};(0,i.inherits)(G,O.default),G.prototype.activate=function(){if(void 0!==this.map_&&null!=this.map_){for(var t=this.map_.getInteractions(),e=t.getLength()-1;e>=0;e--){var r=t.item(e);r instanceof G&&t.remove(r)}this.map_.addInteraction(this),D.prototype.ShieldDBClickZoomEvent(this.map_),m.listen(this.map_,"dblclick",this.modifyEndHandle,this)}},G.prototype.deactivate=function(){if(void 0!==this.map_&&null!=this.map_){D.prototype.UnShieldDBClickZoomEvent(this.map_);for(var t=this.map_.getInteractions(),e=t.getLength()-1;e>=0;e--){var r=t.item(e);r instanceof G&&t.remove(r)}}},G.prototype.modifyEndHandle=function(t){void 0!==this.map_&&null!=this.map_&&(m.unlisten(this.map_,"dblclick",this.modifyEndHandle,this),this.setActive(!1))},G.prototype.handleDownEvent=function(t){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});return e&&(this.coordinate_=t.coordinate,this.feature_=e),!!e},G.prototype.handleDragEvent=function(t){t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t});var e=t.coordinate[0]-this.coordinate_[0],r=t.coordinate[1]-this.coordinate_[1],i=this.feature_.getGeometry();if(i.translate(e,r),void 0!==i.vertices&&null!=i.vertices)for(var n=i.vertices,o=0,a=n.length;o<a;o++)R.add(n[o],[e,r]);this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1]},G.prototype.handleMoveEvent=function(t){if(this.cursor_){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t}),r=t.map.getTargetElement();e?r.style.cursor!=this.cursor_&&(this.previousCursor_=r.style.cursor,r.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},G.prototype.handleUpEvent=function(t){return t.map.getTargetElement().style.cursor="default",void 0!==this.feature_&&null!=this.feature_&&this.dispatchEvent(new M.event.MilStdDrawEvent(M.event.MilStdDrawEvent.MODIFY_FEATURE_END,this.feature_)),this.coordinate_=null,this.feature_=null,!1},e.MilStd=M,e.EnumMilstdType=F,M.EnumMilstdType=F,e.MilstdParams=N,M.MilstdParams=N,e.MilStdDrawTool=D,M.tool.MilStdDrawTool=D,e.MilStdModifyTool=k,M.ModifyTool=k,e.MilStdDragPan=G,M.DragPan=G},function(module,exports,__webpack_require__){"use strict";var require;Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2=__webpack_require__(85),_typeof3=_interopRequireDefault(_typeof2),_seal=__webpack_require__(559),_seal2=_interopRequireDefault(_seal);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var COMPILED=!1,goog=goog||{};goog.global=window||{},goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(t){return void 0!==t},goog.exportPath_=function(t,e,r){var i,n=t.split("."),o=r||goog.global;n[0]in o||!o.execScript||o.execScript("var "+n[0]);for(;n.length&&(i=n.shift());)!n.length&&goog.isDef(e)?o[i]=e:o=o[i]?o[i]:o[i]={}},goog.define=function(t,e){var r=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,t)?r=goog.global.CLOSURE_UNCOMPILED_DEFINES[t]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,t)&&(r=goog.global.CLOSURE_DEFINES[t])),goog.exportPath_(t,r)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.define("goog.provide",function(t){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)}),goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var r=t;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(t,e)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED)return goog.isProvided_(t)?t in goog.loadedModules_?goog.loadedModules_[t]:goog.getObjectByName(t):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},goog.forwardDeclare("Document"),goog.forwardDeclare("HTMLScriptElement"),goog.forwardDeclare("XMLHttpRequest"),COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){for(var r,i=t.split("."),n=e||goog.global;r=i.shift();){if(!goog.isDefAndNotNull(n[r]))return null;n=n[r]}return n},goog.globalize=function(t,e){var r=e||goog.global;for(var i in t)r[i]=t[i]},goog.addDependency=function(t,e,r,i){if(goog.DEPENDENCIES_ENABLED){var n,o,a=t.replace(/\\/g,"/"),s=goog.dependencies_;i&&"boolean"!=typeof i||(i=i?{module:"goog"}:{});for(var l=0;n=e[l];l++)s.nameToPath[n]=a,s.loadFlags[a]=i;for(var u=0;o=r[u];u++)a in s.requires||(s.requires[a]={}),s.requires[a][o]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(t),goog.isProvided_(t))return goog.isInModuleLoader_()?goog.module.getInternal_(t):null;if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(t);if(e)return goog.writeScripts_(e),null}var r="goog.require could not find: "+t;throw goog.logToConsole_(r),Error(r)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.define("goog.TRANSPILE","detect"),goog.define("goog.TRANSPILER","transpile.js"),goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("SCRIPT"),e=t.length-1;e>=0;--e){var r=t[e].src,i=r.lastIndexOf("?"),n=-1==i?r.length:i;if("base.js"==r.substr(n-7,7))return void(goog.basePath=r.substr(0,n-7))}},goog.importScript_=function(t,e){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(t,e)&&(goog.dependencies_.written[t]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importProcessedScript_=function(t,e,r){var i='goog.retrieveAndExec_("'+t+'", '+e+", "+r+");";goog.importScript_("",i)},goog.queuedModules_=[],goog.wrapModule_=function(t,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+t+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+t+"\n"},goog.loadQueuedModules_=function(){var t=goog.queuedModules_.length;if(t>0){var e=goog.queuedModules_;goog.queuedModules_=[];for(var r=0;r<t;r++){var i=e[r];goog.maybeProcessDeferredPath_(i)}}},goog.maybeProcessDeferredDep_=function(t){if(goog.isDeferredModule_(t)&&goog.allDepsAreAvailable_(t)){var e=goog.getPathFromDeps_(t);goog.maybeProcessDeferredPath_(goog.basePath+e)}},goog.isDeferredModule_=function(t){var e=goog.getPathFromDeps_(t),r=e&&goog.dependencies_.loadFlags[e]||{};return!(!e||"goog"!=r.module&&!goog.needsTranspile_(r.lang))&&goog.basePath+e in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(t){var e=goog.getPathFromDeps_(t);if(e&&e in goog.dependencies_.requires)for(var r in goog.dependencies_.requires[e])if(!goog.isProvided_(r)&&!goog.isDeferredModule_(r))return!1;return!0},goog.maybeProcessDeferredPath_=function(t){if(t in goog.dependencies_.deferred){var e=goog.dependencies_.deferred[t];delete goog.dependencies_.deferred[t],goog.globalEval(e)}},goog.loadModuleFromUrl=function(t){goog.retrieveAndExec_(t,!0,!1)},goog.writeScriptSrcNode_=function(t){goog.global.document.write('<script type="text/javascript" src="'+t+'"><\/script>')},goog.appendScriptSrcNode_=function(t){var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.src=t,r.defer=!1,r.async=!1,e.head.appendChild(r)},goog.writeScriptTag_=function(t,e){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==r.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}if(void 0===e)if(goog.IS_OLD_IE_){var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";r.write('<script type="text/javascript" src="'+t+'"'+i+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(t):goog.writeScriptSrcNode_(t);else r.write('<script type="text/javascript">'+e+"<\/script>");return!0}return!1},goog.needsTranspile_=function(lang){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!goog.transpiledLanguages_){goog.transpiledLanguages_={es5:!0,es6:!0,"es6-impl":!0};
/** @preserveTry */
try{goog.transpiledLanguages_.es5=eval("[1,].length!=1");var es6implTest="let a={};const X=class{constructor(){}x(z){return new Map([...arguments]).get(z[0])==3}};return new X().x([a,3])",es6fullTest="class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}";eval('(()=>{"use strict";'+es6implTest+"})()")&&(goog.transpiledLanguages_["es6-impl"]=!1),eval('(()=>{"use strict";'+es6fullTest+"})()")&&(goog.transpiledLanguages_.es6=!1)}catch(t){}}return!!goog.transpiledLanguages_[lang]},goog.transpiledLanguages_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(t,e){return"complete"==t.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(t){var e=[],r={},i=goog.dependencies_;!function t(n){if(!(n in i.written||n in i.visited)){if(i.visited[n]=!0,n in i.requires)for(var o in i.requires[n])if(!goog.isProvided_(o)){if(!(o in i.nameToPath))throw Error("Undefined nameToPath for "+o);t(i.nameToPath[o])}n in r||(r[n]=!0,e.push(n))}}(t);for(var n=0;n<e.length;n++){var o=e[n];goog.dependencies_.written[o]=!0}var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(n=0;n<e.length;n++){if(!(o=e[n]))throw goog.moduleLoaderState_=a,Error("Undefined script input");var s=i.loadFlags[o]||{},l=goog.needsTranspile_(s.lang);"goog"==s.module||l?goog.importProcessedScript_(goog.basePath+o,"goog"==s.module,l):goog.importScript_(goog.basePath+o)}goog.moduleLoaderState_=a},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{var r;if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(t))r=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");r=goog.loadModuleFromSource_.call(void 0,t)}var i=goog.moduleLoaderState_.moduleName;if(!goog.isString(i)||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,r):goog.SEAL_MODULE_EXPORTS&&_seal2.default&&(0,_seal2.default)(r),goog.loadedModules_[i]=r}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(){var exports={};return eval(arguments[0]),exports},goog.normalizePath_=function(t){for(var e=t.split("/"),r=0;r<e.length;)"."==e[r]?e.splice(r,1):r&&".."==e[r]&&e[r-1]&&".."!=e[r-1]?e.splice(--r,2):r++;return e.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(t){return null}},goog.retrieveAndExec_=function(t,e,r){if(!COMPILED){var i=t;t=goog.normalizePath_(t);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,o=goog.loadFileSync_(t);if(null==o)throw new Error('Load of "'+t+'" failed');r&&(o=goog.transpile_.call(goog.global,o,t)),e?o=goog.wrapModule_(t,o):o+="\n//# sourceURL="+t,goog.IS_OLD_IE_?(goog.dependencies_.deferred[i]=o,goog.queuedModules_.push(i)):n(t,o)}},goog.transpile_=function(code,path){var jscomp=goog.global.$jscomp;jscomp||(goog.global.$jscomp=jscomp={});var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER,transpilerCode=goog.loadFileSync_(transpilerPath);transpilerCode&&(eval(transpilerCode+"\n//# sourceURL="+transpilerPath),jscomp=goog.global.$jscomp,transpile=jscomp.transpile)}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(t,e){return goog.logToConsole_(e+suffix),t}}return transpile(code,path)},goog.typeOf=function(t){var e=void 0===t?"undefined":(0,_typeof3.default)(t);if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=void 0===t?"undefined":(0,_typeof3.default)(t);return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_)
/** @preserveTry */;try{delete t[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if(t.clone)return t.clone();var r="array"==e?[]:{};for(var i in t)r[i]=goog.cloneObject(t[i]);return r}return t},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,r){if(!t)throw new Error;if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.body.appendChild(r),e.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(t,e){var r,i=function(t){return goog.cssNameMapping_[t]||t};return r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?i:function(t){for(var e=t.split("-"),r=[],n=0;n<e.length;n++)r.push(i(e[n]));return r.join("-")}:function(t){return t},e?t+"-"+r(e):r(t)},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e){return e&&(t=t.replace(/\{\$([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,i){for(var n=new Array(arguments.length-2),o=2;o<arguments.length;o++)n[o-2]=arguments[o];return e.prototype[r].apply(t,n)}},goog.base=function(t,e,r){var i=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i.superClass_){for(var n=new Array(arguments.length-1),o=1;o<arguments.length;o++)n[o-1]=arguments[o];return i.superClass_.constructor.apply(t,n)}var a=new Array(arguments.length-2);for(o=2;o<arguments.length;o++)a[o-2]=arguments[o];for(var s=!1,l=t.constructor;l;l=l.superClass_&&l.superClass_.constructor)if(l.prototype[e]===i)s=!0;else if(s)return l.prototype[e].apply(t,a);if(t[e]===i)return t.constructor.prototype[e].apply(t,a);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var r=e.constructor,i=e.statics;r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var n=goog.defineClass.createSealingConstructor_(r,t);return t&&goog.inherits(n,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),null!=i&&(i instanceof Function?i(n):goog.defineClass.applyProperties_(n,i)),n},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var r=!goog.defineClass.isUnsealable_(e);return function e(){var i=t.apply(this,arguments)||this;return i[goog.UID_PROPERTY_]=i[goog.UID_PROPERTY_],this.constructor===e&&r&&_seal2.default instanceof Function&&(0,_seal2.default)(i),i}},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(t,e){var r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",exports.default=goog},function(t,e,r){t.exports={default:r(560),__esModule:!0}},function(t,e,r){r(561),t.exports=r(25).Object.seal},function(t,e,r){var i=r(74),n=r(345).onFreeze;r(184)("seal",function(t){return function(e){return t&&i(e)?t(n(e)):e}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=e.WebGraphicsInfo=e.VectCls=e.Tangram=e.Rectangle=e.PolyLine=e.Polygon=e.Point2D=e.MultiPolygon=e.LablePntInfo=e.LabelRegInfo=e.LabelLinInfo=e.GRegion=e.GPoint=e.GLine=e.FeatureSet=e.FeatureGraphicBase=e.FeatureGeometry=e.Feature=e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=e.DynShowStyle=e.DynNoteLableType=e.CRegionInfo=e.CPointInfo=e.CLineInfo=e.Circle=e.CGDBInfo=e.CDynNoteInfo=e.CDisplayStyleExtend=e.CDisplayStyle=e.CAttDataRow=e.CAttStruct=e.Zondy=e.Arc=e.AnyLine=void 0;var i=r(256),n=r(563),o=r(0),a=r(187),s=r(564),l=r(565),u=r(366),c=r(361),h=r(367),d=r(567),p=r(188),f=r(257),g=r(258),y=r(362),v=r(360),m=r(45),_=r(368),O=r(370),b=r(189),S=r(372),T=r(260),E=r(259),C=r(261),x=r(364),j=r(365),P=r(363),I=r(568),R=r(56),L=r(373),w=r(569),A=r(369),M=r(95),F=r(570),N=r(371),D=r(6);e.AnyLine=i.AnyLine,e.Arc=n.Arc,e.Zondy=o.Zondy,e.CAttStruct=a.CAttStruct,e.CAttDataRow=s.CAttDataRow,e.CDisplayStyle=l.CDisplayStyle,e.CDisplayStyleExtend=u.CDisplayStyleExtend,e.CDynNoteInfo=c.CDynNoteInfo,e.CGDBInfo=h.CGDBInfo,e.Circle=d.Circle,e.CLineInfo=p.CLineInfo,e.CPointInfo=f.CPointInfo,e.CRegionInfo=g.CRegionInfo,e.DynNoteLableType=y.DynNoteLableType,e.DynShowStyle=v.DynShowStyle,e.XClsType=m.XClsType,e.VectClsType=m.VectClsType,e.FeatureType=m.FeatureType,e.FontShape=m.FontShape,e.LabelLinType=m.LabelLinType,e.LabelRegType=m.LabelRegType,e.LabelPntType=m.LabelPntType,e.RepeatType=m.RepeatType,e.LabelSpreadType=m.LabelSpreadType,e.LineConstrain=m.LineConstrain,e.EightDirType=m.EightDirType,e.ISShowArc=m.ISShowArc,e.NetAnalyType=m.NetAnalyType,e.NetElemType=m.NetElemType,e.CLinAdjustType=m.CLinAdjustType,e.CLinHeadType=m.CLinHeadType,e.CLinJointType=m.CLinJointType,e.CLinStyleMakeType=m.CLinStyleMakeType,e.CItemType=m.CItemType,e.MapType=m.MapType,e.LayerStatusType=m.LayerStatusType,e.Feature=_.Feature,e.FeatureGeometry=O.FeatureGeometry,e.FeatureGraphicBase=b.FeatureGraphicBase,e.FeatureSet=S.FeatureSet,e.GLine=T.GLine,e.GPoint=E.GPoint,e.GRegion=C.GRegion,e.LabelLinInfo=x.LabelLinInfo,e.LabelRegInfo=j.LabelRegInfo,e.LablePntInfo=P.LablePntInfo,e.MultiPolygon=I.MultiPolygon,e.Point2D=R.Point2D,e.Polygon=L.Polygon,e.PolyLine=w.PolyLine,e.Rectangle=A.Rectangle,e.Tangram=M.Tangram,e.VectCls=F.VectCls,e.WebGraphicsInfo=N.WebGraphicsInfo,e.extend=D.extend,e.isArray=D.isArray,e.extendDeep=D.extendDeep,e.copy=D.copy,e.copyExcluce=D.copyExcluce,e.reset=D.reset,e.getElement=D.getElement,e.isElement=D.isElement,e.removeItem=D.removeItem,e.indexOf=D.indexOf,e.modifyDOMElement=D.modifyDOMElement,e.applyDefaults=D.applyDefaults,e.getParameterString=D.getParameterString,e.getWFParameterString=D.getWFParameterString,e.urlAppend=D.urlAppend,e.getParameters=D.getParameters,e.IS_GECKO=D.IS_GECKO,e.Browser=D.Browser,e.getBrowser=D.getBrowser,e.isSupportCanvas=D.isSupportCanvas,e.supportCanvas=D.supportCanvas,e.isInTheSameDomain=D.isInTheSameDomain,e.toJSON=D.toJSON,e.transformResult=D.transformResult,e.copyAttributes=D.copyAttributes,e.copyAttributesWithClip=D.copyAttributesWithClip,e.cloneObject=D.cloneObject,e.newGuid=D.newGuid,e.bind=D.bind,e.bindAsEventListener=D.bindAsEventListener,e.getTopAnalysisResult=D.getTopAnalysisResult,e.ChineseToUtf8=D.ChineseToUtf8,e.DeepMerge=D.DeepMerge,e.merge=D.merge,e.mixin=D.mixin,e.createCanvasContext2D=D.createCanvasContext2D},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var i=r(0),n=r(6),o=function(t,e){this.ArcID=0;var r=void 0!==e?e:{};(0,n.extend)(this,r),this.Dots=void 0!==t&&null!==t?t:null};e.Arc=o,i.Zondy.Object.Arc=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttDataRow=void 0;var i=r(0),n=r(6),o=function(t,e,r){var i=void 0!==r?r:{};(0,n.extend)(this,i),this.FID=void 0!==e?e:0,this.Values=void 0!==t?t:null};e.CAttDataRow=o,i.Zondy.Object.CAttDataRow=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyle=void 0;var i=r(0),n=r(6),o=(r(360),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.ShowStyle=void 0!==e.ShowStyle?e.ShowStyle:null,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow});e.CDisplayStyle=o,i.Zondy.Object.CDisplayStyle=o},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(242));e.default=function(t,e,r){return e in t?(0,i.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(0),u=r(95);r(56);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r,o){(0,n.default)(this,e);var s=o||{},l=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,s));return l.point=void 0!==t&&null!==t?t:null,l.radious=void 0!==r&&null!==r?r:null,l}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){var e=t.getCenter(),r=t.getRadius();this.point=new l.Zondy.Object.Point2D(e[0],e[1]),this.radious=r}}},{key:"toString",value:function(){return null===this.point||0===this.point.length||null===this.radious?"":this.point.x+","+this.point.y+","+this.radious}},{key:"getGeometryType",value:function(){return"Circle"}}]),e}(u.Tangram);e.Circle=h,l.Zondy.Object.Circle=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiPolygon=void 0;var i=h(r(3)),n=h(r(2)),o=h(r(11)),a=h(r(4)),s=h(r(5)),l=r(95),u=r(56),c=r(373);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.polygonArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){this.polygonArr=[];for(var e=t.getLinearRingCount(),r=t.getLinearRings(),i=0;i<e;i++){for(var n=r[i].getCoordinates(),o=n.length,a=[],s=0;s<o;s++)a[s]=new u.Point2D(n[s][0],n[s][1]);this.polygonArr[i]=new c.Polygon(a)}}}},{key:"toString",value:function(){if(void 0===this.polygonArr||null===this.polygonArr||0===this.polygonArr.length)return"";for(var t="",e=0;e<this.polygonArr.length;e++)t+=this.polygonArr[e].toString()+";";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"multiPolygon"}}]),e}(l.Tangram);e.MultiPolygon=d,Zondy.Object.MultiPolygon=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolyLine=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(95),u=r(56);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.nearDis=void 0!==o.nearDis&&null!==o.nearDis?parseFloat(o.nearDis):null,s.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,s}return(0,s.default)(e,t),(0,o.default)(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getCoordinates(),r=e.length,i=0;i<r;i++)this.pointArr[i]=new u.Point2D(e[i][0],e[i][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t=this.pointArr[0].x+","+this.pointArr[0].y,e=1;e<this.pointArr.length;e++)t+=","+this.pointArr[e].x+","+this.pointArr[e].y;return void 0!==this.nearDis&&null!==this.nearDis?t+=";"+this.nearDis:t=t.substring(0,t.length-1),this.Trim(t,"g")}},{key:"getGeometryType",value:function(){return"line"}}]),e}(l.Tangram);e.PolyLine=h,Zondy.Object.PolyLine=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectCls=void 0;var i=r(0),n=r(6),o=r(45),a=(r(187),function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.clsType=void 0!==e.clsType?e.clsType:o.VectClsType.SFCls,this.clsName=void 0!==e.clsName?e.clsName:null,this.geoType=void 0!==e.geoType?e.geoType:1,this.srefName=void 0!==e.srefName?encodeURI(e.srefName):"",this.dsName=void 0!==e.dsName?encodeURI(e.dsName):"",this.attStruct=void 0!==e.attStruct?e.attStruct:null});e.VectCls=a,i.Zondy.Object.VectCls=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=e.NetAnalysisExtent=e.NetAnalyse=e.MeshingParam=e.ContourRegionInfo=e.ContourZValue=e.ContourParam=e.ContourNoteParam=void 0;var i=r(374),n=r(375),o=r(377),a=r(378),s=r(379),l=r(572),u=r(573),c=r(376);e.ContourNoteParam=i.ContourNoteParam,e.ContourParam=n.ContourParam,e.ContourZValue=o.ContourZValue,e.ContourRegionInfo=a.ContourRegionInfo,e.MeshingParam=s.MeshingParam,e.NetAnalyse=l.NetAnalyse,e.NetAnalysisExtent=u.NetAnalysisExtent,e.SlopLineParam=c.SlopLineParam},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalyse=void 0;var i=r(0),n=r(6),o=function(t){var e=void 0!==t?t:{};(0,n.extend)(this,e),this.netCls=void 0!==e.netCls?e.netCls:null,this.flagPosStr=void 0!==e.flagPosStr?e.flagPosStr:null,this.barrierPosStr=void 0!==e.barrierPosStr?e.barrierPosStr:null,this.weight=void 0!==e.weight?e.weight:null,this.mode=void 0!==e.mode?e.mode:null,this.isTour=void 0!==e.isTour&&e.isTour,this.isTravel=void 0!==e.isTravel&&e.isTravel,this.usedTWgt=void 0!==e.usedTWgt&&e.usedTWgt,this.turnWgt=void 0!==e.turnWgt?e.turnWgt:null,this.roadName=void 0!==e.roadName?e.roadName:"name"};e.NetAnalyse=o,i.Zondy.Object.NetAnalyse=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysisExtent=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=(r(6),r(75)),h=r(20);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.netClsUrl=void 0!==r.netClsUrl?r.netClsUrl:null,i.flagPosStr=void 0!==r.flagPosStr?r.flagPosStr:null,i.analyTp=void 0!==r.analyTp?r.analyTp:"UserMode",i.weight=void 0!==r.weight?r.weight:",Weight1,Weight1",i.outFormat=void 0!==r.outFormat?r.outFormat:"JSON",i.elementType=void 0!==r.elementType?r.elementType:2,i.nearDis=void 0!==r.nearDis?r.nearDis:.001,i.barrierPosStr=void 0!==r.barrierPosStr?r.barrierPosStr:null,i.roadName=void 0!==r.roadName?r.roadName:"name",i.baseUrl="igs/rest/netAnaly",i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getNetInfo",value:function(t,e,r,i){null!=t&&void 0!=t||(t="weight"),this.partUrl="netClsInfo?netCls="+this.netClsUrl+"&type="+t;var n=this.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"addNetFlag",value:function(t,e,r,n,o){var a={};null!=n&&"POST"==n.toUpperCase()?(a.dotVal=t,this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&nearDis="+this.nearDis):this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&value="+t+"&nearDis="+this.nearDis;var s=this.getFullUrl(),l=new h.IgsServiceBase(s,{eventListeners:{scope:this,processCompleted:e,processFailed:r}});null!=n&&"POST"==n.toUpperCase()?l.processAsync({method:"POST",data:(0,i.default)(a),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):l.processAsync()}},{key:"netAnalyse",value:function(t,e,r,n){this.partUrl="netAnalyse";var o=this.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"comNetAnalyse",value:function(t,e,r,n){this.partUrl="comNetAnalyse";var o=this.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"pluNetAnalyse",value:function(t,e,r,n){this.partUrl="pluNetAnalyse";var o=this.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.ServiceBase);e.NetAnalysisExtent=p,u.Zondy.Service.NetAnalysisExtent=p},function(t,e,r){r(358),r(353),r(357),r(575),r(587),r(588),t.exports=r(25).Promise},function(t,e,r){"use strict";var i,n,o,a,s=r(138),l=r(37),u=r(135),c=r(386),h=r(66),d=r(74),p=r(182),f=r(576),g=r(577),y=r(387),v=r(262).set,m=r(582)(),_=r(263),O=r(388),b=r(583),S=r(389),T=l.TypeError,E=l.process,C=E&&E.versions,x=C&&C.v8||"",j=l.Promise,P="process"==c(E),I=function(){},R=n=_.f,L=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[r(44)("species")]=function(t){t(I,I)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==x.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),w=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var i=t._v,n=1==t._s,o=0,a=function(e){var r,o,a,s=n?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(n||(2==t._h&&N(t),t._h=1),!0===s?r=i:(c&&c.enter(),r=s(i),c&&(c.exit(),a=!0)),r===e.promise?u(T("Promise-chain cycle")):(o=w(r))?o.call(r,l,u):l(r)):u(i)}catch(t){c&&!a&&c.exit(),u(t)}};r.length>o;)a(r[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){v.call(l,function(){var e,r,i,n=t._v,o=F(t);if(o&&(e=O(function(){P?E.emit("unhandledRejection",n,t):(r=l.onunhandledrejection)?r({promise:t,reason:n}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",n)}),t._h=P||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){v.call(l,function(){var e;P?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},k=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw T("Promise can't be resolved itself");(e=w(t))?m(function(){var i={_w:r,_d:!1};try{e.call(t,u(k,i,1),u(D,i,1))}catch(t){D.call(i,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};L||(j=function(t){f(this,j,"Promise","_h"),p(t),i.call(this);try{t(u(k,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(584)(j.prototype,{then:function(t,e){var r=R(y(this,j));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(k,t,1),this.reject=u(D,t,1)},_.f=R=function(t){return t===j||t===a?new o(t):n(t)}),h(h.G+h.W+h.F*!L,{Promise:j}),r(186)(j,"Promise"),r(585)("Promise"),a=r(25).Promise,h(h.S+h.F*!L,"Promise",{reject:function(t){var e=R(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!L),"Promise",{resolve:function(t){return S(s&&this===a?j:this,t)}}),h(h.S+h.F*!(L&&r(586)(function(t){j.all(t).catch(I)})),"Promise",{all:function(t){var e=this,r=R(e),i=r.resolve,n=r.reject,o=O(function(){var r=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;r.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,r[s]=t,--a||i(r))},n)}),--a||i(r)});return o.e&&n(o.v),r.promise},race:function(t){var e=this,r=R(e),i=r.reject,n=O(function(){g(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return n.e&&i(n.v),r.promise}})},function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var i=r(135),n=r(578),o=r(579),a=r(73),s=r(347),l=r(580),u={},c={};(e=t.exports=function(t,e,r,h,d){var p,f,g,y,v=d?function(){return t}:l(t),m=i(r,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>_;_++)if((y=e?m(a(f=t[_])[0],f[1]):m(t[_]))===u||y===c)return y}else for(g=v.call(t);!(f=g.next()).done;)if((y=n(g,m,f.value,e))===u||y===c)return y}).BREAK=u,e.RETURN=c},function(t,e,r){var i=r(73);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,r){var i=r(139),n=r(44)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},function(t,e,r){var i=r(386),n=r(44)("iterator"),o=r(139);t.exports=r(25).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[i(t)]}},function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var i=r(37),n=r(262).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==r(137)(a);t.exports=function(){var t,e,r,u=function(){var i,n;for(l&&(i=a.domain)&&i.exit();t;){n=t.fn,t=t.next;try{n()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(l)r=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){n.call(i,u)};else{var h=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),r=function(){d.data=h=!h}}return function(i){var n={fn:i,next:void 0};e&&(e.next=n),t||(t=n,r()),e=n}}},function(t,e,r){var i=r(37).navigator;t.exports=i&&i.userAgent||""},function(t,e,r){var i=r(92);t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:i(t,n,e[n]);return t}},function(t,e,r){"use strict";var i=r(37),n=r(25),o=r(83),a=r(84),s=r(44)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:i[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var i=r(44)("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:r=!0}},o[i]=function(){return a},t(o)}catch(t){}return r}},function(t,e,r){"use strict";var i=r(66),n=r(25),o=r(37),a=r(387),s=r(389);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,n.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},function(t,e,r){"use strict";var i=r(66),n=r(263),o=r(388);i(i.S,"Promise",{try:function(t){var e=n.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(r(590));window.Promise=i.default},function(t,e,r){"use strict";var i,n,o=s(r(591)),a=s(r(85));function s(t){return t&&t.__esModule?t:{default:t}}!function(o,s){"object"===(0,a.default)(e)&&void 0!==t?t.exports=s():void 0===(n="function"==typeof(i=s)?i.call(e,r,e,t):i)||(t.exports=n)}(0,function(){var t=setTimeout;function e(){}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var o;try{o=r(t._value)}catch(t){return void n(e.promise,t)}i(e.promise,o)}else(1===t._state?i:n)(e.promise,t._value)})):t._deferreds.push(e)}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":(0,a.default)(e))||"function"==typeof e)){var r=e.then;if(e instanceof u)return t._state=3,t._value=e,void s(t);if("function"==typeof r)return void l(function(t,e){return function(){t.apply(e,arguments)}}(r,e),t)}t._state=1,t._value=e,s(t)}catch(e){n(t,e)}}function n(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)r(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var r=!1;try{t(function(t){r||(r=!0,i(e,t))},function(t){r||(r=!0,n(e,t))})}catch(t){if(r)return;r=!0,n(e,t)}}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}var c=u.prototype;return c.catch=function(t){return this.then(null,t)},c.then=function(t,i){var n=new this.constructor(e);return r(this,new function(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}(t,i,n)),n},u.all=function(t){return new u(function(e,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var n=i.length;function o(t,s){try{if(s&&("object"===(void 0===s?"undefined":(0,a.default)(s))||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){o(t,e)},r)}i[t]=s,0==--n&&e(i)}catch(t){r(t)}}for(var s=0;s<i.length;s++)o(s,i[s])})},u.resolve=function(t){return t&&"object"===(void 0===t?"undefined":(0,a.default)(t))&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,r){r(t)})},u.race=function(t){return new u(function(e,r){for(var i=0,n=t.length;i<n;i++)t[i].then(e,r)})},u._immediateFn="function"==typeof o.default&&function(t){(0,o.default)(t)}||function(e){t(e,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},u})},function(t,e,r){t.exports={default:r(592),__esModule:!0}},function(t,e,r){r(593),t.exports=r(25).setImmediate},function(t,e,r){var i=r(66),n=r(262);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,r){"use strict";var i=o(r(385)),n=o(r(352));function o(t){return t&&t.__esModule?t:{default:t}}!function(e){if(e.__disableNativeFetch||!e.fetch){u.prototype.append=function(t,e){t=s(t),e=l(e);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(e)},u.prototype.delete=function(t){delete this.map[s(t)]},u.prototype.get=function(t){var e=this.map[s(t)];return e?e[0]:null},u.prototype.getAll=function(t){return this.map[s(t)]||[]},u.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},u.prototype.set=function(t,e){this.map[s(t)]=[l(e)]},u.prototype.forEach=function(t,e){(0,n.default)(this.map).forEach(function(r){this.map[r].forEach(function(i){t.call(e,i,r,this)},this)},this)};var r={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},p.call(f.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},e.Headers=u,e.Request=f,e.Response=y,e.fetch=function(t,e){return new i.default(function(i,n){var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var a=new XMLHttpRequest;var s=!1;function l(){if(4===a.readyState){var t=1223===a.status?204:a.status;if(t<100||t>599){if(s)return;return s=!0,void n(new TypeError("Network request failed"))}var e={status:t,statusText:a.statusText,headers:function(t){var e=new u;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var r=t.trim().split(":"),i=r.shift().trim(),n=r.join(":").trim();e.append(i,n)}),e}(a),url:"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0},r="response"in a?a.response:a.responseText;s||(s=!0,i(new y(r,e)))}}a.onreadystatechange=l,a.onload=l,a.onerror=function(){s||(s=!0,n(new TypeError("Network request failed")))},a.open(o.method,o.url,!0);try{"include"===o.credentials&&("withCredentials"in a?a.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(t){console&&console.warn&&console.warn("set withCredentials error:"+t)}"responseType"in a&&r.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0,void 0!==t&&t.exports&&(t.exports=e.fetch)}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):t&&(0,n.default)(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return i.default.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new i.default(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function d(t){var e=new FileReader;return e.readAsArrayBuffer(t),h(e)}function p(){return this.bodyUsed=!1,this._initBody=function(t,e){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(r.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t,this._options=e;else if(r.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},r.blob?(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return i.default.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.default.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(d)},this.text=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return function(t,e){var r=new FileReader,i=e.headers.map["content-type"]?e.headers.map["content-type"].toString():"",n=/charset\=[0-9a-zA-Z\-\_]*;?/,o=t.type.match(n)||i.match(n),a=[t];return o&&a.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),r.readAsText.apply(r,a),h(r)}(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.default.resolve(this._bodyText)}):this.text=function(){var t=c(this);return t||i.default.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t,e){var r=(e=e||{}).body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=function(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r,e)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}}),e}function y(t,e){e||(e={}),this._initBody(t,e),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof u?e.headers:new u(e.headers),this.url=e.url||""}}("undefined"!=typeof self?self:void 0)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=e.IgsServiceBase=e.FetchRequest=e.RequestTimeout=e.CORS=e.Events=e.CommonServiceBase=void 0;var i=r(381),n=r(382),o=r(384),a=r(20),s=r(383);e.CommonServiceBase=i.CommonServiceBase,e.Events=n.Events,e.CORS=o.CORS,e.RequestTimeout=o.RequestTimeout,e.FetchRequest=o.FetchRequest,e.IgsServiceBase=a.IgsServiceBase,e.JSONFormat=s.JSONFormat},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=e.TileLayer=e.CatalogService=e.MapDoc=e.GDBInfo=e.ColorInfo=void 0;var i=r(597),n=r(390),o=r(598),a=r(140),s=r(599),l=r(600);e.ColorInfo=i.ColorInfo,e.GDBInfo=n.GDBInfo,e.MapDoc=o.MapDoc,e.CatalogService=a.CatalogService,e.TileLayer=s.TileLayer,e.VectorLayer=l.VectorLayer},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorInfo=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(140),u=r(20);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.SystemLibID=void 0!==r.SystemLibID?r.SystemLibID:0,o.ColorNO=void 0!==r.ColorNO?r.ColorNO:6,o.Red=void 0!==r.Red?r.Red:0,o.Green=void 0!==r.Green?r.Green:0,o.Blue=void 0!==r.Blue?r.Blue:0,o.addNew=void 0!==r.addNew&&r.addNew,o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getColorNO",value:function(t,e,r){var i=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(i.SystemLibID=t.SystemLibID),void 0!==t.Red&&(i.Red=t.Red),void 0!==t.Green&&(i.Green=t.Green),void 0!==t.Blue&&(i.Blue=t.Blue),void 0!==t.addNew&&(i.addNew=t.addNew)),i.partUrl="ColorLib/getColorNO?f=json&libID="+i.SystemLibID+"&r="+i.Red+"&g="+i.Green+"&b="+i.Blue+"&addNew="+i.addNew;var n=i.getFullUrl();new u.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getColorRGB",value:function(t,e,r){var i=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(i.SystemLibID=t.SystemLibID),void 0!==t.ColorNO&&(i.ColorNO=t.ColorNO)),i.partUrl="ColorLib/getColorRGB?f=json&libID="+i.SystemLibID+"&colorNO="+i.ColorNO;var n=i.getFullUrl();new u.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}}]),e}(l.CatalogService);e.ColorInfo=h,Zondy.Catalog.ColorInfo=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapDoc=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(0),c=r(6),h=r(140),d=r(20);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.docName=void 0!==r.docName?r.docName:null,i.mapIndex=void 0!==r.mapIndex?r.mapIndex:0,i.layerID=void 0!==r.layerID?r.layerID:0,i.version=void 0!==r.version?r.version:2,i.include=void 0!==r.include?r.include:"{includeDetails:true,includeSubs:false}",i.returnFullStyle=void 0!==r.returnFullStyle&&r.returnFullStyle,i.guid=void 0!==r.guid?r.guid:(0,c.newGuid)(),i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getMapDocList",value:function(t,e){this.partUrl="docs?v="+this.version+"&f=json";var r=this.getFullUrl();new d.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getMapDocInfo",value:function(t,e,r,i,n){var o=this;if("boolean"==typeof n&&(o.returnFullStyle=n),"boolean"==typeof e||"boolean"==typeof r){var a={includeDetails:"boolean"!=typeof e||e,includeSubs:"boolean"==typeof r&&r};o.include=(0,c.toJSON)(a)}o.partUrl="docs/"+o.docName+"?include="+o.include+"&returnFullStyle="+o.returnFullStyle+"&guid="+o.guid+"&f=json";var s=o.getFullUrl();new d.IgsServiceBase(s,{eventListeners:{scope:o,processCompleted:t,processFailed:i}}).processAsync()}},{key:"getMapInfo",value:function(t,e,r){var i=this;"boolean"==typeof e&&(i.returnFullStyle=e),i.partUrl="docs/"+i.docName+"/"+i.mapIndex+"?returnFullStyle="+i.returnFullStyle+"&guid="+i.guid+"&f=json";var n=i.getFullUrl();new d.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:t,processFailed:r}}).processAsync()}},{key:"getMapDocTree",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"?tree=true&guid="+r.guid+"&f=json";var i=r.getFullUrl();new d.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerInfo",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/"+r.layerID+"?returnFullStyle="+r.returnFullStyle+"&guid="+r.guid+"&f=json";var i=r.getFullUrl();new d.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayersInfo",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers?f=json";var i=r.getFullUrl();new d.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"deleteLayer",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers/delete?layerIDs="+r.layerID+"&guid="+r.guid+"&f=json";var i=r.getFullUrl();new d.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"addLayer",value:function(t,e,r){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers/add?guid="+n.guid+"&f=json";var o=n.getFullUrl();new d.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"changeIndex",value:function(t,e,r){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers/index?guid="+n.guid+"&f=json";var o=n.getFullUrl();new d.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),header:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"getLegendInfo",value:function(t,e,r,i){this.partUrl="legendInfo/"+this.docName+"?f=json&layerIndexes="+t+"&fields="+e;var n=this.getFullUrl();new d.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:r,processFailed:i}}).processAsync()}}]),e}(h.CatalogService);e.MapDoc=f,u.Zondy.Catalog.MapDoc=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(11)),a=c(r(4)),s=c(r(5)),l=r(140),u=r(20);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.tileName=void 0!==r.tileName?r.tileName:null,o.version=void 0!==r.version?r.version:"2.0",o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"getTileList",value:function(t,e){var r=this;r.partUrl="tiles?f=json",this.version&&("2.0"===r.version?r.partUrl+="&v=2":r.partUrl+="&v="+r.version);var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getTileInfo",value:function(t,e){var r=this;r.partUrl="tiles/"+r.tileName+"?f=json",r.version&&(r.partUrl+="&v="+r.version);var i=r.getFullUrl();new u.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}]),e}(l.CatalogService);e.TileLayer=h,Zondy.Catalog.TileLayer=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(6),c=r(390),h=r(20),d=r(187);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){(0,o.default)(this,e);var r=t||{};return(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r))}return(0,l.default)(e,t),(0,a.default)(e,[{key:"getSfclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/sfcls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/sfcls?user="+r.User+"&psw="+r.Password+"&containAll="+this.containAll+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getAclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/acls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/acls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getOclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ocls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ocls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getNclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ncls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ncls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rds?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rds?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsSfclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/sfcls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/sfcls?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsAclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/acls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/acls?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsOclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ocls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ocls?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsNclsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ncls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ncls?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsListInRcs",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.rcsName+"/rds?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.rcsName+"/rds?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerList",value:function(t,e,r){var i=this;"mapgislocal"===i.serverName.toLowerCase()?i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+t+"?containAll="+i.containAll+"&f=json":i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+t+"?user="+i.User+"&psw="+i.Password+"&containAll="+i.containAll+"&f=json";var n=i.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getLayerListInDS",value:function(t,e,r){var i=this;"mapgislocal"===i.serverName.toLowerCase()?i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+i.dsName+"/"+t+"?f=json":i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+i.dsName+"/"+t+"?user="+i.User+"&psw="+i.Password+"&f=json";var n=i.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getLayerInfo",value:function(t,e,r,i){this.partUrl="layerinfo?gdbpUrl="+t+"&f=json&encryptPassword="+i+"&proj="+this.proj;var n=this.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"CreateVectCls",value:function(t,e,r){var n=this;if(null!==(t=null!==t?t:null)&&null!==n.serverName&&null!==n.gdbName){null!==n.User&&null!==n.Password?n.partUrl="datasource/"+n.User+":"+n.Password+"@":n.partUrl="datasource/",null===t.clsName&&(t.clsName=(0,u.newGuid)()),n.partUrl+=n.serverName+"/"+n.gdbName+"/"+t.clsType+"/"+t.clsName+"/create?geoType="+t.geoType+"&srefName="+t.srefName+"&dsName="+t.dsName+"&f=json",null===t.attStruct&&(t.attStruct=new d.CAttStruct);var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t.attStruct),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deleteXCls",value:function(t,e,r,i){var n=this;if(null!==n.serverName&&null!==n.gdbName&&null!==t&&null!==e){n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+t+"/"+e+"/delete?f=json";var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:r,processFailed:i}}).processAsync()}}}]),e}(c.GDBInfo);e.VectorLayer=f,Zondy.Catalog.VectorLayer=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryServiceBase=e.QueryParameterBase=e.QueryParameter=e.QueryLayerFeature=e.QueryFeatureStruct=e.QueryFeatureRule=e.QueryDocFeature=e.QueryByLayerParameter=e.ObjClsQueryParameter=e.ObjClsQuery=e.MultiGeoQueryParameter=e.MultiGeoQuery=e.EditServiceBase=e.EditLayerFeature=e.EditDocFeature=void 0;var i=r(602),n=r(603),o=r(264),a=r(604),s=r(393),l=r(605),u=r(394),c=r(606),h=r(607),d=r(392),p=r(266),f=r(608),g=r(265),y=r(391),v=r(141);e.EditDocFeature=i.EditDocFeature,e.EditLayerFeature=n.EditLayerFeature,e.EditServiceBase=o.EditServiceBase,e.MultiGeoQuery=a.MultiGeoQuery,e.MultiGeoQueryParameter=s.MultiGeoQueryParameter,e.ObjClsQuery=l.ObjClsQuery,e.ObjClsQueryParameter=u.ObjClsQueryParameter,e.QueryByLayerParameter=c.QueryByLayerParameter,e.QueryDocFeature=h.QueryDocFeature,e.QueryFeatureRule=d.QueryFeatureRule,e.QueryFeatureStruct=p.QueryFeatureStruct,e.QueryLayerFeature=f.QueryLayerFeature,e.QueryParameter=g.QueryParameter,e.QueryParameterBase=y.QueryParameterBase,e.QueryServiceBase=v.QueryServiceBase},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditDocFeature=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(264),h=r(20);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,r,i){(0,o.default)(this,e);var a=i||{},l=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,a));return l.docName=void 0!==t?t:null,l.mapIndex=0,l.layerIndex=void 0!==r?r:0,l}return(0,l.default)(e,t),(0,a.default)(e,[{key:"add",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerIndex+"/addFeatures?f="+n.f+"&guid="+n.guid;var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerIndex+"/updateFeatures?f="+n.f+"&guid="+n.guid;var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,r){var i=this;if(void 0!==t){i.partUrl="docs/"+i.docName+"/"+i.mapIndex+"/"+i.layerIndex+"/deleteFeatures?f="+i.f+"&objectIds="+t+"&guid="+i.guid;var n=i.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}}}]),e}(c.EditServiceBase);e.EditDocFeature=p,u.Zondy.Service.EditDocFeature=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditLayerFeature=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(264),h=r(20);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,r){(0,o.default)(this,e);var i=r||{},a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,i));return a.gdbp=void 0!==t?t:null,a}return(0,l.default)(e,t),(0,a.default)(e,[{key:"add",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="layer/addFeatures?f="+n.f+"&gdbp="+n.gdbp+"&guid="+n.guid;var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="layer/updateFeatures?f="+n.f+"&gdbp="+n.gdbp+"&guid="+n.guid;var o=n.getFullUrl();new h.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,r){var i=this;if(void 0!==t){i.partUrl="layer/deleteFeatures?f="+i.f+"&objectIds="+t+"&gdbp="+i.gdbp+"&guid="+i.guid;var n=i.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:e,processFailed:r}}).processAsync()}}}]),e}(c.EditServiceBase);e.EditLayerFeature=p,u.Zondy.Service.EditLayerFeature=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQuery=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(0),c=r(141),h=r(393),d=r(20);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,r,i,a){(0,o.default)(this,e);var l=a||{},u=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,l));return u.queryParam=t,u.mapName=r,u.mapIndex=0,u.layerIndex=i,u.baseUrl="igs/rest/extend/MultiGeo",u.partUrl="docs/"+u.mapName+"/"+u.mapIndex.toString()+"/"+u.layerIndex+"/Geoquery",u.partUrl+=t.getParameterURL(),u}return(0,l.default)(e,t),(0,a.default)(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof h.MultiGeoQueryParameter){var r=null;"point"===this.queryParam.geometryType?r={pointArr:this.queryParam.geometry}:"line"===this.queryParam.geometryType?r={lineArr:this.queryParam.geometry}:"polygon"===this.queryParam.geometryType&&(r={PolygonObjs:this.queryParam.geometry});var n=this.getFullUrl();new d.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:(0,i.default)(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}}]),e}(c.QueryServiceBase);e.MultiGeoQuery=f,u.Zondy.Service.MultiGeoQuery=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQuery=void 0;var i=d(r(3)),n=d(r(2)),o=d(r(11)),a=d(r(4)),s=d(r(5)),l=r(0),u=r(141),c=r(394),h=r(20);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,r,o){(0,n.default)(this,e);var s=o||{},l=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,s));return l.queryParam=t,l.gdbp=r,l.baseUrl="igs/rest/extend/dxlcz",l.partUrl="objlayer/query?gdbp="+r,l.partUrl+=t.getParameterURL(),l}return(0,s.default)(e,t),(0,o.default)(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof c.ObjClsQueryParameter){var r=this.getFullUrl();new h.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}(u.QueryServiceBase);e.ObjClsQuery=p,l.Zondy.Service.ObjClsQuery=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryByLayerParameter=void 0;var i=h(r(3)),n=h(r(2)),o=h(r(11)),a=h(r(4)),s=h(r(380)),l=h(r(5)),u=r(0),c=r(265);r(266);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,r){(0,n.default)(this,e);var o=r||{},s=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,o));return s.gdbp=void 0!==t?encodeURI(t):null,s}return(0,l.default)(e,t),(0,o.default)(e,[{key:"getParameterURL",value:function(){return(0,s.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"getParameterURL",this).call(this)+"&gdbp="+this.gdbp}},{key:"getParameterObject",value:function(){var t=(0,s.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"getParameterObject",this).call(this,this);return t.gdbp=this.gdbp,t}}]),e}(c.QueryParameter);e.QueryByLayerParameter=d,u.Zondy.Service.QueryByLayerParameter=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryDocFeature=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r,a,s){(0,n.default)(this,e);var l=s||{},u=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,l));return u.queryParam=t,u.docName=r,u.layerIndex=a,u.mapIndex=0,u.partUrl="docs/"+u.docName+"/"+u.mapIndex.toString()+"/"+u.layerIndex.toString()+"/query",u}return(0,a.default)(e,t),e}(r(141).QueryServiceBase);e.QueryDocFeature=u,s.Zondy.Service.QueryDocFeature=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryLayerFeature=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{},s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.queryParam=t,s.partUrl="layer/query",s}return(0,a.default)(e,t),e}(r(141).QueryServiceBase);e.QueryLayerFeature=u,s.Zondy.Service.QueryLayerFeature=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=e.ProjectBySRID=e.ProjectByLayer=e.ProjectBase=e.OverlayByPolygon=e.OverlayByLayer=e.OverlayBase=e.NetAnalysis=e.FeatureBuffBySingleRing=e.FeatureBuffByMultiplyRing=e.FeatureBuffBase=e.ContourAnalyse=e.ClipByPolygon=e.ClipByLayer=e.ClipByCircle=e.ClipBase=e.ClassBufferBySingleRing=e.ClassBufferByMultiplyRing=e.ClassBufferBase=e.AnalysisBase=void 0;var i=r(76),n=r(267),o=r(610),a=r(611),s=r(190),l=r(612),u=r(613),c=r(614),h=r(615),d=r(268),p=r(616),f=r(617),g=r(618),y=r(269),v=r(619),m=r(620),_=r(270),O=r(621),b=r(622),S=r(623);e.AnalysisBase=i.AnalysisBase,e.ClassBufferBase=n.ClassBufferBase,e.ClassBufferByMultiplyRing=o.ClassBufferByMultiplyRing,e.ClassBufferBySingleRing=a.ClassBufferBySingleRing,e.ClipBase=s.ClipBase,e.ClipByCircle=l.ClipByCircle,e.ClipByLayer=u.ClipByLayer,e.ClipByPolygon=c.ClipByPolygon,e.ContourAnalyse=h.ContourAnalyse,e.FeatureBuffBase=d.FeatureBuffBase,e.FeatureBuffByMultiplyRing=p.FeatureBuffByMultiplyRing,e.FeatureBuffBySingleRing=f.FeatureBuffBySingleRing,e.NetAnalysis=g.NetAnalysis,e.OverlayBase=y.OverlayBase,e.OverlayByLayer=v.OverlayByLayer,e.OverlayByPolygon=m.OverlayByPolygon,e.ProjectBase=_.ProjectBase,e.ProjectByLayer=O.ProjectByLayer,e.ProjectBySRID=b.ProjectBySRID,e.FunctionWareService=S.FunctionWareService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferByMultiplyRing=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.flowID="600232",a.radiusStr=void 0!==r.radiusStr?r.radiusStr:"2,4,8,10",a}return(0,a.default)(e,t),e}(r(267).ClassBufferBase);e.ClassBufferByMultiplyRing=u,s.Zondy.Service.ClassBufferByMultiplyRing=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBySingleRing=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.leftRad=void 0!==r.leftRad?r.leftRad:.001,a.rightRad=void 0!==r.rightRad?r.rightRad:.001,a.isByAtt=void 0===r.isByAtt||r.isByAtt,a.fldName=void 0!==r.fldName?r.fldName:null,a.dynPrjRad=void 0!==r.dynPrjRad?r.dynPrjRad:0,a.flowID="600231",a}return(0,a.default)(e,t),e}(r(267).ClassBufferBase);e.ClassBufferBySingleRing=u,s.Zondy.Service.ClassBufferBySingleRing=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByCircle=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,a.center=void 0!==r.center?r.center:null,a.radius=void 0!==r.radius?r.radius:null,a.step=void 0!==r.step?r.step:.001,a.flowID="600229",a}return(0,a.default)(e,t),e}(r(190).ClipBase);e.ClipByCircle=u,s.Zondy.Service.ClipByCircle=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByLayer=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo1=void 0!==r.srcInfo1?r.srcInfo1:null,a.srcInfo2=void 0!==r.srcInfo2?r.srcInfo2:null,a.flowID="600230",a}return(0,a.default)(e,t),e}(r(190).ClipBase);e.ClipByLayer=u,s.Zondy.Service.ClipByLayer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByPolygon=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,a.strPos=void 0!==r.strPos?r.strPos:null,a.flowID="600228",a}return(0,a.default)(e,t),e}(r(190).ClipBase);e.ClipByPolygon=u,s.Zondy.Service.ClipByPolygon=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourAnalyse=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(4)),a=u(r(5)),s=r(0),l=(r(6),r(76));r(20),r(379),r(375);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.flowID="600320",a.linSfclsURL=void 0!==r.linSfclsURL?r.linSfclsURL:null,a.regSfclsURL=void 0!==r.regSfclsURL?r.regSfclsURL:null,a.annoClsURL=void 0!==r.annoClsURL?r.annoClsURL:null,a.meshingParam=void 0!==r.meshingParam?r.meshingParam:null,a.contourParam=void 0!==r.contourParam?r.contourParam:null,a}return(0,a.default)(e,t),e}(l.AnalysisBase);e.ContourAnalyse=c,s.Zondy.Service.ContourAnalyse=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffByMultiplyRing=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.radiusStr=void 0!==r.radiusStr?r.radiusStr:"0.003,0.002,0.001",a.flowID="600239",a}return(0,a.default)(e,t),e}(r(268).FeatureBuffBase);e.FeatureBuffByMultiplyRing=u,s.Zondy.Service.FeatureBuffByMultiplyRing=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBySingleRing=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.leftRad=void 0!==r.leftRad?r.leftRad:.001,a.rightRad=void 0!==r.rightRad?r.rightRad:.001,a.flowID="600238",a}return(0,a.default)(e,t),e}(r(268).FeatureBuffBase);e.FeatureBuffBySingleRing=u,s.Zondy.Service.FeatureBuffBySingleRing=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysis=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(76),u=r(45);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.netClsUrl=void 0!==r.netClsUrl?r.netClsUrl:null,a.flagPosStr=void 0!==r.flagPosStr?r.flagPosStr:null,a.barrierPosStr=void 0!==r.barrierPosStr?r.barrierPosStr:null,a.analyType=void 0!==r.analyType?r.analyType:u.NetAnalyType.UserMode,a.weight=void 0!==r.weight?r.weight:",Weight1,Weight1",a.elementType=void 0!==r.elementType?r.elementType:u.NetElemType.Edge,a.nearDis=void 0!==r.nearDis?r.nearDis:.001,a.outFormat=void 0!==r.outFormat?r.outFormat:"json",a.flowID="600233",a}return(0,a.default)(e,t),e}(l.AnalysisBase);e.NetAnalysis=h,s.Zondy.Service.NetAnalysis=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByLayer=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.srcInfo2=void 0!==r.srcInfo2?r.srcInfo2:null,a.flowID="600227",a}return(0,a.default)(e,t),e}(r(269).OverlayBase);e.OverlayByLayer=u,s.Zondy.Service.OverlayByLayer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByPolygon=void 0;var i=l(r(3)),n=l(r(2)),o=l(r(4)),a=l(r(5)),s=r(0);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){(0,n.default)(this,e);var r=t||{},a=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return a.strGRegionXML=void 0!==r.strGRegionXML?r.strGRegionXML:null,a.inFormat=void 0!==r.inFormat?r.inFormat:"json",a.flowID="600237",a}return(0,a.default)(e,t),e}(r(269).OverlayBase);e.OverlayByPolygon=u,s.Zondy.Service.OverlayByPolygon=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectByLayer=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(270),u=r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{};(0,u.extend)(a,t);var s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.flowID="600235",s}return(0,a.default)(e,t),e}(l.ProjectBase);e.ProjectByLayer=h,s.Zondy.Service.ProjectByLayer=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBySRID=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(270),u=r(6);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{};(0,u.extend)(a,t);var s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.flowID="600234",s.srID=void 0!==a.srID?a.srID:32,s}return(0,a.default)(e,t),e}(l.ProjectBase);e.ProjectBySRID=h,s.Zondy.Service.ProjectBySRID=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(0),c=r(76),h=r(20),d=r(6);function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.guid=r.guid?r.guid:(0,d.newGuid)(),i.f=void 0!==r.f?r.f:"json",i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"executeWorkFlow",value:function(t,e,r,n,o,a){r||(r=!1);var s={};null!==a&&"POST"===a.toUpperCase()?(s.paraValues=e,this.partUrl="execute/"+t+"?f="+this.f+"&isAsy="+r+"&guid="+this.guid):this.partUrl="execute/"+t+"?paraValues="+e+"&f="+this.f+"&isAsy="+r+"&guid="+this.guid;var l=this.getFullUrl(),u=new h.IgsServiceBase(l,{eventListeners:{scope:this,processCompleted:n,processFailed:o}});null!==a&&"POST"===a.toUpperCase()?u.processAsync({method:"POST",data:(0,i.default)(s)}):u.processAsync()}},{key:"getInstanceMessage",value:function(t,e,r){this.partUrl="instanceLogs/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getInstanceOutPutValue",value:function(t,e,r,i){this.partUrl="outputvalues/"+t+"?name="+e+"&f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:r,processFailed:i}}).processAsync()}},{key:"getInstanceResult",value:function(t,e,r){this.partUrl="results/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getInstanceStatus",value:function(t,e,r){this.partUrl="status/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getWorkFlowGroups",value:function(t,e){this.partUrl="groups/?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new h.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfoByID",value:function(t,e,r){this.partUrl="workflows/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getWorkFlowInfos",value:function(t,e){this.partUrl="workflows?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new h.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfosByGroup",value:function(t,e,r){this.partUrl="workflowsbygroup/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getFolder1",value:function(t,e){this.partUrl="folderInfos?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new h.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder2",value:function(t,e){this.partUrl="folderInfos/workflow?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new h.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder3",value:function(t,e,r){this.partUrl="folderInfos/workflow/"+t+"?f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new h.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}}]),e}(c.AnalysisBase);e.FunctionWareService=f,u.Zondy.Service.FunctionWareService=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=e.TopAnalysis=e.Smooth=e.ProjectRang=e.ProjectDots=e.GeometryAnalysisBase=e.CProjectParam=e.CProjectBySRSID=e.CalServiceBase=e.CalPolyLineLength=e.CalArea=void 0;var i=r(625),n=r(626),o=r(271),a=r(273),s=r(272),l=r(96),u=r(627),c=r(628),h=r(629),d=r(630),p=r(395);e.CalArea=i.CalArea,e.CalPolyLineLength=n.CalPolyLineLength,e.CalServiceBase=o.CalServiceBase,e.CProjectBySRSID=a.CProjectBySRSID,e.CProjectParam=s.CProjectParam,e.GeometryAnalysisBase=l.GeometryAnalysisBase,e.ProjectDots=u.ProjectDots,e.ProjectRang=c.ProjectRang,e.Smooth=h.Smooth,e.TopAnalysis=d.TopAnalysis,e.CoordinateElpTrans=p.CoordinateElpTrans},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalArea=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(271),u=r(6);r(56);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{};(0,u.extend)(a,{dots:t});var s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.partUrl="geomservice/calArea?f=json",s}return(0,a.default)(e,t),e}(l.CalServiceBase);e.CalArea=h,s.Zondy.Service.CalArea=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalPolyLineLength=void 0;var i=c(r(3)),n=c(r(2)),o=c(r(4)),a=c(r(5)),s=r(0),l=r(271),u=r(6);r(56);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,r){(0,n.default)(this,e);var a=r||{};(0,u.extend)(a,{dots:t});var s=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this,a));return s.partUrl="geomservice/calLength?f=json",s}return(0,a.default)(e,t),e}(l.CalServiceBase);e.CalPolyLineLength=h,s.Zondy.Service.CalPolyLineLength=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectDots=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(96),h=(r(56),r(272),r(20));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,r,i,a){(0,o.default)(this,e);var l=a||{},u=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,l));return u.InputDots=t,u.SrcProjParam=r,u.DesProjParm=i,u}return(0,l.default)(e,t),(0,a.default)(e,[{key:"execute",value:function(t,e){this.partUrl="geomservice/projectdots?f=json";var r={};r.InputDots=this.InputDots,r.SrcProjParam=this.SrcProjParam,r.DesProjParm=this.DesProjParm;var n=this.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:(0,i.default)(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.GeometryAnalysisBase);e.ProjectDots=p,u.Zondy.Service.ProjectDots=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectRang=void 0;var i=h(r(3)),n=h(r(2)),o=h(r(11)),a=h(r(4)),s=h(r(5)),l=r(0),u=r(96),c=r(20);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.gdbsvrName=void 0!==r.gdbsvrName?r.gdbsvrName:"MapGISLocal",o.gdbName=void 0!==r.gdbName?r.gdbName:null,o.srefID=void 0!==r.srefID?r.srefID:0,o.desfID=void 0!==r.desfID?r.desfID:0,o.userName=void 0!==r.userName?r.userName:null,o.password=void 0!==r.password?r.password:null,o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"execute",value:function(t,e,r){var i="";t&&(i=t.xmin+"$"+t.ymin+"$"+t.xmax+"$"+t.ymax),null===this.userName||null===this.password?this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+i:this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+i+"&userName="+this.userName+"&password="+this.password;var n=this.getFullUrl();new c.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}}]),e}(u.GeometryAnalysisBase);e.ProjectRang=d,l.Zondy.Service.ProjectRang=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(96),h=(r(56),r(20));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.type=void 0!==r.type?r.type:0,i.step=void 0!==r.step?r.step:1,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"setType",value:function(t){this.type=t}},{key:"setStep",value:function(t){this.step=t}},{key:"execute",value:function(t,e,r){if(2==this.type){if(t.length<4)return void alert("Beizer")}else if(t.length<3)return void alert("");this.partUrl="geomservice/smooth?f=json&type="+this.type+"&step="+this.step;var n=this.getFullUrl();new h.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:(0,i.default)(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.GeometryAnalysisBase);e.Smooth=p,u.Zondy.Service.Smooth=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopAnalysis=void 0;var i=p(r(24)),n=p(r(3)),o=p(r(2)),a=p(r(11)),s=p(r(4)),l=p(r(5)),u=r(0),c=r(96),h=r(20),d=(r(259),r(260),r(261),r(6));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.pnt=void 0!==r.pnt?r.pnt:null,i.line=void 0!==r.line?r.line:null,i.reg=void 0!==r.reg?r.reg:null,i.nearDis=void 0!==r.nearDis?r.nearDis:.01,i.relativeObj=void 0!==r.relativeObj?r.relativeObj:null,i.p_onSuccess=void 0!==r.p_onSuccess?r.p_onSuccess:null,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"setPnt",value:function(t){this.pnt=t}},{key:"setLine",value:function(t){this.line=t}},{key:"setReg",value:function(t){this.reg=t}},{key:"setRelativeObj",value:function(t){this.relativeObj=t}},{key:"onGetRltSuccess",value:function(t){var e=(0,d.getTopAnalysisResult)(t);this.p_onSuccess(e)}},{key:"execute",value:function(t,e){(o=this).p_onSuccess=t;var r={};r.NearDis=this.nearDis,r.Pnt=this.pnt,r.Line=this.line,r.Reg=this.reg,r.RelativeObj=this.relativeObj,o.partUrl="geomservice/topanalysis?f=json";var n=o.getFullUrl(),o=this;new h.IgsServiceBase(n,{eventListeners:{scope:o,processCompleted:o.onGetRltSuccess,processFailed:e}}).processAsync({method:"POST",data:(0,i.default)(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.GeometryAnalysisBase);e.TopAnalysis=f,u.Zondy.Service.TopAnalysis=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=e.GetTileImageService=e.GetMapInfoService=e.GetMapImageService=e.GetLayerImageService=e.GetDocImageService=void 0;var i=r(632),n=r(633),o=r(634),a=r(635),s=r(636),l=r(113);e.GetDocImageService=i.GetDocImageService,e.GetLayerImageService=n.GetLayerImageService,e.GetMapImageService=o.GetMapImageService,e.GetMapInfoService=a.GetMapInfoService,e.GetTileImageService=s.GetTileImageService,e.MapServiceBase=l.MapServiceBase},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetDocImageService=void 0;var i=d(r(24)),n=d(r(3)),o=d(r(2)),a=d(r(11)),s=d(r(4)),l=d(r(5)),u=r(0),c=r(113),h=(r(273),r(6));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.docName=void 0!==r.docName?r.docName:null,i.cache=void 0!==r.cache&&r.cache,i.cache?(i.level=void 0!==r.level?r.level:0,i.row=void 0!==r.row?r.row:0,i.col=void 0!==r.col?r.col:0,i.update=void 0!==r.update&&r.update):(i.layers=void 0!==r.layers?r.layers:null,i.style=void 0!==r.style?r.style:null,i.picType=void 0!==r.picType?r.picType:"gif",i.bbox=void 0!==r.bbox?r.bbox:null,i.filters=void 0!==r.filters?r.filters:null,i.picWidth=void 0!==r.picWidth?r.picWidth:512,i.picHeight=void 0!==r.picHeight?r.picHeight:512,i.proj=void 0!==r.proj?r.proj:null,i.guid=void 0!==r.guid?r.guid:(0,h.newGuid)()),i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"GetMapImage",value:function(){return this.docName?(!0===this.cache?this.partUrl="docs/"+this.docName+"?cache="+this.cache.toString()+"&level="+this.level+"&row="+this.row+"&col="+this.col+"&update="+this.update.toString():(this.partUrl="docs/"+this.docName+"?",null!==this.bbox&&(this.partUrl+="bbox="+this.bbox),null!==this.picWidth&&(this.partUrl+="&w="+this.picWidth),null!==this.picHeight&&(this.partUrl+="&h="+this.picHeight),null!==this.layers&&(this.partUrl+="&layers="+this.layers),null!==this.filters&&(this.partUrl+="&filters="+encodeURI(this.filters)),null!==this.style&&(this.partUrl+="&style="+(0,i.default)(this.style)),null!==this.proj&&(this.partUrl+="&proj="+(0,i.default)(this.proj)),null!==this.picType&&(this.partUrl+="&f="+this.picType),null!==this.guid&&(this.partUrl+="&guid="+this.guid)),this.getFullUrl()):null}}]),e}(c.MapServiceBase);e.GetDocImageService=p,u.Zondy.Service.GetDocImageService=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetLayerImageService=void 0;var i=h(r(24)),n=h(r(3)),o=h(r(2)),a=h(r(11)),s=h(r(4)),l=h(r(5)),u=r(0),c=r(113);r(366);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,o.default)(this,e);var r=t||{},i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.gdbps=void 0!==r.gdbps?r.gdbps:null,i.picType=void 0!==r.picType?r.picType:"gif",i.style=void 0!==r.style?r.style:null,i.bbox=void 0!==r.bbox?r.bbox:null,i.filters=void 0!==r.filters?r.filters:null,i.picWidth=void 0!==r.picWidth?r.picWidth:512,i.picHeight=void 0!==r.picHeight?r.picHeight:512,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"GetLayerImage",value:function(){if(null!==this.gdbps&&null!==this.picWidth&&null!==this.picHeight){this.partUrl="layers?f="+this.picType,this.partUrl+="&gdbps=",this.gdbps.split(",");for(var t=this.gdbps.split(","),e=0;e<t.length;e++)this.partUrl+=t[e],e<t.length-1&&(this.partUrl+=",");return null!==this.style&&(this.partUrl+="&style="+(0,i.default)(this.style)),null!==this.filters&&(this.partUrl+="&filters="+this.filters),null!==this.bbox&&(this.partUrl+="&bbox="+this.bbox),this.partUrl+="&w="+this.picWidth,this.partUrl+="&h="+this.picHeight,this.getFullUrl()}return null}}]),e}(c.MapServiceBase);e.GetLayerImageService=d,u.Zondy.Service.GetLayerImageService=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapImageService=void 0;var i=h(r(3)),n=h(r(2)),o=h(r(11)),a=h(r(4)),s=h(r(5)),l=r(0),u=r(113),c=r(45);function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.mapName=void 0!==r.mapName?r.mapName:null,o.mapType=void 0!==r.mapType?r.mapType:c.MapType.Doc,o.mapType===c.MapType.Tile?(o.level=void 0!==r.level?r.level:0,o.row=void 0!==r.row?r.row:0,o.col=void 0!==r.col?r.col:0):(o.picType=void 0!==r.picType?r.picType:"gif",o.picWidth=void 0!==r.picWidth?r.picWidth:512,o.picHeight=void 0!==r.picHeight?r.picHeight:512,o.xmin=void 0!==r.xmin?r.xmin:null,o.xmax=void 0!==r.xmax?r.xmax:null,o.ymin=void 0!==r.ymin?r.ymin:null,o.ymax=void 0!==r.ymax?r.ymax:null),o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"GetImage",value:function(){return this.mapName?(this.mapType===c.MapType.Tile?this.partUrl="tile/"+this.mapName+"?lvl="+this.level+"&row="+this.row+"&col="+this.col:(this.partUrl="map/"+this.mapName+"?width="+this.picWidth+"&height="+this.picHeight+"&f="+this.picType,null!==this.xmin&&null!==this.xmax&&null!==this.ymin&&null!==this.ymax&&(this.partUrl+="&xmin="+this.xmin+"&ymin="+this.ymin+"&xmax="+this.xmax+"&ymax="+this.ymax)),this.getFullUrl()):null}}]),e}(u.MapServiceBase);e.GetMapImageService=d,l.Zondy.Service.GetMapImageService=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapInfoService=void 0;var i=d(r(3)),n=d(r(2)),o=d(r(11)),a=d(r(4)),s=d(r(5)),l=r(0),u=r(113),c=r(20),h=r(6);function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.mapName=void 0!==r.mapName?r.mapName:null,o.guid=void 0!==r.guid?r.guid:(0,h.newGuid)(),o.token=r.token,o.type=r.type,o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"GetMapInfo",value:function(t,e){var r=this;if(r.mapName){r.partUrl="info/"+this.mapName;var i=[];r.guid&&i.push("guid="+r.guid),this.token&&i.push("token="+r.token),this.type&&i.push("type="+r.type),i.length>0&&(r.partUrl+="?"+i.join("&"));var n=r.getFullUrl();new c.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}(u.MapServiceBase);e.GetMapInfoService=p,l.Zondy.Service.GetMapInfoService=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetTileImageService=void 0;var i=u(r(3)),n=u(r(2)),o=u(r(11)),a=u(r(4)),s=u(r(5)),l=r(0);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){(0,n.default)(this,e);var r=t||{},o=(0,a.default)(this,(e.__proto__||(0,i.default)(e)).call(this,r));return o.hdfName=void 0!==r.hdfName?r.hdfName:null,o.level=void 0!==r.level?r.level:0,o.row=void 0!==r.row?r.row:0,o.col=void 0!==r.col?r.col:0,o}return(0,s.default)(e,t),(0,o.default)(e,[{key:"GetTileImage",value:function(){return void 0!==this.hdfName?(this.partUrl="tile/"+this.hdfName+"/"+this.level+"/"+this.row+"/"+this.col,this.getFullUrl()):null}}]),e}(r(113).MapServiceBase);e.GetTileImageService=c,l.Zondy.Service.GetTileImageService=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=e.ThemeOper=e.ItemValue=e.FolderInfoAttribute=e.FolderInfo=e.ExpInfo=e.CUniqueThemeInfo=e.CUniqueTheme=e.CThemeInfo=e.CTheme=e.CSimpleTheme=e.CRegInfo=e.CRangeThemeInfo=e.CRangeTheme=e.CRandomTheme=e.CPntInfo=e.CMultiClassTheme=e.CLinInfo=e.CGraduatedSymbolTheme=e.CFourColorTheme=e.CDotDensityTheme=e.CChartType=e.CChartThemeRepresentInfo=e.CChartThemeInfo=e.CChartTheme=e.CChartLabelFormat=e.CAnnInfo=e.CAllOtherDataItemInfoSource=void 0;var i=r(396),n=r(397),o=r(398),a=r(399),s=r(401),l=r(404),u=r(400),c=r(405),h=r(406),d=r(407),p=r(402),f=r(408),g=r(191),y=r(410),v=r(411),m=r(412),_=r(403),O=r(413),b=r(57),S=r(86),T=r(414),E=r(415),C=r(409),x=r(416),j=r(274),P=r(638),I=r(639),R=r(417);e.CAllOtherDataItemInfoSource=i.CAllOtherDataItemInfoSource,e.CAnnInfo=n.CAnnInfo,e.CChartLabelFormat=o.CChartLabelFormat,e.CChartTheme=a.CChartTheme,e.CChartThemeInfo=s.CChartThemeInfo,e.CChartThemeRepresentInfo=l.CChartThemeRepresentInfo,e.CChartType=u.CChartType,e.CDotDensityTheme=c.CDotDensityTheme,e.CFourColorTheme=h.CFourColorTheme,e.CGraduatedSymbolTheme=d.CGraduatedSymbolTheme,e.CLinInfo=p.CLinInfo,e.CMultiClassTheme=f.CMultiClassTheme,e.CPntInfo=g.CPntInfo,e.CRandomTheme=y.CRandomTheme,e.CRangeTheme=v.CRangeTheme,e.CRangeThemeInfo=m.CRangeThemeInfo,e.CRegInfo=_.CRegInfo,e.CSimpleTheme=O.CSimpleTheme,e.CTheme=b.CTheme,e.CThemeInfo=S.CThemeInfo,e.CUniqueTheme=T.CUniqueTheme,e.CUniqueThemeInfo=E.CUniqueThemeInfo,e.ExpInfo=C.ExpInfo,e.FolderInfo=x.FolderInfo,e.FolderInfoAttribute=j.FolderInfoAttribute,e.ItemValue=P.ItemValue,e.ThemeOper=I.ThemeOper,e.ThemesInfo=R.ThemesInfo},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemValue=void 0;var i=r(0),n=r(6),o=r(45),a=function(t,e,r,i){var a=void 0!==i?i:{};(0,n.extend)(this,a),this.StartValue=void 0!==t?t:"",this.EndValue=void 0!==e?e:"",this.ClassItemType=void 0!==r?r:o.CItemType.RangeTheme};e.ItemValue=a,i.Zondy.Object.Theme.ItemValue=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeOper=void 0;var i=C(r(24)),n=C(r(3)),o=C(r(2)),a=C(r(11)),s=C(r(4)),l=C(r(5)),u=r(0),c=r(75),h=r(6),d=r(20),p=r(408),f=r(413),g=r(399),y=r(407),v=r(405),m=r(410),_=r(406),O=r(414),b=r(411),S=r(274),T=r(416),E=r(417);function C(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function e(t,r){(0,o.default)(this,e),(r=r||{}).baseUrl="igs/rest/theme";var i=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,r));return i.guid=null!==t?t:(0,h.newGuid)(),i.p_onSuccess=void 0!==r.p_onSuccess?r.p_onSuccess:null,i}return(0,l.default)(e,t),(0,a.default)(e,[{key:"onGetThemesInfoSuccess",value:function(t){var e=new T.FolderInfo;if((0,h.extendDeep)(e,t.result||t),null!==e&&null!==e.attribute&&e.attribute.length>0){for(var r=[],i=null,n=0;n<e.attribute.length;n++)if(r[n]=new E.ThemesInfo,null!==e.attribute[n]&&(r[n].LayerName=e.attribute[n].name,null!==(i=JSON.parse(e.attribute[n].value))&&i.length>0)){r[n].ThemeArr=[];for(var o=0;o<i.length;o++){switch(i[o].name){case"CMultiClassTheme":r[n].ThemeArr[o]=new p.CMultiClassTheme;break;case"CSimpleTheme":r[n].ThemeArr[o]=new f.CSimpleTheme;break;case"CChartTheme":r[n].ThemeArr[o]=new g.CChartTheme;break;case"CGraduatedSymbolTheme":r[n].ThemeArr[o]=new y.CGraduatedSymbolTheme;break;case"CDotDensityTheme":r[n].ThemeArr[o]=new v.CDotDensityTheme;break;case"CRandomTheme":r[n].ThemeArr[o]=new m.CRandomTheme;break;case"CFourColorTheme":r[n].ThemeArr[o]=new _.CFourColorTheme;break;case"CUniqueTheme":r[n].ThemeArr[o]=new O.CUniqueTheme;break;case"CRangeTheme":r[n].ThemeArr[o]=new b.CRangeTheme}(0,h.extendDeep)(r[n].ThemeArr[o],JSON.parse(i[o].value))}}null!==this.p_onSuccess&&"function"==typeof this.p_onSuccess&&this.p_onSuccess(r)}}},{key:"getThemesInfo",value:function(t,e,r,i){var n=this;n.p_onSuccess=r;var o=Math.random();n.partUrl=t+"/get?idxArr="+e+"&r="+o+"&guid="+n.guid;var a=n.getFullUrl();new d.IgsServiceBase(a,{eventListeners:{scope:n,processCompleted:n.onGetThemesInfoSuccess,processFailed:i}}).processAsync()}},{key:"removeThemesInfo",value:function(t,e,r,i){var n=Math.random();this.partUrl=t+"/remove?idxArr="+e+"&r="+n+"&guid="+this.guid;var o=this.getFullUrl();new d.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:r,processFailed:i}}).processAsync()}},{key:"updateThemesInfo",value:function(t,e,r,n,o){Math.random();this.partUrl=t+"/update?idxArr="+e+"&guid="+this.guid;var a=this.getFullUrl(),s=new T.FolderInfo;if(null!==r&&r.length>0){s.name="ThemeInfo",s.attribute=[];for(var l=0;l<r.length;l++)if(s.attribute[l]=new S.FolderInfoAttribute,s.attribute[l].name=r[l].LayerName,null!==r[l].ThemeArr&&r[l].ThemeArr.length>0){for(var u=[],c=0;c<r[l].ThemeArr.length;c++)null!==r[l].ThemeArr[c]&&(u[c]=new S.FolderInfoAttribute(r[l].ThemeArr[c].Type,(0,i.default)(r[l].ThemeArr[c])));s.attribute[l].value=(0,i.default)(u)}}new d.IgsServiceBase(a,{eventListeners:{scope:this,processCompleted:n,processFailed:o}}).processAsync({method:"POST",data:(0,i.default)(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"addThemesInfo",value:function(t,e,r,n,o){Math.random();this.partUrl=t+"/add?idxArr="+e+"&guid="+this.guid;var a=this.getFullUrl(),s=new T.FolderInfo;if(null!==r&&r.length>0){s.name="ThemeInfo",s.attribute=[];for(var l=0;l<r.length;l++)if(s.attribute[l]=new S.FolderInfoAttribute,s.attribute[l].name=r[l].LayerName,null!==r[l].ThemeArr&&r[l].ThemeArr.length>0){for(var u=[],c=0;c<r[l].ThemeArr.length;c++)null!==r[l].ThemeArr[c]&&(u[c]=new S.FolderInfoAttribute(r[l].ThemeArr[c].Type,(0,i.default)(r[l].ThemeArr[c])));s.attribute[l].value=(0,i.default)(u)}}new d.IgsServiceBase(a,{eventListeners:{scope:this,processCompleted:n,processFailed:o}}).processAsync({method:"POST",data:(0,i.default)(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}(c.ServiceBase);e.ThemeOper=x,u.Zondy.Service.ThemeOper=x}]);